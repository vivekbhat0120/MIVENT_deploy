/*! For license information please see main.09decef9.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var a=n(43),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,i={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,a)&&!l.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===i[a]&&(i[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=x.prototype=new y;b.constructor=x,f(b,g.prototype),b.isPureReactComponent=!0;var j=Array.isArray,_=Object.prototype.hasOwnProperty,w={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&!N.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=a;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:w.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,r,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return s=s(l=e),e=""===i?"."+E(l,0):i,j(s)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),P(s,t,r,"",function(e){return e})):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",j(e))for(var c=0;c<e.length;c++){var d=i+E(o=e[c],c);l+=P(o,t,r,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,r,d=i+E(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var a=[],r=0;return P(e,a,"","",function(e){return t.call(n,e,r++)}),a}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},L={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:L,ReactCurrentOwner:w};t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=s,t.PureComponent=x,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!N.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<i(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,s=r>>>1;a<s;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,n))c<r&&0>i(d,l)?(e[a]=d,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<r&&0>i(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,f=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function j(e){if(v=!1,b(e),!f)if(null!==a(c))f=!0,L(_);else{var t=a(d);null!==t&&D(j,t.startTime-e)}}function _(e,n){f=!1,v&&(v=!1,y(k),k=-1),p=!0;var i=m;try{for(b(n),h=a(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var s=h.callback;if("function"===typeof s){h.callback=null,m=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===a(c)&&r(c),b(n)}else r(c);h=a(c)}if(null!==h)var l=!0;else{var u=a(d);null!==u&&D(j,u.startTime-n),l=!1}return l}finally{h=null,m=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,N=!1,S=null,k=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function A(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?w():(N=!1,S=null)}}else N=!1}if("function"===typeof x)w=function(){x(A)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,O=T.port2;T.port1.onmessage=A,w=function(){O.postMessage(null)}}else w=function(){g(A,0)};function L(e){S=e,N||(N=!0,w())}function D(e,n){k=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,L(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(d,e),null===a(c)&&e===a(d)&&(v?(y(k),k=-1):v=!0,D(j,i-s))):(e.sortIndex=o,n(c,e),f||p||(f=!0,L(_))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},237:(e,t,n)=>{e.exports=n(365)},365:(e,t,n)=>{var a=n(43);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=a.useSyncExternalStore,s=a.useRef,o=a.useEffect,l=a.useMemo,c=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,a,d){var u=s(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=l(function(){function e(e){if(!o){if(o=!0,i=e,e=a(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return s=t}return s=e}if(t=s,r(i,e))return t;var n=a(e);return void 0!==d&&d(t,n)?(i=e,t):(i=e,s=n)}var i,s,o=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,a,d]);var m=i(e,u[0],u[1]);return o(function(){h.hasValue=!0,h.value=m},[m]),c(m),m}},391:(e,t,n)=>{var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var a=n(43),r=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,n,a,r,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,a){var r=v.hasOwnProperty(t)?v[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!u.call(p,e)||!u.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var I,z=Object.assign;function F(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var M=!1;function q(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),i=a.stack.split("\n"),s=r.length-1,o=i.length-1;1<=s&&0<=o&&r[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||r[s]!==i[o]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case _:return"Portal";case S:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=W(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function X(e,t){G(e,t);var n=H(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),a=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=fe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ge=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,we=null,Ne=null;function Se(e){if(e=xr(e)){if("function"!==typeof _e)throw Error(i(280));var t=e.stateNode;t&&(t=jr(t),_e(e.stateNode,e.type,t))}}function ke(e){we?Ne?Ne.push(e):Ne=[e]:we=e}function Ce(){if(we){var e=we,t=Ne;if(Ne=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Ae=!1;function Te(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ee(e,t,n)}finally{Ae=!1,(null!==we||null!==Ne)&&(Pe(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var a=jr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Le=!1;if(d)try{var De={};Object.defineProperty(De,"passive",{get:function(){Le=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(de){Le=!1}function Re(e,t,n,a,r,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ie=!1,ze=null,Fe=!1,Me=null,qe={onError:function(e){Ie=!0,ze=e}};function Ue(e,t,n,a,r,i,s,o,l){Ie=!1,ze=null,Re.apply(qe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(a=r.return)){n=a;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return He(r),e;if(s===a)return He(r),t;s=s.sibling}throw Error(i(188))}if(n.return!==a.return)n=r,a=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,a=s;break}if(l===a){o=!0,a=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,a=r;break}if(l===a){o=!0,a=s,n=r;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Je(e):null}function Je(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Je(e);if(null!==t)return t;e=e.sibling}return null}var Qe=r.unstable_scheduleCallback,$e=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Ge=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~r;0!==o?a=ut(o):0!==(i&=s)&&(a=ut(i))}else 0!==(s=n&~r)?a=ut(s):0!==i&&(a=ut(i));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(i=t&-t)||16===r&&0!==(4194240&i)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-st(t)),a|=e[n],t&=~r;return a}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-st(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,_t,wt,Nt,St,kt=!1,Ct=[],Et=null,Pt=null,At=null,Tt=new Map,Ot=new Map,Lt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function It(e,t,n,a,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=xr(t))&&_t(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function zt(e){var t=yr(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void St(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xr(n))&&_t(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);be=a,n.target.dispatchEvent(a),be=null,t.shift()}return!0}function Mt(e,t,n){Ft(e)&&n.delete(t)}function qt(){kt=!1,null!==Et&&Ft(Et)&&(Et=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==At&&Ft(At)&&(At=null),Tt.forEach(Mt),Ot.forEach(Mt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var a=Ct[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==Pt&&Ut(Pt,e),null!==At&&Ut(At,e),Tt.forEach(t),Ot.forEach(t),n=0;n<Lt.length;n++)(a=Lt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)zt(n),null===n.blockedOn&&Lt.shift()}var Vt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,a){var r=xt,i=Vt.transition;Vt.transition=null;try{xt=1,Qt(e,t,n,a)}finally{xt=r,Vt.transition=i}}function Jt(e,t,n,a){var r=xt,i=Vt.transition;Vt.transition=null;try{xt=4,Qt(e,t,n,a)}finally{xt=r,Vt.transition=i}}function Qt(e,t,n,a){if(Ht){var r=Kt(e,t,n,a);if(null===r)Ha(e,t,a,$t,n),Rt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Et=It(Et,e,t,n,a,r),!0;case"dragenter":return Pt=It(Pt,e,t,n,a,r),!0;case"mouseover":return At=It(At,e,t,n,a,r),!0;case"pointerover":var i=r.pointerId;return Tt.set(i,It(Tt.get(i)||null,e,t,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,Ot.set(i,It(Ot.get(i)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Rt(e,a),4&t&&-1<Dt.indexOf(e)){for(;null!==r;){var i=xr(r);if(null!==i&&jt(i),null===(i=Kt(e,t,n,a))&&Ha(e,t,a,$t,n),i===r)break;r=i}null!==r&&a.stopPropagation()}else Ha(e,t,a,null,n)}}var $t=null;function Kt(e,t,n,a){if($t=null,null!==(e=yr(e=je(a))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Gt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,a=n.length,r="value"in Gt?Gt.value:Gt.textContent,i=r.length;for(e=0;e<a&&n[e]===r[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===r[i-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,i){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),un=z({},cn,{view:0,detail:0}),hn=rn(un),mn=z({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=rn(mn),fn=rn(z({},mn,{dataTransfer:0})),vn=rn(z({},un,{relatedTarget:0})),gn=rn(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=rn(yn),bn=rn(z({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return Nn}var kn=z({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=rn(kn),En=rn(z({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=rn(z({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=rn(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=z({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=rn(Tn),Ln=[9,13,27,32],Dn=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var In=d&&"TextEvent"in window&&!Rn,zn=d&&(!Dn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Mn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,a){ke(a),0<(t=Ja(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Jn=null,Qn=null;function $n(e){Fa(e,0)}function Kn(e){if(Q(br(e)))return e}function Yn(e,t){if("change"===e)return t}var Gn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Xn=Zn}else Xn=!1;Gn=Xn&&(!document.documentMode||9<document.documentMode)}function ta(){Jn&&(Jn.detachEvent("onpropertychange",na),Qn=Jn=null)}function na(e){if("value"===e.propertyName&&Kn(Qn)){var t=[];Wn(t,Qn,e,je(e)),Te($n,t)}}function aa(e,t,n){"focusin"===e?(ta(),Qn=n,(Jn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Qn)}function ia(e,t){if("click"===e)return Kn(t)}function sa(e,t){if("input"===e||"change"===e)return Kn(t)}var oa="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(oa(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!u.call(t,r)||!oa(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ha(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pa(e){var t=ha(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&ma(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(a.start,r);a=void 0===a.end?i:Math.min(a.end,r),!e.extend&&i>a&&(r=a,a=i,i=r),r=da(n,i);var s=da(n,a);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fa=d&&"documentMode"in document&&11>=document.documentMode,va=null,ga=null,ya=null,xa=!1;function ba(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xa||null==va||va!==$(a)||("selectionStart"in(a=va)&&ma(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ya&&la(ya,a)||(ya=a,0<(a=Ja(ga,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=va)))}function ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _a={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},wa={},Na={};function Sa(e){if(wa[e])return wa[e];if(!_a[e])return e;var t,n=_a[e];for(t in n)if(n.hasOwnProperty(t)&&t in Na)return wa[e]=n[t];return e}d&&(Na=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);var ka=Sa("animationend"),Ca=Sa("animationiteration"),Ea=Sa("animationstart"),Pa=Sa("transitionend"),Aa=new Map,Ta="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(e,t){Aa.set(e,t),l(t,[e])}for(var La=0;La<Ta.length;La++){var Da=Ta[La];Oa(Da.toLowerCase(),"on"+(Da[0].toUpperCase()+Da.slice(1)))}Oa(ka,"onAnimationEnd"),Oa(Ca,"onAnimationIteration"),Oa(Ea,"onAnimationStart"),Oa("dblclick","onDoubleClick"),Oa("focusin","onFocus"),Oa("focusout","onBlur"),Oa(Pa,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ia=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function za(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,s,o,l,c){if(Ue.apply(this,arguments),Ie){if(!Ie)throw Error(i(198));var d=ze;Ie=!1,ze=null,Fe||(Fe=!0,Me=d)}}(a,t,void 0,e),e.currentTarget=null}function Fa(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var s=a.length-1;0<=s;s--){var o=a[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;za(r,o,c),i=l}else for(s=0;s<a.length;s++){if(l=(o=a[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;za(r,o,c),i=l}}}if(Fe)throw e=Me,Fe=!1,Me=null,e}function Ma(e,t){var n=t[fr];void 0===n&&(n=t[fr]=new Set);var a=e+"__bubble";n.has(a)||(Va(t,e,2,!1),n.add(a))}function qa(e,t,n){var a=0;t&&(a|=4),Va(n,e,a,t)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function Ba(e){if(!e[Ua]){e[Ua]=!0,s.forEach(function(t){"selectionchange"!==t&&(Ia.has(t)||qa(t,!1,e),qa(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ua]||(t[Ua]=!0,qa("selectionchange",!1,t))}}function Va(e,t,n,a){switch(Yt(t)){case 1:var r=Wt;break;case 4:r=Jt;break;default:r=Qt}n=r.bind(null,t,n,e),r=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ha(e,t,n,a,r){var i=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var o=a.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===s)for(s=a.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==o;){if(null===(s=yr(o)))return;if(5===(l=s.tag)||6===l){a=i=s;continue e}o=o.parentNode}}a=a.return}Te(function(){var a=i,r=je(n),s=[];e:{var o=Aa.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case ka:case Ca:case Ea:l=gn;break;case Pa:l=An;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var m,p=a;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=Oe(p,h))&&d.push(Wa(p,f,m)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,n,r),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[pr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=pn,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,f="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?o:br(l),m=null==c?o:br(c),(o=new d(f,p+"leave",l,n,r)).target=u,o.relatedTarget=m,f=null,yr(r)===a&&((d=new d(h,p+"enter",c,n,r)).target=m,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,p=0,m=d=l;m;m=Qa(m))p++;for(m=0,f=h;f;f=Qa(f))m++;for(;0<p-m;)d=Qa(d),p--;for(;0<m-p;)h=Qa(h),m--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Qa(d),h=Qa(h)}d=null}else d=null;null!==l&&$a(s,o,l,d,!1),null!==c&&null!==u&&$a(s,u,c,d,!0)}if("select"===(l=(o=a?br(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var v=Yn;else if(Hn(o))if(Gn)v=sa;else{v=ra;var g=aa}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=ia);switch(v&&(v=v(e,a))?Wn(s,v,n,r):(g&&g(e,o,a),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=a?br(a):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(va=g,ga=a,ya=null);break;case"focusout":ya=ga=va=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,ba(s,n,r);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":ba(s,n,r)}var y;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bn?qn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(zn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Bn&&(y=en()):(Xt="value"in(Gt=r)?Gt.value:Gt.textContent,Bn=!0)),0<(g=Ja(a,x)).length&&(x=new bn(x,e,null,n,r),s.push({event:x,listeners:g}),y?x.data=y:null!==(y=Un(n))&&(x.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Mn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&qn(e,t)?(e=en(),Zt=Xt=Gt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Ja(a,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:a}),r.data=y))}Fa(s,t)})}function Wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ja(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=Oe(e,n))&&a.unshift(Wa(e,i,r)),null!=(i=Oe(e,t))&&a.push(Wa(e,i,r))),e=e.return}return a}function Qa(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $a(e,t,n,a,r){for(var i=t._reactName,s=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Oe(n,i))&&s.unshift(Wa(n,l,o)):r||null!=(l=Oe(n,i))&&s.push(Wa(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ka=/\r\n?/g,Ya=/\u0000|\uFFFD/g;function Ga(e){return("string"===typeof e?e:""+e).replace(Ka,"\n").replace(Ya,"")}function Xa(e,t,n){if(t=Ga(t),Ga(e)!==t&&n)throw Error(i(425))}function Za(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ir="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ir?function(e){return ir.resolve(null).then(e).catch(or)}:ar;function or(e){setTimeout(function(){throw e})}function lr(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Bt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Bt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),hr="__reactFiber$"+ur,mr="__reactProps$"+ur,pr="__reactContainer$"+ur,fr="__reactEvents$"+ur,vr="__reactListeners$"+ur,gr="__reactHandles$"+ur;function yr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[hr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function xr(e){return!(e=e[hr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function jr(e){return e[mr]||null}var _r=[],wr=-1;function Nr(e){return{current:e}}function Sr(e){0>wr||(e.current=_r[wr],_r[wr]=null,wr--)}function kr(e,t){wr++,_r[wr]=e.current,e.current=t}var Cr={},Er=Nr(Cr),Pr=Nr(!1),Ar=Cr;function Tr(e,t){var n=e.type.contextTypes;if(!n)return Cr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Or(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(){Sr(Pr),Sr(Er)}function Dr(e,t,n){if(Er.current!==Cr)throw Error(i(168));kr(Er,t),kr(Pr,n)}function Rr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(i(108,V(e)||"Unknown",r));return z({},n,a)}function Ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Ar=Er.current,kr(Er,e),kr(Pr,Pr.current),!0}function zr(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(e=Rr(e,t,Ar),a.__reactInternalMemoizedMergedChildContext=e,Sr(Pr),Sr(Er),kr(Er,e)):Sr(Pr),kr(Pr,n)}var Fr=null,Mr=!1,qr=!1;function Ur(e){null===Fr?Fr=[e]:Fr.push(e)}function Br(){if(!qr&&null!==Fr){qr=!0;var e=0,t=xt;try{var n=Fr;for(xt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Fr=null,Mr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),Qe(Ze,Br),r}finally{xt=t,qr=!1}}return null}var Vr=[],Hr=0,Wr=null,Jr=0,Qr=[],$r=0,Kr=null,Yr=1,Gr="";function Xr(e,t){Vr[Hr++]=Jr,Vr[Hr++]=Wr,Wr=e,Jr=t}function Zr(e,t,n){Qr[$r++]=Yr,Qr[$r++]=Gr,Qr[$r++]=Kr,Kr=e;var a=Yr;e=Gr;var r=32-st(a)-1;a&=~(1<<r),n+=1;var i=32-st(t)+r;if(30<i){var s=r-r%5;i=(a&(1<<s)-1).toString(32),a>>=s,r-=s,Yr=1<<32-st(t)+r|n<<r|a,Gr=i+e}else Yr=1<<i|n<<r|a,Gr=e}function ei(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ti(e){for(;e===Wr;)Wr=Vr[--Hr],Vr[Hr]=null,Jr=Vr[--Hr],Vr[Hr]=null;for(;e===Kr;)Kr=Qr[--$r],Qr[$r]=null,Gr=Qr[--$r],Qr[$r]=null,Yr=Qr[--$r],Qr[$r]=null}var ni=null,ai=null,ri=!1,ii=null;function si(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ai=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ai=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Kr?{id:Yr,overflow:Gr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ai=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ri){var t=ai;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=cr(n.nextSibling);var a=ni;t&&oi(e,t)?si(a,n):(e.flags=-4097&e.flags|2,ri=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ri=!1,ni=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function ui(e){if(e!==ni)return!1;if(!ri)return di(e),ri=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ai)){if(li(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=cr(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ai=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ai=null}}else ai=ni?cr(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ai;e;)e=cr(e.nextSibling)}function mi(){ai=ni=null,ri=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var fi=b.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var gi=Nr(null),yi=null,xi=null,bi=null;function ji(){bi=xi=yi=null}function _i(e){var t=gi.current;Sr(gi),e._currentValue=t}function wi(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){yi=e,bi=xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Si(e){var t=e._currentValue;if(bi!==e)if(e={context:e,memoizedValue:t,next:null},null===xi){if(null===yi)throw Error(i(308));xi=e,yi.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var ki=null;function Ci(e){null===ki?ki=[e]:ki.push(e)}function Ei(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Ci(t)):(n.next=r.next,r.next=n),t.interleaved=n,Pi(e,a)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ai=!1;function Ti(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Di(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Pl)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Pi(e,n)}return null===(r=a.interleaved)?(t.next=t,Ci(a)):(t.next=r.next,r.next=t),a.interleaved=t,Pi(e,n)}function Ri(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ii(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,a){var r=e.updateQueue;Ai=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=r.baseState;for(s=0,d=c=l=null,o=i;;){var h=o.lane,m=o.eventTime;if((a&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(h=t,m=n,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(m,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(m,u,h):p)||void 0===h)break e;u=z({},u,h);break e;case 2:Ai=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,s|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(h=o).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===i&&(r.shared.lanes=0);zl|=s,e.lanes=s,e.memoizedState=u}}function Fi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(i(191,r));r.call(a)}}}var Mi=(new a.Component).refs;function qi(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ui={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=tc(),r=nc(e),i=Li(a,r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Di(e,i,r))&&(ac(t,e,r,a),Ri(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=tc(),r=nc(e),i=Li(a,r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Di(e,i,r))&&(ac(t,e,r,a),Ri(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),a=nc(e),r=Li(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Di(e,r,a))&&(ac(t,e,a,n),Ri(t,e,a))}};function Bi(e,t,n,a,r,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!la(n,a)||!la(r,i))}function Vi(e,t,n){var a=!1,r=Cr,i=t.contextType;return"object"===typeof i&&null!==i?i=Si(i):(r=Or(t)?Ar:Er.current,i=(a=null!==(a=t.contextTypes)&&void 0!==a)?Tr(e,r):Cr),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ui,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hi(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Ui.enqueueReplaceState(t,t.state,null)}function Wi(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Mi,Ti(e);var i=t.contextType;"object"===typeof i&&null!==i?r.context=Si(i):(i=Or(t)?Ar:Er.current,r.context=Tr(e,i)),r.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(qi(e,t,i,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Ui.enqueueReplaceState(r,r.state,null),zi(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Ji(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var r=a,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;t===Mi&&(t=r.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Qi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $i(e){return(0,e._init)(e._payload)}function Ki(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Fc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var i=n.type;return i===w?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===O&&$i(i)===t.type)?((a=r(t,n.props)).ref=Ji(e,t,n),a.return=e,a):((a=Rc(n.type,n.key,n.props,null,e.mode,a)).ref=Ji(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,i){return null===t||7!==t.tag?((t=Ic(n,e.mode,a,i)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ji(e,null,t),n.return=e,n;case _:return(t=Mc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ic(t,e.mode,n,null)).return=e,t;Qi(e,t)}return null}function m(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===r?c(e,t,n,a):null;case _:return n.key===r?d(e,t,n,a):null;case O:return m(e,t,(r=n._init)(n._payload),a)}if(te(n)||R(n))return null!==r?null:u(e,t,n,a,null);Qi(e,n)}return null}function p(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case _:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case O:return p(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||R(a))return u(t,e=e.get(n)||null,a,r,null);Qi(t,a)}return null}function f(r,i,o,l){for(var c=null,d=null,u=i,f=i=0,v=null;null!==u&&f<o.length;f++){u.index>f?(v=u,u=null):v=u.sibling;var g=m(r,u,o[f],l);if(null===g){null===u&&(u=v);break}e&&u&&null===g.alternate&&t(r,u),i=s(g,i,f),null===d?c=g:d.sibling=g,d=g,u=v}if(f===o.length)return n(r,u),ri&&Xr(r,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(r,o[f],l))&&(i=s(u,i,f),null===d?c=u:d.sibling=u,d=u);return ri&&Xr(r,f),c}for(u=a(r,u);f<o.length;f++)null!==(v=p(u,r,f,o[f],l))&&(e&&null!==v.alternate&&u.delete(null===v.key?f:v.key),i=s(v,i,f),null===d?c=v:d.sibling=v,d=v);return e&&u.forEach(function(e){return t(r,e)}),ri&&Xr(r,f),c}function v(r,o,l,c){var d=R(l);if("function"!==typeof d)throw Error(i(150));if(null==(l=d.call(l)))throw Error(i(151));for(var u=d=null,f=o,v=o=0,g=null,y=l.next();null!==f&&!y.done;v++,y=l.next()){f.index>v?(g=f,f=null):g=f.sibling;var x=m(r,f,y.value,c);if(null===x){null===f&&(f=g);break}e&&f&&null===x.alternate&&t(r,f),o=s(x,o,v),null===u?d=x:u.sibling=x,u=x,f=g}if(y.done)return n(r,f),ri&&Xr(r,v),d;if(null===f){for(;!y.done;v++,y=l.next())null!==(y=h(r,y.value,c))&&(o=s(y,o,v),null===u?d=y:u.sibling=y,u=y);return ri&&Xr(r,v),d}for(f=a(r,f);!y.done;v++,y=l.next())null!==(y=p(f,r,v,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=s(y,o,v),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(r,e)}),ri&&Xr(r,v),d}return function e(a,i,s,l){if("object"===typeof s&&null!==s&&s.type===w&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case j:e:{for(var c=s.key,d=i;null!==d;){if(d.key===c){if((c=s.type)===w){if(7===d.tag){n(a,d.sibling),(i=r(d,s.props.children)).return=a,a=i;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&$i(c)===d.type){n(a,d.sibling),(i=r(d,s.props)).ref=Ji(a,d,s),i.return=a,a=i;break e}n(a,d);break}t(a,d),d=d.sibling}s.type===w?((i=Ic(s.props.children,a.mode,l,s.key)).return=a,a=i):((l=Rc(s.type,s.key,s.props,null,a.mode,l)).ref=Ji(a,i,s),l.return=a,a=l)}return o(a);case _:e:{for(d=s.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(a,i.sibling),(i=r(i,s.children||[])).return=a,a=i;break e}n(a,i);break}t(a,i),i=i.sibling}(i=Mc(s,a.mode,l)).return=a,a=i}return o(a);case O:return e(a,i,(d=s._init)(s._payload),l)}if(te(s))return f(a,i,s,l);if(R(s))return v(a,i,s,l);Qi(a,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(a,i.sibling),(i=r(i,s)).return=a,a=i):(n(a,i),(i=Fc(s,a.mode,l)).return=a,a=i),o(a)):n(a,i)}}var Yi=Ki(!0),Gi=Ki(!1),Xi={},Zi=Nr(Xi),es=Nr(Xi),ts=Nr(Xi);function ns(e){if(e===Xi)throw Error(i(174));return e}function as(e,t){switch(kr(ts,t),kr(es,e),kr(Zi,Xi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Zi),kr(Zi,t)}function rs(){Sr(Zi),Sr(es),Sr(ts)}function is(e){ns(ts.current);var t=ns(Zi.current),n=le(t,e.type);t!==n&&(kr(es,e),kr(Zi,n))}function ss(e){es.current===e&&(Sr(Zi),Sr(es))}var os=Nr(0);function ls(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function ds(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var us=b.ReactCurrentDispatcher,hs=b.ReactCurrentBatchConfig,ms=0,ps=null,fs=null,vs=null,gs=!1,ys=!1,xs=0,bs=0;function js(){throw Error(i(321))}function _s(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oa(e[n],t[n]))return!1;return!0}function ws(e,t,n,a,r,s){if(ms=s,ps=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,us.current=null===e||null===e.memoizedState?so:oo,e=n(a,r),ys){s=0;do{if(ys=!1,xs=0,25<=s)throw Error(i(301));s+=1,vs=fs=null,t.updateQueue=null,us.current=lo,e=n(a,r)}while(ys)}if(us.current=io,t=null!==fs&&null!==fs.next,ms=0,vs=fs=ps=null,gs=!1,t)throw Error(i(300));return e}function Ns(){var e=0!==xs;return xs=0,e}function Ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ps.memoizedState=vs=e:vs=vs.next=e,vs}function ks(){if(null===fs){var e=ps.alternate;e=null!==e?e.memoizedState:null}else e=fs.next;var t=null===vs?ps.memoizedState:vs.next;if(null!==t)vs=t,fs=e;else{if(null===e)throw Error(i(310));e={memoizedState:(fs=e).memoizedState,baseState:fs.baseState,baseQueue:fs.baseQueue,queue:fs.queue,next:null},null===vs?ps.memoizedState=vs=e:vs=vs.next=e}return vs}function Cs(e,t){return"function"===typeof t?t(e):t}function Es(e){var t=ks(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=fs,r=a.baseQueue,s=n.pending;if(null!==s){if(null!==r){var o=r.next;r.next=s.next,s.next=o}a.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,a=a.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((ms&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=a):c=c.next=h,ps.lanes|=u,zl|=u}d=d.next}while(null!==d&&d!==s);null===c?o=a:c.next=l,oa(a,t.memoizedState)||(bo=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,ps.lanes|=s,zl|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ps(e){var t=ks(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{s=e(s,o.action),o=o.next}while(o!==r);oa(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function As(){}function Ts(e,t){var n=ps,a=ks(),r=t(),s=!oa(a.memoizedState,r);if(s&&(a.memoizedState=r,bo=!0),a=a.queue,Vs(Ds.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Fs(9,Ls.bind(null,n,a,r,t),void 0,null),null===Al)throw Error(i(349));0!==(30&ms)||Os(n,t,r)}return r}function Os(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ls(e,t,n,a){t.value=n,t.getSnapshot=a,Rs(t)&&Is(e)}function Ds(e,t,n){return n(function(){Rs(t)&&Is(e)})}function Rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oa(e,n)}catch(a){return!0}}function Is(e){var t=Pi(e,1);null!==t&&ac(t,e,1,-1)}function zs(e){var t=Ss();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,ps,e),[t.memoizedState,e]}function Fs(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ms(){return ks().memoizedState}function qs(e,t,n,a){var r=Ss();ps.flags|=e,r.memoizedState=Fs(1|t,n,void 0,void 0===a?null:a)}function Us(e,t,n,a){var r=ks();a=void 0===a?null:a;var i=void 0;if(null!==fs){var s=fs.memoizedState;if(i=s.destroy,null!==a&&_s(a,s.deps))return void(r.memoizedState=Fs(t,n,i,a))}ps.flags|=e,r.memoizedState=Fs(1|t,n,i,a)}function Bs(e,t){return qs(8390656,8,e,t)}function Vs(e,t){return Us(2048,8,e,t)}function Hs(e,t){return Us(4,2,e,t)}function Ws(e,t){return Us(4,4,e,t)}function Js(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Js.bind(null,t,e),n)}function $s(){}function Ks(e,t){var n=ks();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&_s(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ys(e,t){var n=ks();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&_s(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Gs(e,t,n){return 0===(21&ms)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(oa(n,t)||(n=ft(),ps.lanes|=n,zl|=n,e.baseState=!0),t)}function Xs(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var a=hs.transition;hs.transition={};try{e(!1),t()}finally{xt=n,hs.transition=a}}function Zs(){return ks().memoizedState}function eo(e,t,n){var a=nc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ao(t,n);else if(null!==(n=Ei(e,t,n,a))){ac(n,e,a,tc()),ro(n,t,a)}}function to(e,t,n){var a=nc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ao(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(r.hasEagerState=!0,r.eagerState=o,oa(o,s)){var l=t.interleaved;return null===l?(r.next=r,Ci(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Ei(e,t,r,a))&&(ac(n,e,a,r=tc()),ro(n,t,a))}}function no(e){var t=e.alternate;return e===ps||null!==t&&t===ps}function ao(e,t){ys=gs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ro(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}var io={readContext:Si,useCallback:js,useContext:js,useEffect:js,useImperativeHandle:js,useInsertionEffect:js,useLayoutEffect:js,useMemo:js,useReducer:js,useRef:js,useState:js,useDebugValue:js,useDeferredValue:js,useTransition:js,useMutableSource:js,useSyncExternalStore:js,useId:js,unstable_isNewReconciler:!1},so={readContext:Si,useCallback:function(e,t){return Ss().memoizedState=[e,void 0===t?null:t],e},useContext:Si,useEffect:Bs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qs(4194308,4,Js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return qs(4,2,e,t)},useMemo:function(e,t){var n=Ss();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Ss();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=eo.bind(null,ps,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Ss().memoizedState=e},useState:zs,useDebugValue:$s,useDeferredValue:function(e){return Ss().memoizedState=e},useTransition:function(){var e=zs(!1),t=e[0];return e=Xs.bind(null,e[1]),Ss().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ps,r=Ss();if(ri){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Al)throw Error(i(349));0!==(30&ms)||Os(a,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Bs(Ds.bind(null,a,s,e),[e]),a.flags|=2048,Fs(9,Ls.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=Ss(),t=Al.identifierPrefix;if(ri){var n=Gr;t=":"+t+"R"+(n=(Yr&~(1<<32-st(Yr)-1)).toString(32)+n),0<(n=xs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Si,useCallback:Ks,useContext:Si,useEffect:Vs,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ws,useMemo:Ys,useReducer:Es,useRef:Ms,useState:function(){return Es(Cs)},useDebugValue:$s,useDeferredValue:function(e){return Gs(ks(),fs.memoizedState,e)},useTransition:function(){return[Es(Cs)[0],ks().memoizedState]},useMutableSource:As,useSyncExternalStore:Ts,useId:Zs,unstable_isNewReconciler:!1},lo={readContext:Si,useCallback:Ks,useContext:Si,useEffect:Vs,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ws,useMemo:Ys,useReducer:Ps,useRef:Ms,useState:function(){return Ps(Cs)},useDebugValue:$s,useDeferredValue:function(e){var t=ks();return null===fs?t.memoizedState=e:Gs(t,fs.memoizedState,e)},useTransition:function(){return[Ps(Cs)[0],ks().memoizedState]},useMutableSource:As,useSyncExternalStore:Ts,useId:Zs,unstable_isNewReconciler:!1};function co(e,t){try{var n="",a=t;do{n+=U(a),a=a.return}while(a);var r=n}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:r,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Li(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Wl||(Wl=!0,Jl=a),ho(0,t)},n}function fo(e,t,n){(n=Li(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){ho(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof a&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vo(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new mo;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Li(-1,1)).tag=2,Di(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var xo=b.ReactCurrentOwner,bo=!1;function jo(e,t,n,a){t.child=null===e?Gi(t,null,n,a):Yi(t,e.child,n,a)}function _o(e,t,n,a,r){n=n.render;var i=t.ref;return Ni(t,r),a=ws(e,t,n,a,i,r),n=Ns(),null===e||bo?(ri&&n&&ei(t),t.flags|=1,jo(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function wo(e,t,n,a,r){if(null===e){var i=n.type;return"function"!==typeof i||Lc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,No(e,t,i,a,r))}if(i=e.child,0===(e.lanes&r)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:la)(s,a)&&e.ref===t.ref)return Wo(e,t,r)}return t.flags|=1,(e=Dc(i,a)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,a,r){if(null!==e){var i=e.memoizedProps;if(la(i,a)&&e.ref===t.ref){if(bo=!1,t.pendingProps=a=i,0===(e.lanes&r))return t.lanes=e.lanes,Wo(e,t,r);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,a,r)}function So(e,t,n){var a=t.pendingProps,r=a.children,i=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(Dl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(Dl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==i?i.baseLanes:n,kr(Dl,Ll),Ll|=a}else null!==i?(a=i.baseLanes|n,t.memoizedState=null):a=n,kr(Dl,Ll),Ll|=a;return jo(e,t,r,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,a,r){var i=Or(n)?Ar:Er.current;return i=Tr(t,i),Ni(t,r),n=ws(e,t,n,a,i,r),a=Ns(),null===e||bo?(ri&&a&&ei(t),t.flags|=1,jo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function Eo(e,t,n,a,r){if(Or(n)){var i=!0;Ir(t)}else i=!1;if(Ni(t,r),null===t.stateNode)Ho(e,t),Vi(t,n,a),Wi(t,n,a,r),a=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Si(c):c=Tr(t,c=Or(n)?Ar:Er.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==a||l!==c)&&Hi(t,s,a,c),Ai=!1;var h=t.memoizedState;s.state=h,zi(t,a,s,r),l=t.memoizedState,o!==a||h!==l||Pr.current||Ai?("function"===typeof d&&(qi(t,n,d,a),l=t.memoizedState),(o=Ai||Bi(t,n,o,a,h,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),s.props=a,s.state=l,s.context=c,a=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Oi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:vi(t.type,o),s.props=c,u=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Si(l):l=Tr(t,l=Or(n)?Ar:Er.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==u||h!==l)&&Hi(t,s,a,l),Ai=!1,h=t.memoizedState,s.state=h,zi(t,a,s,r);var p=t.memoizedState;o!==u||h!==p||Pr.current||Ai?("function"===typeof m&&(qi(t,n,m,a),p=t.memoizedState),(c=Ai||Bi(t,n,c,a,h,p,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(a,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),s.props=a,s.state=p,s.context=l,a=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Po(e,t,n,a,i,r)}function Po(e,t,n,a,r,i){ko(e,t);var s=0!==(128&t.flags);if(!a&&!s)return r&&zr(t,n,!1),Wo(e,t,i);a=t.stateNode,xo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&s?(t.child=Yi(t,e.child,null,i),t.child=Yi(t,null,o,i)):jo(e,t,o,i),t.memoizedState=a.state,r&&zr(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Dr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Dr(0,t.context,!1),as(e,t.containerInfo)}function To(e,t,n,a,r){return mi(),pi(r),t.flags|=256,jo(e,t,n,a),t.child}var Oo,Lo,Do,Ro,Io={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var a,r=t.pendingProps,s=os.current,o=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&s)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),kr(os,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=zc(l,r,0,null),e=Ic(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=zo(n),t.memoizedState=Io,e):Mo(t,l));if(null!==(s=e.memoizedState)&&null!==(a=s.dehydrated))return function(e,t,n,a,r,s,o){if(n)return 256&t.flags?(t.flags&=-257,qo(e,t,o,a=uo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,r=t.mode,a=zc({mode:"visible",children:a.children},r,0,null),(s=Ic(s,r,o,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&Yi(t,e.child,null,o),t.child.memoizedState=zo(o),t.memoizedState=Io,s);if(0===(1&t.mode))return qo(e,t,o,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var l=a.dgst;return a=l,qo(e,t,o,a=uo(s=Error(i(419)),a,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(a=Al)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|o))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Pi(e,r),ac(a,e,r,-1))}return vc(),qo(e,t,o,a=uo(Error(i(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ai=cr(r.nextSibling),ni=t,ri=!0,ii=null,null!==e&&(Qr[$r++]=Yr,Qr[$r++]=Gr,Qr[$r++]=Kr,Yr=e.id,Gr=e.overflow,Kr=t),t=Mo(t,a.children),t.flags|=4096,t)}(e,t,l,r,a,s,n);if(o){o=r.fallback,l=t.mode,a=(s=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==a?o=Dc(a,o):(o=Ic(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?zo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Io,r}return e=(o=e.child).sibling,r=Dc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mo(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qo(e,t,n,a){return null!==a&&pi(a),Yi(t,e.child,null,n),(e=Mo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),wi(e.return,t,n)}function Bo(e,t,n,a,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=r)}function Vo(e,t,n){var a=t.pendingProps,r=a.revealOrder,i=a.tail;if(jo(e,t,a.children,n),0!==(2&(a=os.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(kr(os,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ls(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Bo(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ls(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Bo(t,!0,n,null,i);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Jo(e,t){if(!ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function $o(e,t,n){var a=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qo(t),null;case 1:case 17:return Or(t.type)&&Lr(),Qo(t),null;case 3:return a=t.stateNode,rs(),Sr(Pr),Sr(Er),ds(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Lo(e,t),Qo(t),null;case 5:ss(t);var r=ns(ts.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(i(166));return Qo(t),null}if(e=ns(Zi.current),ui(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[hr]=t,a[mr]=s,e=0!==(1&t.mode),n){case"dialog":Ma("cancel",a),Ma("close",a);break;case"iframe":case"object":case"embed":Ma("load",a);break;case"video":case"audio":for(r=0;r<Ra.length;r++)Ma(Ra[r],a);break;case"source":Ma("error",a);break;case"img":case"image":case"link":Ma("error",a),Ma("load",a);break;case"details":Ma("toggle",a);break;case"input":Y(a,s),Ma("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},Ma("invalid",a);break;case"textarea":re(a,s),Ma("invalid",a)}for(var l in ye(n,s),r=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ma("scroll",a)}switch(n){case"input":J(a),Z(a,s,!0);break;case"textarea":J(a),se(a);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(a.onclick=Za)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[hr]=t,e[mr]=a,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,a),n){case"dialog":Ma("cancel",e),Ma("close",e),r=a;break;case"iframe":case"object":case"embed":Ma("load",e),r=a;break;case"video":case"audio":for(r=0;r<Ra.length;r++)Ma(Ra[r],e);r=a;break;case"source":Ma("error",e),r=a;break;case"img":case"image":case"link":Ma("error",e),Ma("load",e),r=a;break;case"details":Ma("toggle",e),r=a;break;case"input":Y(e,a),r=K(e,a),Ma("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=z({},a,{value:void 0}),Ma("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),Ma("invalid",e)}for(s in ye(n,r),c=r)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ve(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Ma("scroll",e):null!=d&&x(e,s,d,l))}switch(n){case"input":J(e),Z(e,a,!1);break;case"textarea":J(e),se(e);break;case"option":null!=a.value&&e.setAttribute("value",""+H(a.value));break;case"select":e.multiple=!!a.multiple,null!=(s=a.value)?ne(e,!!a.multiple,s,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qo(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(i(166));if(n=ns(ts.current),ns(Zi.current),ui(t)){if(a=t.stateNode,n=t.memoizedProps,a[hr]=t,(s=a.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Xa(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(a.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[hr]=t,t.stateNode=a}return Qo(t),null;case 13:if(Sr(os),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ri&&null!==ai&&0!==(1&t.mode)&&0===(128&t.flags))hi(),mi(),t.flags|=98560,s=!1;else if(s=ui(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[hr]=t}else mi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qo(t),s=!1}else null!==ii&&(oc(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&os.current)?0===Rl&&(Rl=3):vc())),null!==t.updateQueue&&(t.flags|=4),Qo(t),null);case 4:return rs(),Lo(e,t),null===e&&Ba(t.stateNode.containerInfo),Qo(t),null;case 10:return _i(t.type._context),Qo(t),null;case 19:if(Sr(os),null===(s=t.memoizedState))return Qo(t),null;if(a=0!==(128&t.flags),null===(l=s.rendering))if(a)Jo(s,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ls(e))){for(t.flags|=128,Jo(s,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kr(os,1&os.current|2),t.child}e=e.sibling}null!==s.tail&&Ge()>Vl&&(t.flags|=128,a=!0,Jo(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ls(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Jo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ri)return Qo(t),null}else 2*Ge()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,a=!0,Jo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ge(),t.sibling=null,n=os.current,kr(os,a?1&n|2:1&n),t):(Qo(t),null);case 22:case 23:return hc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Qo(t),6&t.subtreeFlags&&(t.flags|=8192)):Qo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ko(e,t){switch(ti(t),t.tag){case 1:return Or(t.type)&&Lr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return rs(),Sr(Pr),Sr(Er),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ss(t),null;case 13:if(Sr(os),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(os),null;case 4:return rs(),null;case 10:return _i(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lo=function(){},Do=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,ns(Zi.current);var i,s=null;switch(n){case"input":r=K(e,r),a=K(e,a),s=[];break;case"select":r=z({},r,{value:void 0}),a=z({},a,{value:void 0}),s=[];break;case"textarea":r=ae(e,r),a=ae(e,a),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in ye(n,a),n=null,r)if(!a.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var l=r[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in a){var c=a[d];if(l=null!=r?r[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ma("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ro=function(e,t,n,a){n!==a&&(t.flags|=4)};var Yo=!1,Go=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Sc(e,t,a)}else n.current=null}function tl(e,t,n){try{n()}catch(a){Sc(e,t,a)}}var nl=!1;function al(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,void 0!==i&&tl(t,n,i)}r=r.next}while(r!==a)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[mr],delete t[fr],delete t[vr],delete t[gr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function dl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var ul=null,hl=!1;function ml(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Go||el(n,t);case 6:var a=ul,r=hl;ul=null,ml(e,t,n),hl=r,null!==(ul=a)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Bt(e)):lr(ul,n.stateNode));break;case 4:a=ul,r=hl,ul=n.stateNode.containerInfo,hl=!0,ml(e,t,n),ul=a,hl=r;break;case 0:case 11:case 14:case 15:if(!Go&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var i=r,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&tl(n,t,s),r=r.next}while(r!==a)}ml(e,t,n);break;case 1:if(!Go&&(el(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(o){Sc(n,t,o)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?(Go=(a=Go)||null!==n.memoizedState,ml(e,t,n),Go=a):ml(e,t,n);break;default:ml(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach(function(t){var a=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function vl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(s,o,r),ul=null,hl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){Sc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),yl(e),4&a){try{al(3,e,e.return),rl(3,e)}catch(v){Sc(e,e.return,v)}try{al(5,e,e.return)}catch(v){Sc(e,e.return,v)}}break;case 1:vl(t,e),yl(e),512&a&&null!==n&&el(n,n.return);break;case 5:if(vl(t,e),yl(e),512&a&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(v){Sc(e,e.return,v)}}if(4&a&&null!=(r=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&G(r,s),xe(l,o);var d=xe(l,s);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ve(r,h):"dangerouslySetInnerHTML"===u?ue(r,h):"children"===u?he(r,h):x(r,u,h,d)}switch(l){case"input":X(r,s);break;case"textarea":ie(r,s);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(r,!!s.multiple,p,!1):m!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[mr]=s}catch(v){Sc(e,e.return,v)}}break;case 6:if(vl(t,e),yl(e),4&a){if(null===e.stateNode)throw Error(i(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(v){Sc(e,e.return,v)}}break;case 3:if(vl(t,e),yl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){Sc(e,e.return,v)}break;case 4:default:vl(t,e),yl(e);break;case 13:vl(t,e),yl(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Bl=Ge())),4&a&&fl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Go=(d=Go)||u,vl(t,e),Go=d):vl(t,e),yl(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(h=Zo=u;null!==Zo;){switch(p=(m=Zo).child,m.tag){case 0:case 11:case 14:case 15:al(4,m,m.return);break;case 1:el(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){a=m,n=m.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){Sc(a,n,v)}}break;case 5:el(m,m.return);break;case 22:if(null!==m.memoizedState){_l(h);continue}}null!==p?(p.return=m,Zo=p):_l(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{r=h.stateNode,d?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(v){Sc(e,e.return,v)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){Sc(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),yl(e),4&a&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var a=n;break e}n=n.return}throw Error(i(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(he(r,""),a.flags&=-33),dl(e,ll(e),r);break;case 3:case 4:var s=a.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(i(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var a=0!==(1&e.mode);null!==Zo;){var r=Zo,i=r.child;if(22===r.tag&&a){var s=null!==r.memoizedState||Yo;if(!s){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Go;o=Yo;var c=Go;if(Yo=s,(Go=l)&&!c)for(Zo=r;null!==Zo;)l=(s=Zo).child,22===s.tag&&null!==s.memoizedState?wl(r):null!==l?(l.return=s,Zo=l):wl(r);for(;null!==i;)Zo=i,bl(i,t,n),i=i.sibling;Zo=r,Yo=o,Go=c}jl(e)}else 0!==(8772&r.subtreeFlags)&&null!==i?(i.return=r,Zo=i):jl(e)}}function jl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Go||rl(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Go)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:vi(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Fi(t,s,a);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}Go||512&t.flags&&il(t)}catch(m){Sc(t,t.return,m)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function _l(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(l){Sc(t,r,l)}}var i=t.return;try{il(t)}catch(l){Sc(t,i,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Nl,Sl=Math.ceil,kl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Pl=0,Al=null,Tl=null,Ol=0,Ll=0,Dl=Nr(0),Rl=0,Il=null,zl=0,Fl=0,Ml=0,ql=null,Ul=null,Bl=0,Vl=1/0,Hl=null,Wl=!1,Jl=null,Ql=null,$l=!1,Kl=null,Yl=0,Gl=0,Xl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Pl)?Ge():-1!==Zl?Zl:Zl=Ge()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ol?Ol&-Ol:null!==fi.transition?(0===ec&&(ec=ft()),ec):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function ac(e,t,n,a){if(50<Gl)throw Gl=0,Xl=null,Error(i(185));gt(e,n,a),0!==(2&Pl)&&e===Al||(e===Al&&(0===(2&Pl)&&(Fl|=n),4===Rl&&lc(e,Ol)),rc(e,a),1===n&&0===Pl&&0===(1&t.mode)&&(Vl=Ge()+500,Mr&&Br()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=r[s];-1===l?0!==(o&n)&&0===(o&a)||(r[s]=mt(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var a=ht(e,e===Al?Ol:0);if(0===a)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Mr=!0,Ur(e)}(cc.bind(null,e)):Ur(cc.bind(null,e)),sr(function(){0===(6&Pl)&&Br()}),n=null;else{switch(bt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,ec=0,0!==(6&Pl))throw Error(i(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var a=ht(e,e===Al?Ol:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=gc(e,a);else{t=a;var r=Pl;Pl|=2;var s=fc();for(Al===e&&Ol===t||(Hl=null,Vl=Ge()+500,mc(e,t));;)try{xc();break}catch(l){pc(e,l)}ji(),kl.current=s,Pl=r,null!==Tl?t=0:(Al=null,Ol=0,t=Rl)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(a=r,t=sc(e,r))),1===t)throw n=Il,mc(e,0),lc(e,a),rc(e,Ge()),n;if(6===t)lc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!oa(i(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,a))&&(0!==(s=pt(e))&&(a=s,t=sc(e,s))),1===t))throw n=Il,mc(e,0),lc(e,a),rc(e,Ge()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:case 5:_c(e,Ul,Hl);break;case 3:if(lc(e,a),(130023424&a)===a&&10<(t=Bl+500-Ge())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&a)!==a){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(_c.bind(null,e,Ul,Hl),t);break}_c(e,Ul,Hl);break;case 4:if(lc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var o=31-st(a);s=1<<o,(o=t[o])>r&&(r=o),a&=~s}if(a=r,10<(a=(120>(a=Ge()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Sl(a/1960))-a)){e.timeoutHandle=ar(_c.bind(null,e,Ul,Hl),a);break}_c(e,Ul,Hl);break;default:throw Error(i(329))}}}return rc(e,Ge()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=ql;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&oc(t)),e}function oc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~Ml,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),a=1<<n;e[n]=-1,t&=~a}}function cc(e){if(0!==(6&Pl))throw Error(i(327));wc();var t=ht(e,0);if(0===(1&t))return rc(e,Ge()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var a=pt(e);0!==a&&(t=a,n=sc(e,a))}if(1===n)throw n=Il,mc(e,0),lc(e,t),rc(e,Ge()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Ul,Hl),rc(e,Ge()),null}function dc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Vl=Ge()+500,Mr&&Br())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Pl)&&wc();var t=Pl;Pl|=1;var n=El.transition,a=xt;try{if(El.transition=null,xt=1,e)return e()}finally{xt=a,El.transition=n,0===(6&(Pl=t))&&Br()}}function hc(){Ll=Dl.current,Sr(Dl)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Tl)for(n=Tl.return;null!==n;){var a=n;switch(ti(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Lr();break;case 3:rs(),Sr(Pr),Sr(Er),ds();break;case 5:ss(a);break;case 4:rs();break;case 13:case 19:Sr(os);break;case 10:_i(a.type._context);break;case 22:case 23:hc()}n=n.return}if(Al=e,Tl=e=Dc(e.current,null),Ol=Ll=t,Rl=0,Il=null,Ml=Fl=zl=0,Ul=ql=null,null!==ki){for(t=0;t<ki.length;t++)if(null!==(a=(n=ki[t]).interleaved)){n.interleaved=null;var r=a.next,i=n.pending;if(null!==i){var s=i.next;i.next=r,a.next=s}n.pending=a}ki=null}return e}function pc(e,t){for(;;){var n=Tl;try{if(ji(),us.current=io,gs){for(var a=ps.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}gs=!1}if(ms=0,vs=fs=ps=null,ys=!1,xs=0,Cl.current=null,null===n||null===n.return){Rl=1,Il=t,Tl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&vo(s,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var v=new Set;v.add(c),t.updateQueue=v}else f.add(c);break e}if(0===(1&t)){vo(s,d,t),vc();break e}c=Error(i(426))}else if(ri&&1&l.mode){var g=go(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yo(g,o,l,0,t),pi(co(c,l));break e}}s=c=co(c,l),4!==Rl&&(Rl=2),null===ql?ql=[s]:ql.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ii(s,po(0,c,t));break e;case 1:l=c;var y=s.type,x=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ql||!Ql.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t,Ii(s,fo(s,l,t));break e}}s=s.return}while(null!==s)}jc(n)}catch(b){t=b,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function fc(){var e=kl.current;return kl.current=io,null===e?io:e}function vc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Al||0===(268435455&zl)&&0===(268435455&Fl)||lc(Al,Ol)}function gc(e,t){var n=Pl;Pl|=2;var a=fc();for(Al===e&&Ol===t||(Hl=null,mc(e,t));;)try{yc();break}catch(r){pc(e,r)}if(ji(),Pl=n,kl.current=a,null!==Tl)throw Error(i(261));return Al=null,Ol=0,Rl}function yc(){for(;null!==Tl;)bc(Tl)}function xc(){for(;null!==Tl&&!Ke();)bc(Tl)}function bc(e){var t=Nl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?jc(e):Tl=t,Cl.current=null}function jc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$o(n,t,Ll)))return void(Tl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Rl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Rl&&(Rl=5)}function _c(e,t,n){var a=xt,r=El.transition;try{El.transition=null,xt=1,function(e,t,n,a){do{wc()}while(null!==Kl);if(0!==(6&Pl))throw Error(i(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),i=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~i}}(e,s),e===Al&&(Tl=Al=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Ac(tt,function(){return wc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=El.transition,El.transition=null;var o=xt;xt=1;var l=Pl;Pl|=4,Cl.current=null,function(e,t){if(er=Ht,ma(e=ha())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(j){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==r&&3!==h.nodeType||(l=o+r),h!==s||0!==a&&3!==h.nodeType||(c=o+a),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++d===r&&(l=o),m===s&&++u===a&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var v=f.memoizedProps,g=f.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:vi(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(j){Sc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}f=nl,nl=!1}(e,n),gl(n,e),pa(tr),Ht=!!er,tr=er=null,e.current=n,xl(n,e,r),Ye(),Pl=l,xt=o,El.transition=s}else e.current=n;if($l&&($l=!1,Kl=e,Yl=r),s=e.pendingLanes,0===s&&(Ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ge()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Jl,Jl=null,e;0!==(1&Yl)&&0!==e.tag&&wc(),s=e.pendingLanes,0!==(1&s)?e===Xl?Gl++:(Gl=0,Xl=e):Gl=0,Br()}(e,t,n,a)}finally{El.transition=r,xt=a}return null}function wc(){if(null!==Kl){var e=bt(Yl),t=El.transition,n=xt;try{if(El.transition=null,xt=16>e?16:e,null===Kl)var a=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&Pl))throw Error(i(331));var r=Pl;for(Pl|=4,Zo=e.current;null!==Zo;){var s=Zo,o=s.child;if(0!==(16&Zo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zo=d;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:al(8,u,s)}var h=u.child;if(null!==h)h.return=u,Zo=h;else for(;null!==Zo;){var m=(u=Zo).sibling,p=u.return;if(sl(u),u===d){Zo=null;break}if(null!==m){m.return=p,Zo=m;break}Zo=p}}}var f=s.alternate;if(null!==f){var v=f.child;if(null!==v){f.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Zo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(s=Zo).flags))switch(s.tag){case 0:case 11:case 15:al(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Zo=y;break e}Zo=s.return}}var x=e.current;for(Zo=x;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=x;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Sc(l,l.return,_)}if(l===o){Zo=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Zo=j;break e}Zo=l.return}}if(Pl=r,Br(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(_){}a=!0}return a}finally{xt=n,El.transition=t}}return!1}function Nc(e,t,n){e=Di(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Ql||!Ql.has(a))){t=Di(t,e=fo(t,e=co(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Ol&n)===n&&(4===Rl||3===Rl&&(130023424&Ol)===Ol&&500>Ge()-Bl?mc(e,0):Ml|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=tc();null!==(e=Pi(e,t))&&(gt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}null!==a&&a.delete(t),Cc(e,n)}function Ac(e,t){return Qe(e,t)}function Tc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,a){return new Tc(e,t,n,a)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,a,r,s){var o=2;if(a=e,"function"===typeof e)Lc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case w:return Ic(n.children,r,s,t);case N:o=8,r|=8;break;case S:return(e=Oc(12,n,t,2|r)).elementType=S,e.lanes=s,e;case P:return(e=Oc(13,n,t,r)).elementType=P,e.lanes=s,e;case A:return(e=Oc(19,n,t,r)).elementType=A,e.lanes=s,e;case L:return zc(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case C:o=9;break e;case E:o=11;break e;case T:o=14;break e;case O:o=16,a=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Oc(o,n,t,r)).elementType=e,t.type=a,t.lanes=s,t}function Ic(e,t,n,a){return(e=Oc(7,e,a,t)).lanes=n,e}function zc(e,t,n,a){return(e=Oc(22,e,a,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,a,r,i,s,o,l){return e=new qc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Oc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ti(i),e}function Bc(e){if(!e)return Cr;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Or(n))return Rr(e,n,t)}return t}function Vc(e,t,n,a,r,i,s,o,l){return(e=Uc(n,a,!0,e,0,i,0,o,l)).context=Bc(null),n=e.current,(i=Li(a=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Di(n,i,r),e.current.lanes=r,gt(e,r,a),rc(e,a),e}function Hc(e,t,n,a){var r=t.current,i=tc(),s=nc(r);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Li(i,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Di(r,t,s))&&(ac(e,r,s,i),Ri(e,r,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Jc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pr.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),mi();break;case 5:is(t);break;case 1:Or(t.type)&&Ir(t);break;case 4:as(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;kr(gi,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(kr(os,1&os.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(kr(os,1&os.current),null!==(e=Wo(e,t,n))?e.sibling:null);kr(os,1&os.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Vo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),kr(os,os.current),a)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ri&&0!==(1048576&t.flags)&&Zr(t,Jr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Ho(e,t),e=t.pendingProps;var r=Tr(t,Er.current);Ni(t,n),r=ws(null,t,a,e,r,n);var s=Ns();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Or(a)?(s=!0,Ir(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ti(t),r.updater=Ui,t.stateNode=r,r._reactInternals=t,Wi(t,a,e,n),t=Po(null,t,a,!0,s,n)):(t.tag=0,ri&&s&&ei(t),jo(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(a),e=vi(a,e),r){case 0:t=Co(null,t,a,e,n);break e;case 1:t=Eo(null,t,a,e,n);break e;case 11:t=_o(null,t,a,e,n);break e;case 14:t=wo(null,t,a,vi(a.type,e),n);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Co(e,t,a,r=t.elementType===a?r:vi(a,r),n);case 1:return a=t.type,r=t.pendingProps,Eo(e,t,a,r=t.elementType===a?r:vi(a,r),n);case 3:e:{if(Ao(t),null===e)throw Error(i(387));a=t.pendingProps,r=(s=t.memoizedState).element,Oi(e,t),zi(t,a,null,n);var o=t.memoizedState;if(a=o.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=To(e,t,a,n,r=co(Error(i(423)),t));break e}if(a!==r){t=To(e,t,a,n,r=co(Error(i(424)),t));break e}for(ai=cr(t.stateNode.containerInfo.firstChild),ni=t,ri=!0,ii=null,n=Gi(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),a===r){t=Wo(e,t,n);break e}jo(e,t,a,n)}t=t.child}return t;case 5:return is(t),null===e&&ci(t),a=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,o=r.children,nr(a,r)?o=null:null!==s&&nr(a,s)&&(t.flags|=32),ko(e,t),jo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Fo(e,t,n);case 4:return as(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Yi(t,null,a,n):jo(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,_o(e,t,a,r=t.elementType===a?r:vi(a,r),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,kr(gi,a._currentValue),a._currentValue=o,null!==s)if(oa(s.value,o)){if(s.children===r.children&&!Pr.current){t=Wo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===s.tag){(c=Li(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),wi(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),wi(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}jo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Ni(t,n),a=a(r=Si(r)),t.flags|=1,jo(e,t,a,n),t.child;case 14:return r=vi(a=t.type,t.pendingProps),wo(e,t,a,r=vi(a.type,r),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:vi(a,r),Ho(e,t),t.tag=1,Or(a)?(e=!0,Ir(t)):e=!1,Ni(t,n),Vi(t,a,r),Wi(t,a,r,n),Po(null,t,a,!0,e,n);case 19:return Vo(e,t,n);case 22:return So(e,t,n)}throw Error(i(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function ed(e,t,n,a,r){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof r){var o=r;r=function(){var e=Wc(s);o.call(e)}}Hc(t,s,e,r)}else s=function(e,t,n,a,r){if(r){if("function"===typeof a){var i=a;a=function(){var e=Wc(s);i.call(e)}}var s=Vc(t,a,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pr]=s.current,Ba(8===e.nodeType?e.parentNode:e),uc(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var o=a;a=function(){var e=Wc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pr]=l.current,Ba(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,a)}),l}(n,t,e,r,a);return Wc(s)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[pr]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&zt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ge()),0===(6&Pl)&&(Vl=Ge()+500,Br()))}break;case 13:uc(function(){var t=Pi(e,1);if(null!==t){var n=tc();ac(t,e,1,n)}}),Qc(e,1)}},_t=function(e){if(13===e.tag){var t=Pi(e,134217728);if(null!==t)ac(t,e,134217728,tc());Qc(e,134217728)}},wt=function(e){if(13===e.tag){var t=nc(e),n=Pi(e,t);if(null!==n)ac(n,e,t,tc());Qc(e,t)}},Nt=function(){return xt},St=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=jr(a);if(!r)throw Error(i(90));Q(a),X(a,r)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=dc,Pe=uc;var td={usingClientEntryPoint:!1,Events:[xr,br,jr,ke,Ce,dc]},nd={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ad={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{rt=rd.inject(ad),it=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(i(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(i(299));var n=!1,a="",r=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,a,r),e[pr]=t.current,Ba(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(i(200));return ed(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(i(405));var a=null!=n&&n.hydratedSources||null,r=!1,s="",o=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,r,0,s,o),e[pr]=t.current,Ba(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(i(200));return ed(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){ed(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Xc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ed(e,t,n,!1,a)},t.version="18.2.0-next-9e3b772b8-20220608"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.u=e=>"static/js/"+e+".fa0628ac.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="photoflow-frontend:";n.l=(a,r,i,s)=>{if(e[a])e[a].push(r);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+i){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=a),e[a]=[r];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(m);var r=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(e=>e(n)),t)return t(n)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,a)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var i=new Promise((n,a)=>r=e[t]=[n,a]);a.push(r[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,a=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,r[1](o)}},"chunk-"+t,t)}};var t=(t,a)=>{var r,i,[s,o,l]=a,c=0;if(s.some(t=>0!==e[t])){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)l(n)}for(t&&t(a);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},a=self.webpackChunkphotoflow_frontend=self.webpackChunkphotoflow_frontend||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a={};n.r(a),n.d(a,{hasBrowserEnv:()=>Oc,hasStandardBrowserEnv:()=>Dc,hasStandardBrowserWebWorkerEnv:()=>Rc,navigator:()=>Lc,origin:()=>Ic});var r=n(43),i=n(391),s=n(237);function o(e){e()}var l={notify(){},get:()=>[]};function c(e,t){let n,a=l,r=0,i=!1;function s(){u.onStateChange&&u.onStateChange()}function c(){r++,n||(n=t?t.addNestedSub(s):e.subscribe(s),a=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){o(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let a=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){a&&null!==e&&(a=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}())}function d(){r--,n&&0===r&&(n(),n=void 0,a.clear(),a=l)}const u={addNestedSub:function(e){c();const t=a.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),d())}},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:s,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,c())},tryUnsubscribe:function(){i&&(i=!1,d())},getListeners:()=>a};return u}var d=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),u=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),h=(()=>d||u?r.useLayoutEffect:r.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var m=Symbol.for("react-redux-context"),p="undefined"!==typeof globalThis?globalThis:{};function f(){var e;if(!r.createContext)return{};const t=null!==(e=p[m])&&void 0!==e?e:p[m]=new Map;let n=t.get(r.createContext);return n||(n=r.createContext(null),t.set(r.createContext,n)),n}var v=f();var g=function(e){const{children:t,context:n,serverState:a,store:i}=e,s=r.useMemo(()=>{const e=c(i);return{store:i,subscription:e,getServerState:a?()=>a:void 0}},[i,a]),o=r.useMemo(()=>i.getState(),[i]);h(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,o]);const l=n||v;return r.createElement(l.Provider,{value:s},t)};function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return function(){return r.useContext(e)}}var x=y();function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;const t=e===v?x:y(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var j=b();function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;const t=e===v?j:b(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var w=_(),N=(e,t)=>e===t;function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;const t=e===v?x:y(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:a=N}="function"===typeof n?{equalityFn:n}:n;const i=t(),{store:o,subscription:l,getServerState:c}=i,d=(r.useRef(!0),r.useCallback({[e.name]:t=>e(t)}[e.name],[e])),u=(0,s.useSyncExternalStoreWithSelector)(l.addNestedSub,o.getState,c||o.getState,d,a);return r.useDebugValue(u),u};return Object.assign(n,{withTypes:()=>n}),n}var k=S();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function E(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=C(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C(t)?t:t+""}function P(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var L=Symbol.for("immer-nothing"),D=Symbol.for("immer-draftable"),R=Symbol.for("immer-state");function I(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var z=Object,F=z.getPrototypeOf,M="constructor",q="prototype",U="configurable",B="enumerable",V="writable",H="value",W=e=>!!e&&!!e[R];function J(e){var t;return!!e&&(K(e)||te(e)||!!e[D]||!(null===(t=e[M])||void 0===t||!t[D])||ne(e)||ae(e))}var Q=z[q][M].toString(),$=new WeakMap;function K(e){if(!e||!re(e))return!1;const t=F(e);if(null===t||t===z[q])return!0;const n=z.hasOwnProperty.call(t,M)&&t[M];if(n===Object)return!0;if(!ie(n))return!1;let a=$.get(n);return void 0===a&&(a=Function.toString.call(n),$.set(n,a)),a===Q}function Y(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===G(e)){(n?Reflect.ownKeys(e):z.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,a)=>t(a,n,e))}function G(e){const t=e[R];return t?t.type_:te(e)?1:ne(e)?2:ae(e)?3:0}var X=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:G(e))?e.has(t):z[q].hasOwnProperty.call(e,t)},Z=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:G(e))?e.get(t):e[t]},ee=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:G(e);2===a?e.set(t,n):3===a?e.add(n):e[t]=n};var te=Array.isArray,ne=e=>e instanceof Map,ae=e=>e instanceof Set,re=e=>"object"===typeof e,ie=e=>"function"===typeof e,se=e=>"boolean"===typeof e,oe=e=>e.copy_||e.base_,le=e=>e.modified_?e.copy_:e.base_;function ce(e,t){if(ne(e))return new Map(e);if(ae(e))return new Set(e);if(te(e))return Array[q].slice.call(e);const n=K(e);if(!0===t||"class_only"===t&&!n){const t=z.getOwnPropertyDescriptors(e);delete t[R];let n=Reflect.ownKeys(t);for(let a=0;a<n.length;a++){const r=n[a],i=t[r];!1===i[V]&&(i[V]=!0,i[U]=!0),(i.get||i.set)&&(t[r]={[U]:!0,[V]:!0,[B]:i[B],[H]:e[r]})}return z.create(F(e),t)}{const t=F(e);if(null!==t&&n)return T({},e);const a=z.create(t);return z.assign(a,e)}}function de(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return he(e)||W(e)||!J(e)||(G(e)>1&&z.defineProperties(e,{set:ue,add:ue,clear:ue,delete:ue}),z.freeze(e),t&&Y(e,(e,t)=>{de(t,!0)},!1)),e}var ue={[H]:function(){I(2)}};function he(e){return null===e||!re(e)||z.isFrozen(e)}var me="MapSet",pe="Patches",fe={};function ve(e){const t=fe[e];return t||I(0),t}var ge;var ye=()=>ge;function xe(e,t){t&&(e.patchPlugin_=ve(pe),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function be(e){je(e),e.drafts_.forEach(we),e.drafts_=null}function je(e){e===ge&&(ge=e.parent_)}var _e=e=>ge=((e,t)=>{return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:(n=me,fe[n]?ve(me):void 0)};var n})(ge,e);function we(e){const t=e[R];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ne(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(void 0!==e&&e!==n){n[R].modified_&&(be(t),I(4)),J(e)&&(e=Se(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(n[R].base_,e,t)}else e=Se(t,n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&de(t,n)}(t,e,!0),be(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==L?e:void 0}function Se(e,t){if(he(t))return t;const n=t[R];if(!n){return Te(t,e.handledSet_,e)}if(!Ce(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:t}=n;if(t)for(;t.length>0;){t.pop()(e)}Ae(n,e)}return n.copy_}function ke(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ce=(e,t)=>e.scope_===t,Ee=[];function Pe(e,t,n,a){var r;const i=oe(e),s=e.type_;if(void 0!==a){if(Z(i,a,s)===t)return void ee(i,a,n,s)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;Y(i,(e,n)=>{if(W(n)){const a=t.get(n)||[];a.push(e),t.set(n,a)}})}const o=null!==(r=e.draftLocations_.get(t))&&void 0!==r?r:Ee;for(const l of o)ee(i,l,n,s)}function Ae(e,t){var n,a;if(e.modified_&&!e.finalized_&&(3===e.type_||(null!==(n=null===(a=e.assigned_)||void 0===a?void 0:a.size)&&void 0!==n?n:0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}ke(e)}}function Te(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||W(e)||t.has(e)||!J(e)||he(e)||(t.add(e),Y(e,(a,r)=>{if(W(r)){const t=r[R];if(Ce(t,n)){const n=le(t);ee(e,a,n,e.type_),ke(t)}}else J(r)&&Te(r,t,n)})),e}var Oe={get(e,t){if(t===R)return e;const n=oe(e);if(!X(n,t,e.type_))return function(e,t,n){var a;const r=Re(t,n);return r?H in r?r[H]:null===(a=r.get)||void 0===a?void 0:a.call(e.draft_):void 0}(e,n,t);const a=n[t];if(e.finalized_||!J(a))return a;if(a===De(e.base_,t)){ze(e);const n=1===e.type_?+t:t,r=Fe(e.scope_,a,e,n);return e.copy_[n]=r}return a},has:(e,t)=>t in oe(e),ownKeys:e=>Reflect.ownKeys(oe(e)),set(e,t,n){const a=Re(oe(e),t);if(null!==a&&void 0!==a&&a.set)return a.set.call(e.draft_,n),!0;if(!e.modified_){const a=De(oe(e),t),s=null===a||void 0===a?void 0:a[R];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(((r=n)===(i=a)?0!==r||1/r===1/i:r!==r&&i!==i)&&(void 0!==n||X(e.base_,t,e.type_)))return!0;ze(e),Ie(e)}var r,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),function(e,t,n){const{scope_:a}=e;if(W(n)){const r=n[R];Ce(r,a)&&r.callbacks_.push(function(){ze(e);const a=le(r);Pe(e,n,a,t)})}else J(n)&&e.callbacks_.push(function(){const r=oe(e);var i;Z(r,t,e.type_)===n&&a.drafts_.length>1&&!0===(null!==(i=e.assigned_.get(t))&&void 0!==i&&i)&&e.copy_&&Te(Z(e.copy_,t,e.type_),a.handledSet_,a)})}(e,t,n)),!0},deleteProperty:(e,t)=>(ze(e),void 0!==De(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),Ie(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=oe(e),a=Reflect.getOwnPropertyDescriptor(n,t);return a?{[V]:!0,[U]:1!==e.type_||"length"!==t,[B]:a[B],[H]:n[t]}:a},defineProperty(){I(11)},getPrototypeOf:e=>F(e.base_),setPrototypeOf(){I(12)}},Le={};function De(e,t){const n=e[R];return(n?oe(n):e)[t]}function Re(e,t){if(!(t in e))return;let n=F(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=F(n)}}function Ie(e){e.modified_||(e.modified_=!0,e.parent_&&Ie(e.parent_))}function ze(e){e.copy_||(e.assigned_=new Map,e.copy_=ce(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Y(Oe,(e,t)=>{Le[e]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),Le.deleteProperty=function(e,t){return Le.set.call(this,e,t,void 0)},Le.set=function(e,t,n){return Oe.set.call(this,e[0],t,n,e[0])};function Fe(e,t,n,a){var r,i;const[s,o]=ne(t)?ve(me).proxyMap_(t,n):ae(t)?ve(me).proxySet_(t,n):function(e,t){const n=te(e),a={type_:n?1:0,scope_:t?t.scope_:ye(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=a,i=Oe;n&&(r=[a],i=Le);const{revoke:s,proxy:o}=Proxy.revocable(r,i);return a.draft_=o,a.revoke_=s,[o,a]}(t,n);return(null!==(r=null===n||void 0===n?void 0:n.scope_)&&void 0!==r?r:ye()).drafts_.push(s),o.callbacks_=null!==(i=null===n||void 0===n?void 0:n.callbacks_)&&void 0!==i?i:[],o.key_=a,n&&void 0!==a?function(e,t,n){e.callbacks_.push(function(a){var r,i;const s=t;if(!s||!Ce(s,a))return;null===(r=a.mapSetPlugin_)||void 0===r||r.fixSetContents(s);const o=le(s);Pe(e,null!==(i=s.draft_)&&void 0!==i?i:s,o,n),Ae(s,a)})}(n,o,a):o.callbacks_.push(function(e){var t;null===(t=e.mapSetPlugin_)||void 0===t||t.fixSetContents(o);const{patchPlugin_:n}=e;o.modified_&&n&&n.generatePatches_(o,[],e)}),s}function Me(e){if(!J(e)||he(e))return e;const t=e[R];let n,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ce(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else n=ce(e,!0);return Y(n,(e,t)=>{ee(n,e,Me(t))},a),t&&(t.finalized_=!1),n}var qe=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(ie(e)&&!ie(t)){const n=t;t=e;const a=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return a.produce(e,e=>t.call(this,e,...i))}}let a;if(ie(t)||I(6),void 0===n||ie(n)||I(7),J(e)){const r=_e(this),i=Fe(r,e,void 0);let s=!0;try{a=t(i),s=!1}finally{s?be(r):je(r)}return xe(r,n),Ne(a,r)}if(!e||!re(e)){if(a=t(e),void 0===a&&(a=e),a===L&&(a=void 0),this.autoFreeze_&&de(a,!0),n){const t=[],r=[];ve(pe).generateReplacementPatches_(e,a,{patches_:t,inversePatches_:r}),n(t,r)}return a}I(1)},this.produceWithPatches=(e,n)=>{if(ie(e))return function(n){for(var a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];return t.produceWithPatches(n,t=>e(t,...r))};let a,r;return[this.produce(e,n,(e,t)=>{a=e,r=t}),a,r]},se(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),se(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),se(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){J(e)||I(8),W(e)&&(e=function(e){W(e)||I(10);return Me(e)}(e));const t=_e(this),n=Fe(t,e,void 0);return n[R].isManual_=!0,je(t),n}finishDraft(e,t){const n=e&&e[R];n&&n.isManual_||I(9);const{scope_:a}=n;return xe(a,t),Ne(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}n>-1&&(t=t.slice(n+1));const a=ve(pe).applyPatches_;return W(e)?a(e,t):this.produce(e,e=>a(e,t))}},Ue=qe.produce;function Be(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Ve=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),He=()=>Math.random().toString(36).substring(7).split("").join("."),We={INIT:"@@redux/INIT".concat(He()),REPLACE:"@@redux/REPLACE".concat(He()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(He())};function Je(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Qe(e,t,n){if("function"!==typeof e)throw new Error(Be(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Be(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Be(1));return n(Qe)(e,t)}let a=e,r=t,i=new Map,s=i,o=0,l=!1;function c(){s===i&&(s=new Map,i.forEach((e,t)=>{s.set(t,e)}))}function d(){if(l)throw new Error(Be(3));return r}function u(e){if("function"!==typeof e)throw new Error(Be(4));if(l)throw new Error(Be(5));let t=!0;c();const n=o++;return s.set(n,e),function(){if(t){if(l)throw new Error(Be(6));t=!1,c(),s.delete(n),i=null}}}function h(e){if(!Je(e))throw new Error(Be(7));if("undefined"===typeof e.type)throw new Error(Be(8));if("string"!==typeof e.type)throw new Error(Be(17));if(l)throw new Error(Be(9));try{l=!0,r=a(r,e)}finally{l=!1}return(i=s).forEach(e=>{e()}),e}h({type:We.INIT});return{dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Be(10));a=e,h({type:We.REPLACE})},[Ve]:function(){const e=u;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Be(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[Ve](){return this}}}}}function $e(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const a=t[s];0,"function"===typeof e[a]&&(n[a]=e[a])}const a=Object.keys(n);let r;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:We.INIT}))throw new Error(Be(12));if("undefined"===typeof n(void 0,{type:We.PROBE_UNKNOWN_ACTION()}))throw new Error(Be(13))})}(n)}catch(i){r=i}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(r)throw r;let i=!1;const s={};for(let r=0;r<a.length;r++){const o=a[r],l=n[o],c=e[o],d=l(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(Be(14))}s[o]=d,i=i||d!==c}return i=i||a.length!==Object.keys(e).length,i?s:e}}function Ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Ye(e){return t=>{let{dispatch:n,getState:a}=t;return t=>r=>"function"===typeof r?r(n,a,e):t(r)}}var Ge=Ye(),Xe=Ye;const Ze=["reducerPath"];var et="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ke:Ke.apply(null,arguments)},tt=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"===typeof e.match);function nt(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Lt(0));return T(T({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return Je(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var at=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function rt(e){return J(e)?Ue(e,()=>{}):e}function it(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var st="RTK_autoBatch",ot=e=>t=>{setTimeout(t,e)},lt=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let a=new at(e);return n&&a.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let a=!0,r=!1,i=!1;const s=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:ot(10):"callback"===e.type?e.queueNotification:ot(e.timeout),l=()=>{i=!1,r&&(r=!1,s.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>a&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{var t;return a=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[st]),r=!a,r&&(i||(i=!0,o(l))),n.dispatch(e)}finally{a=!0}}})}}("object"===typeof n?n:void 0)),a};function ct(e){const t={},n=[];let a;const r={addCase(e,n){const a="string"===typeof e?e:e.type;if(!a)throw new Error(Lt(28));if(a in t)throw new Error(Lt(29));return t[a]=n,r},addAsyncThunk:(e,a)=>(a.pending&&(t[e.pending.type]=a.pending),a.rejected&&(t[e.rejected.type]=a.rejected),a.fulfilled&&(t[e.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:e.settled,reducer:a.settled}),r),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),r),addDefaultCase:e=>(a=e,r)};return e(r),[t,n,a]}var dt=(e,t)=>tt(e)?e.match(t):e(t);function ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some(t=>dt(t,e))}var ht=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},mt=["name","message","stack","code"],pt=class{constructor(e,t){P(this,"_type",void 0),this.payload=e,this.meta=t}},ft=class{constructor(e,t){P(this,"_type",void 0),this.payload=e,this.meta=t}},vt=e=>{if("object"===typeof e&&null!==e){const t={};for(const n of mt)"string"===typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},gt="External signal was aborted",yt=(()=>{function e(e,t,n){const a=nt(e+"/fulfilled",(e,t,n,a)=>({payload:e,meta:T(T({},a||{}),{},{arg:n,requestId:t,requestStatus:"fulfilled"})})),r=nt(e+"/pending",(e,t,n)=>({payload:void 0,meta:T(T({},n||{}),{},{arg:t,requestId:e,requestStatus:"pending"})})),i=nt(e+"/rejected",(e,t,a,r,i)=>({payload:r,error:(n&&n.serializeError||vt)(e||"Rejected"),meta:T(T({},i||{}),{},{arg:a,requestId:t,rejectedWithValue:!!r,requestStatus:"rejected",aborted:"AbortError"===(null===e||void 0===e?void 0:e.name),condition:"ConditionError"===(null===e||void 0===e?void 0:e.name)})}));return Object.assign(function(e){let{signal:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(o,l,c)=>{const d=null!==n&&void 0!==n&&n.idGenerator?n.idGenerator(e):ht(),u=new AbortController;let h,m;function p(e){m=e,u.abort()}s&&(s.aborted?p(gt):s.addEventListener("abort",()=>p(gt),{once:!0}));const f=async function(){let s;try{var f,v;let i=null===n||void 0===n||null===(f=n.condition)||void 0===f?void 0:f.call(n,e,{getState:l,extra:c});if(null!==(g=i)&&"object"===typeof g&&"function"===typeof g.then&&(i=await i),!1===i||u.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const y=new Promise((e,t)=>{h=()=>{t({name:"AbortError",message:m||"Aborted"})},u.signal.addEventListener("abort",h)});o(r(d,e,null===n||void 0===n||null===(v=n.getPendingMeta)||void 0===v?void 0:v.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),s=await Promise.race([y,Promise.resolve(t(e,{dispatch:o,getState:l,extra:c,requestId:d,signal:u.signal,abort:p,rejectWithValue:(e,t)=>new pt(e,t),fulfillWithValue:(e,t)=>new ft(e,t)})).then(t=>{if(t instanceof pt)throw t;return t instanceof ft?a(t.payload,d,e,t.meta):a(t,d,e)})])}catch(y){s=y instanceof pt?i(null,d,e,y.payload,y.meta):i(y,d,e)}finally{h&&u.signal.removeEventListener("abort",h)}var g;return n&&!n.dispatchConditionRejection&&i.match(s)&&s.meta.condition||o(s),s}();return Object.assign(f,{abort:p,requestId:d,arg:e,unwrap:()=>f.then(xt)})}},{pending:r,rejected:i,fulfilled:a,settled:ut(i,a),typePrefix:e})}return e.withTypes=()=>e,e})();function xt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var bt=Symbol.for("rtk-slice-createasyncthunk");function jt(e,t){return"".concat(e,"/").concat(t)}function _t(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[bt];return function(e){const{name:t,reducerPath:a=t}=e;if(!t)throw new Error(Lt(11));const r=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return T({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(r),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Lt(12));if(n in s.sliceCaseReducersByType)throw new Error(Lt(13));return s.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],a]="function"===typeof e.extraReducers?ct(e.extraReducers):[e.extraReducers],r=T(T({},t),s.sliceCaseReducersByType);return function(e,t){let n,[a,r,i]=ct(t);if("function"===typeof e)n=()=>rt(e());else{const t=rt(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[a[t.type],...r.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===s.filter(e=>!!e).length&&(s=[i]),s.reduce((e,n)=>{if(n){if(W(e)){const a=n(e,t);return void 0===a?e:a}if(J(e))return Ue(e,e=>n(e,t));{const a=n(e,t);if(void 0===a){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return a}}return e},e)}return s.getInitialState=n,s}(e.initialState,e=>{for(let t in r)e.addCase(t,r[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);a&&e.addDefaultCase(a)})}i.forEach(a=>{const i=r[a],s={reducerName:a,type:jt(t,a),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,n){let a,r,{type:i,reducerName:s,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Lt(17));a=t.reducer,r=t.prepare}else a=t;n.addCase(i,a).exposeCaseReducer(s,a).exposeAction(s,r?nt(i,r):nt(i))}(s,i,o):function(e,t,n,a){let{type:r,reducerName:i}=e;if(!a)throw new Error(Lt(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=t,h=a(r,s,u);n.exposeAction(i,h),o&&n.addCase(h.fulfilled,o);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);d&&n.addMatcher(h.settled,d);n.exposeCaseReducer(i,{fulfilled:o||St,pending:l||St,rejected:c||St,settled:d||St})}(s,i,o,n)});const c=e=>e,d=new Map,u=new WeakMap;let h;function m(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function f(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function a(e){let r=e[t];return"undefined"===typeof r&&n&&(r=it(u,a,p)),r}function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const a=it(d,n,()=>new WeakMap);return it(a,t,()=>{const a={};for(const[i,s]of Object.entries(null!==(r=e.selectors)&&void 0!==r?r:{})){var r;a[i]=wt(s,t,()=>it(u,t,p),n)}return a})}return{reducerPath:t,getSelectors:r,get selectors(){return r(a)},selectSlice:a}}const v=T(T({name:t,reducer:m,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:p},f(a)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,r=O(t,Ze);const i=null!==n&&void 0!==n?n:a;return e.inject({reducerPath:i,reducer:m},r),T(T({},v),f(i,!0))}});return v}}function wt(e,t,n,a){function r(r){let i=t(r);"undefined"===typeof i&&a&&(i=n());for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return e(i,...o)}return r.unwrapped=e,r}var Nt=_t();function St(){}var kt="listener",Ct="completed",Et="cancelled";"task-".concat(Et),"task-".concat(Ct),"".concat(kt,"-").concat(Et),"".concat(kt,"-").concat(Ct);var{assign:Pt}=Object,At="listenerMiddleware",Tt=Pt(nt("".concat(At,"/add")),{withTypes:()=>Tt}),Ot=("".concat(At,"/removeAll"),Pt(nt("".concat(At,"/remove")),{withTypes:()=>Ot}));Symbol.for("rtk-state-proxy-original");function Lt(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const Dt={token:null,user:null,setToken(e){this.token=e||null},getToken(){return this.token},setUser(e){this.user=e||null},getUser(){return this.user},clear(){this.token=null,this.user=null}},Rt=Nt({name:"auth",initialState:{user:Dt.getUser()||null,token:Dt.getToken()||null,isAuthenticated:!!Dt.getToken(),loading:!1,error:null},reducers:{loginStart:e=>{e.loading=!0,e.error=null},loginSuccess:(e,t)=>{e.loading=!1,e.isAuthenticated=!0,e.user=t.payload.user,e.token=t.payload.token,e.error=null;try{Dt.setToken(t.payload.token),Dt.setUser(t.payload.user)}catch(n){}},loginFailure:(e,t)=>{e.loading=!1,e.error=t.payload},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,e.error=null;try{Dt.clear()}catch(t){}},updateUser:(e,t)=>{e.user=T(T({},e.user),t.payload);try{Dt.setUser(e.user)}catch(n){}},clearError:e=>{e.error=null}}}),{loginStart:It,loginSuccess:zt,loginFailure:Ft,logout:Mt,updateUser:qt,clearError:Ut}=Rt.actions,Bt=Rt.reducer,Vt=Nt({name:"projects",initialState:{projects:[],currentProject:null,loading:!1,error:null,filters:{status:"all",search:""}},reducers:{setProjects:(e,t)=>{e.projects=t.payload,e.loading=!1},setCurrentProject:(e,t)=>{e.currentProject=t.payload},addProject:(e,t)=>{e.projects.unshift(t.payload)},updateProject:(e,t)=>{var n;const a=e.projects.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.projects[a]=t.payload),(null===(n=e.currentProject)||void 0===n?void 0:n.id)===t.payload.id&&(e.currentProject=t.payload)},deleteProject:(e,t)=>{var n;e.projects=e.projects.filter(e=>e.id!==t.payload),(null===(n=e.currentProject)||void 0===n?void 0:n.id)===t.payload&&(e.currentProject=null)},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload,e.loading=!1},clearError:e=>{e.error=null},setFilters:(e,t)=>{e.filters=T(T({},e.filters),t.payload)}}}),{setProjects:Ht,setCurrentProject:Wt,addProject:Jt,updateProject:Qt,deleteProject:$t,setLoading:Kt,setError:Yt,clearError:Gt,setFilters:Xt}=Vt.actions,Zt=Vt.reducer,en=Nt({name:"ui",initialState:{sidebarOpen:!0,theme:"light",notifications:[],modal:{isOpen:!1,type:null,data:null}},reducers:{toggleSidebar:e=>{e.sidebarOpen=!e.sidebarOpen},setSidebarOpen:(e,t)=>{e.sidebarOpen=t.payload},setTheme:(e,t)=>{e.theme=t.payload},addNotification:(e,t)=>{e.notifications.push(T({id:Date.now()},t.payload))},removeNotification:(e,t)=>{e.notifications=e.notifications.filter(e=>e.id!==t.payload)},clearNotifications:e=>{e.notifications=[]},openModal:(e,t)=>{e.modal={isOpen:!0,type:t.payload.type,data:t.payload.data||null}},closeModal:e=>{e.modal={isOpen:!1,type:null,data:null}}}}),{toggleSidebar:tn,setSidebarOpen:nn,setTheme:an,addNotification:rn,removeNotification:sn,clearNotifications:on,openModal:ln,closeModal:cn}=en.actions,dn=en.reducer,un=" /api",hn="PhotoFlow",mn="photoflow_app_state_v1",pn="photoflow_services",fn="photoflow_quotations_v1",vn="photoflow_projects",gn="photoflow_team",yn="photoflow_events",xn="photoflow_invoices_v1",bn="photoflow_policy_v1",jn="photoflow_conversations",_n="photoflow_chat_messages",wn="/auth/login",Nn="/auth/register",Sn="/auth/forgot-password",kn="/auth/reset-password",Cn="/auth/change-password",En="/chat/conversations",Pn={profile:{fullName:"",email:"",phone:"",designation:"",avatar:null,avatarPreview:null},company:{name:"",email:"",phone:"",address:"",logo:null,logoPreview:null},bank:{bankName:"",accountHolder:"",accountNumber:"",branch:"",ifsc:"",address:"",upiId:"",upiQr:null,upiQrPreview:null},notifications:{overall:!0,events:!0,chat:!0}},An=Nt({name:"settings",initialState:Pn,reducers:{updateProfile:(e,t)=>{e.profile=T(T({},e.profile),t.payload)},updateCompany:(e,t)=>{e.company=T(T({},e.company),t.payload)},updateBank:(e,t)=>{e.bank=T(T({},e.bank),t.payload)},updateNotifications:(e,t)=>{e.notifications=T(T({},e.notifications),t.payload)},setSettings:(e,t)=>{e.profile=T(T({},e.profile),t.payload.profile),e.company=T(T({},e.company),t.payload.company),e.bank=T(T({},e.bank),t.payload.bank),e.notifications=T(T({},e.notifications),t.payload.notifications)},clearSettings:e=>{e.profile=Pn.profile,e.company=Pn.company,e.bank=Pn.bank,e.notifications=Pn.notifications}},extraReducers:e=>{e.addCase(zn.fulfilled,(e,t)=>{e.profile=T(T({},e.profile),t.payload)}).addCase(Fn.fulfilled,(e,t)=>{e.company=T(T({},e.company),t.payload)}).addCase(Mn.fulfilled,(e,t)=>{e.bank=T(T({},e.bank),t.payload)}).addCase(qn.fulfilled,(e,t)=>{e.notifications=T(T({},e.notifications),t.payload)}).addCase(Un.fulfilled,(e,t)=>{if(t.payload){const n=t.payload,a=n.profile||{},r=n.company||{},i=n.bank||{},s=n.notifications||{};e.profile=T(T({},e.profile),a),e.company=T(T({},e.company),r),e.bank=T(T({},e.bank),i),e.notifications=T(T({},e.notifications),s)}})}}),{updateProfile:Tn,updateCompany:On,updateBank:Ln,updateNotifications:Dn,setSettings:Rn,clearSettings:In}=An.actions,zn=yt("settings/saveProfile",async(e,t)=>{let{rejectWithValue:n}=t;try{const t=Dt.getToken(),a="".concat(un,"/settings/profile"),r=await fetch(a,{method:"PUT",headers:T({"Content-Type":"application/json"},t?{Authorization:"Bearer ".concat(t)}:{}),body:JSON.stringify(e||{})});if(r.ok){return await r.json()}const i=await r.text();return console.error("saveProfile failed",i),n(i)}catch(a){return console.error("saveProfile error",a),n(a.message)}}),Fn=yt("settings/saveCompany",async(e,t)=>{let{rejectWithValue:n}=t;try{const t=Dt.getToken(),a=await fetch("".concat(un,"/settings/company"),{method:"PUT",headers:T({"Content-Type":"application/json"},t?{Authorization:"Bearer ".concat(t)}:{}),body:JSON.stringify(e||{})});if(a.ok){return await a.json()}const r=await a.text();return console.error("saveCompany failed",r),n(r)}catch(a){return console.error("saveCompany error",a),n(a.message)}}),Mn=yt("settings/saveBank",async(e,t)=>{let{rejectWithValue:n}=t;try{const t=Dt.getToken(),a=await fetch("".concat(un,"/settings/bank"),{method:"PUT",headers:T({"Content-Type":"application/json"},t?{Authorization:"Bearer ".concat(t)}:{}),body:JSON.stringify(e||{})});if(a.ok){return await a.json()}const r=await a.text();return console.error("saveBank failed",r),n(r)}catch(a){return console.error("saveBank error",a),n(a.message)}}),qn=yt("settings/saveNotifications",async(e,t)=>{let{rejectWithValue:n}=t;try{const t=Dt.getToken(),a=await fetch("".concat(un,"/settings/notifications"),{method:"PUT",headers:T({"Content-Type":"application/json"},t?{Authorization:"Bearer ".concat(t)}:{}),body:JSON.stringify(e||{})});if(a.ok){return await a.json()}const r=await a.text();return console.error("saveNotifications failed",r),n(r)}catch(a){return console.error("saveNotifications error",a),n(a.message)}}),Un=yt("settings/loadSettings",async(e,t)=>{let{rejectWithValue:n}=t;try{const e=Dt.getToken(),t="".concat(un,"/settings"),a=await fetch(t,{headers:T({},e?{Authorization:"Bearer ".concat(e)}:{})});if(a.ok){return await a.json()}const r=await a.text();return console.error("loadSettings failed",r),n(r)}catch(a){return console.error("loadSettings error",a),n(a.message)}}),Bn=An.reducer,Vn={getRaw:function(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:null},setRaw:(e,t)=>!1,remove:e=>!1,getJSON:function(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:null},setJSON:(e,t)=>!1,setJSONAndSync:(e,t)=>!1,async syncToServer(e,t){},async syncFromServer(e){const t={photoflow_quotations_v1:"/quotations",photoflow_events:"/events",photoflow_invoices_v1:"/billing",photoflow_services:"/services",photoflow_team:"/team",photoflow_projects:"/projects",photoflow_policy_v1:"/policy"}[e];if(!t)return null;const n=Dt.getToken();if(!n)return null;try{const e=await fetch("".concat(un).concat(t),{headers:{Authorization:"Bearer ".concat(n)}});if(e.ok){const t=await e.json();return Array.isArray(t)?t:null}return null}catch(a){return console.error("syncFromServer failed",a),null}}},Hn=e=>!1,Wn=(()=>{})(),Jn=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:r=!0}=null!==e&&void 0!==e?e:{};let i=new at;return t&&("boolean"===typeof t?i.push(Ge):i.push(Xe(t.extraArgument))),i},{reducer:n,middleware:a,devTools:r=!0,duplicateMiddlewareCheck:i=!0,preloadedState:s,enhancers:o}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!Je(n))throw new Error(Lt(1));l=$e(n)}c="function"===typeof a?a(t):t();let d=Ke;r&&(d=et(T({trace:!1},"object"===typeof r&&r)));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,a)=>{const r=e(n,a);let i=()=>{throw new Error(Be(15))};const s={getState:r.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return i(e,...n)}},o=t.map(e=>e(s));return i=Ke(...o)(r.dispatch),T(T({},r),{},{dispatch:i})}}(...c),h=lt(u);return Qe(l,s,d(..."function"===typeof o?o(h):h()))}({reducer:{auth:Bt,projects:Zt,ui:dn,settings:Bn},preloadedState:Wn?{projects:T({projects:[],currentProject:null,loading:!1,error:null,filters:{status:"all",search:""}},Wn.projects||{}),ui:T({sidebarOpen:!0,theme:"light",notifications:[],modal:{isOpen:!1,type:null,data:null}},Wn.ui||{})}:void 0,middleware:e=>e({serializableCheck:!1})});let Qn=0;Jn.subscribe(()=>{const e=Date.now();if(e-Qn<500)return;Qn=e;const t=Jn.getState(),n={auth:{isAuthenticated:t.auth.isAuthenticated,user:t.auth.user},projects:{projects:t.projects.projects,currentProject:t.projects.currentProject,filters:t.projects.filters},ui:{sidebarOpen:t.ui.sidebarOpen,theme:t.ui.theme}};Hn(n)});const $n=["sri"],Kn=["page"],Yn=["page","matches"],Gn=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xn=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Zn=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var ea="popstate";function ta(){return la(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return ia("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:sa(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function na(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function aa(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ra(e,t){return{usr:e.state,key:e.key,idx:t}}function ia(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0;return T(T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?oa(t):t),{},{state:n,key:t&&t.key||a||Math.random().toString(36).substring(2,10)})}function sa(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function oa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function la(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:i=!1}=a,s=r.history,o="POP",l=null,c=d();function d(){return(s.state||{idx:null}).idx}function u(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function h(e){return ca(e)}null==c&&(c=0,s.replaceState(T(T({},s.state),{},{idx:c}),""));let m={get action(){return o},get location(){return e(r,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(ea,u),l=e,()=>{r.removeEventListener(ea,u),l=null}},createHref:e=>t(r,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let a=ia(m.location,e,t);n&&n(a,e),c=d()+1;let u=ra(a,c),h=m.createHref(a);try{s.pushState(u,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;r.location.assign(h)}i&&l&&l({action:o,location:m.location,delta:1})},replace:function(e,t){o="REPLACE";let a=ia(m.location,e,t);n&&n(a,e),c=d();let r=ra(a,c),u=m.createHref(a);s.replaceState(r,"",u),i&&l&&l({action:o,location:m.location,delta:0})},go:e=>s.go(e)};return m}function ca(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),na(n,"No window.location.(origin|href) available to create URL");let a="string"===typeof e?e:sa(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}new WeakMap;function da(e,t){return ua(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function ua(e,t,n,a){let r=ka(("string"===typeof t?oa(t):t).pathname||"/",n);if(null==r)return null;let i=ha(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=Sa(r);s=_a(i[o],e,a)}return s}function ha(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=function(e,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(a)&&s)return;na(l.relativePath.startsWith(a),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(a,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(a.length)}let c=Da([a,l.relativePath]),d=n.concat(l);e.children&&e.children.length>0&&(na(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),ha(e.children,t,d,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:ja(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let a of ma(e.path))i(e,t,!0,a);else i(e,t)}),t}function ma(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===a.length)return r?[i,""]:[i];let s=ma(a.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),r&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var pa=/^:[\w-]+$/,fa=3,va=2,ga=1,ya=10,xa=-2,ba=e=>"*"===e;function ja(e,t){let n=e.split("/"),a=n.length;return n.some(ba)&&(a+=xa),t&&(a+=va),n.filter(e=>!ba(e)).reduce((e,t)=>e+(pa.test(t)?fa:""===t?ga:ya),a)}function _a(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:a}=e,r={},i="/",s=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===i?t:t.slice(i.length)||"/",d=wa({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!a[a.length-1].route.index&&(d=wa({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),s.push({params:r,pathname:Da([i,d.pathname]),pathnameBase:Ra(Da([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=Da([i,d.pathnameBase]))}return s}function wa(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=Na(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],s=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[a]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function Na(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];aa("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function Sa(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return aa(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function ka(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}var Ca=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ea=e=>Ca.test(e);function Pa(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function Aa(e,t,n,a){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(a),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Ta(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Oa(e){let t=Ta(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function La(e,t,n){let a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?a=oa(e):(a=T({},e),na(!a.pathname||!a.pathname.includes("?"),Aa("?","pathname","search",a)),na(!a.pathname||!a.pathname.includes("#"),Aa("#","pathname","hash",a)),na(!a.search||!a.search.includes("#"),Aa("#","search","hash",a)));let i,s=""===e||""===a.pathname,o=s?"/":a.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:a,search:r="",hash:i=""}="string"===typeof e?oa(e):e;if(a)if(Ea(a))t=a;else{if(a.includes("//")){let e=a;a=a.replace(/\/\/+/g,"/"),aa(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(a))}t=a.startsWith("/")?Pa(a.substring(1),"/"):Pa(a,n)}else t=n;return{pathname:t,search:Ia(r),hash:za(i)}}(a,i),c=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var Da=e=>e.join("/").replace(/\/\/+/g,"/"),Ra=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ia=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",za=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Fa(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ma=["POST","PUT","PATCH","DELETE"],qa=(new Set(Ma),["GET",...Ma]);new Set(qa),Symbol("ResetLoaderData");var Ua=r.createContext(null);Ua.displayName="DataRouter";var Ba=r.createContext(null);Ba.displayName="DataRouterState";var Va=r.createContext(!1);var Ha=r.createContext({isTransitioning:!1});Ha.displayName="ViewTransition";var Wa=r.createContext(new Map);Wa.displayName="Fetchers";var Ja=r.createContext(null);Ja.displayName="Await";var Qa=r.createContext(null);Qa.displayName="Navigation";var $a=r.createContext(null);$a.displayName="Location";var Ka=r.createContext({outlet:null,matches:[],isDataRoute:!1});Ka.displayName="Route";var Ya=r.createContext(null);Ya.displayName="RouteError";function Ga(){return null!=r.useContext($a)}function Xa(){return na(Ga(),"useLocation() may be used only in the context of a <Router> component."),r.useContext($a).location}var Za="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function er(e){r.useContext(Qa).static||r.useLayoutEffect(e)}function tr(){let{isDataRoute:e}=r.useContext(Ka);return e?function(){let{router:e}=ur("useNavigate"),t=mr("useNavigate"),n=r.useRef(!1);er(()=>{n.current=!0});let a=r.useCallback(async function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};aa(n.current,Za),n.current&&("number"===typeof a?e.navigate(a):await e.navigate(a,T({fromRouteId:t},r)))},[e,t]);return a}():function(){na(Ga(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(Ua),{basename:t,navigator:n}=r.useContext(Qa),{matches:a}=r.useContext(Ka),{pathname:i}=Xa(),s=JSON.stringify(Oa(a)),o=r.useRef(!1);er(()=>{o.current=!0});let l=r.useCallback(function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(aa(o.current,Za),!o.current)return;if("number"===typeof a)return void n.go(a);let l=La(a,JSON.parse(s),i,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Da([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)},[t,n,s,i,e]);return l}()}r.createContext(null);function nr(){let{matches:e}=r.useContext(Ka),t=e[e.length-1];return t?t.params:{}}function ar(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(Ka),{pathname:a}=Xa(),i=JSON.stringify(Oa(n));return r.useMemo(()=>La(e,JSON.parse(i),a,"path"===t),[e,i,a,t])}function rr(e,t,n,a,i){na(Ga(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(Qa),{matches:o}=r.useContext(Ka),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";vr(d,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,p=Xa();if(t){var f;let e="string"===typeof t?oa(t):t;na("/"===u||(null===(f=e.pathname)||void 0===f?void 0:f.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=p;let v=m.pathname||"/",g=v;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=da(e,{pathname:g});aa(h||null!=y,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),aa(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let x=cr(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Da([u,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Da([u,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,n,a,i);return t&&x?r.createElement($a.Provider,{value:{location:T({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},x):x}function ir(){let e=pr(),t=Fa(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,o)}var sr=r.createElement(ir,null),or=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(Ka.Provider,{value:this.props.routeContext},r.createElement(Ya.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lr(e){let{routeContext:t,match:n,children:a}=e,i=r.useContext(Ua);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Ka.Provider,{value:t},a)}function cr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=i.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));na(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,l=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){o=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}let c=n&&a?(e,t)=>{var r,i;a(e,{location:n.location,params:null!==(r=null===(i=n.matches)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.params)&&void 0!==r?r:{},errorInfo:t})}:void 0;return i.reduceRight((e,a,d)=>{let u,h=!1,m=null,p=null;n&&(u=s&&a.route.id?s[a.route.id]:void 0,m=a.route.errorElement||sr,o&&(l<0&&0===d?(vr("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===d&&(h=!0,p=a.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,d+1)),v=()=>{let t;return t=u?m:h?p:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(lr,{match:a,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===d)?r.createElement(or,{location:n.location,revalidation:n.revalidation,component:m,error:u,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0},onError:c}):v()},null)}function dr(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ur(e){let t=r.useContext(Ua);return na(t,dr(e)),t}function hr(e){let t=r.useContext(Ba);return na(t,dr(e)),t}function mr(e){let t=function(e){let t=r.useContext(Ka);return na(t,dr(e)),t}(e),n=t.matches[t.matches.length-1];return na(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function pr(){var e;let t=r.useContext(Ya),n=hr("useRouteError"),a=mr("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[a]}var fr={};function vr(e,t,n){t||fr[e]||(fr[e]=!0,aa(!1,n))}var gr={};function yr(e,t){e||gr[t]||(gr[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:a,unstable_onError:r}=e;return rr(t,void 0,a,r,n)});function xr(e){let{to:t,replace:n,state:a,relative:i}=e;na(Ga(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=r.useContext(Qa);aa(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=r.useContext(Ka),{pathname:l}=Xa(),c=tr(),d=La(t,Oa(o),l,"path"===i),u=JSON.stringify(d);return r.useEffect(()=>{c(JSON.parse(u),{replace:n,state:a,relative:i})},[c,u,i,n,a]),null}function br(e){na(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jr(e){let{basename:t="/",children:n=null,location:a,navigationType:i="POP",navigator:s,static:o=!1}=e;na(!Ga(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);"string"===typeof a&&(a=oa(a));let{pathname:d="/",search:u="",hash:h="",state:m=null,key:p="default"}=a,f=r.useMemo(()=>{let e=ka(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:m,key:p},navigationType:i}},[l,d,u,h,m,p,i]);return aa(null!=f,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(u).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:r.createElement(Qa.Provider,{value:c},r.createElement($a.Provider,{children:n,value:f}))}function _r(e){let{children:t,location:n}=e;return rr(wr(t),n)}r.Component;function wr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let i=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,wr(e.props.children,i));na(e.type===br,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),na(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=wr(e.props.children,i)),n.push(s)}),n}var Nr="get",Sr="application/x-www-form-urlencoded";function kr(e){return null!=e&&"string"===typeof e.tagName}var Cr=null;var Er=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pr(e){return null==e||Er.has(e)?e:(aa(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Sr,'"')),null)}function Ar(e,t){let n,a,r,i,s;if(kr(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");a=s?ka(s,t):null,n=e.getAttribute("method")||Nr,r=Pr(e.getAttribute("enctype"))||Sr,i=new FormData(e)}else if(function(e){return kr(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return kr(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(a=o?ka(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Nr,r=Pr(e.getAttribute("formenctype"))||Pr(s.getAttribute("enctype"))||Sr,i=new FormData(s,e),!function(){if(null===Cr)try{new FormData(document.createElement("form"),0),Cr=!1}catch(e){Cr=!0}return Cr}()){let{name:t,type:n,value:a}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,a)}}else{if(kr(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nr,a=null,r=Sr,s=e}var o;return i&&"text/plain"===r&&(s=i,i=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Tr(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Or(e,t,n){let a="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===a.pathname?a.pathname="_root.".concat(n):t&&"/"===ka(a.pathname,t)?a.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):a.pathname="".concat(a.pathname.replace(/\/$/,""),".").concat(n),a}async function Lr(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dr(e){return null!=e&&"string"===typeof e.page}function Rr(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ir(e,t,n,a,r,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var a;return n[t].pathname!==e.pathname||(null===(a=n[t].route.path)||void 0===a?void 0:a.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=a.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){var c;let a=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof a)return a}return!0}):[]}function zr(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a=e.map(e=>{let a=t.routes[e.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1),[...new Set(a)];var a}function Fr(e,t){let n=new Set,a=new Set(t);return e.reduce((e,r)=>{if(t&&!Dr(r)&&"script"===r.as&&r.href&&a.has(r.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}(r));return n.has(i)||(n.add(i),e.push({key:i,link:r})),e},[])}function Mr(e,t){return"lazy"===e.mode&&!0===t}function qr(){let e=r.useContext(Ua);return Tr(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ur(){let e=r.useContext(Ba);return Tr(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Br=r.createContext(void 0);function Vr(){let e=r.useContext(Br);return Tr(e,"You must render this element inside a <HydratedRouter> element"),e}function Hr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Wr(e,t,n){if(n&&!Kr)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Br.displayName="FrameworkContext";function Jr(e){let{page:t}=e,n=O(e,Kn),{router:a}=qr(),i=r.useMemo(()=>da(a.routes,t,a.basename),[a.routes,t,a.basename]);return i?r.createElement($r,T({page:t,matches:i},n)):null}function Qr(e){let{manifest:t,routeModules:n}=Vr(),[a,i]=r.useState([]);return r.useEffect(()=>{let a=!1;return async function(e,t,n){return Fr((await Promise.all(e.map(async e=>{let a=t.routes[e.route.id];if(a){let e=await Lr(a,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Rr).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?T(T({},e),{},{rel:"prefetch",as:"style"}):T(T({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{a||i(e)}),()=>{a=!0}},[e,t,n]),a}function $r(e){let{page:t,matches:n}=e,a=O(e,Yn),i=Xa(),{manifest:s,routeModules:o}=Vr(),{basename:l}=qr(),{loaderData:c,matches:d}=Ur(),u=r.useMemo(()=>Ir(t,n,d,s,i,"data"),[t,n,d,s,i]),h=r.useMemo(()=>Ir(t,n,d,s,i,"assets"),[t,n,d,s,i]),m=r.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,a=!1;if(n.forEach(t=>{var n;let r=s.routes[t.route.id];r&&r.hasLoader&&(!u.some(e=>e.route.id===t.route.id)&&t.route.id in c&&null!==(n=o[t.route.id])&&void 0!==n&&n.shouldRevalidate||r.hasClientLoader?a=!0:e.add(t.route.id))}),0===e.size)return[];let r=Or(t,l,"data");return a&&e.size>0&&r.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[l,c,i,s,u,n,t,o]),p=r.useMemo(()=>zr(h,s),[h,s]),f=Qr(h);return r.createElement(r.Fragment,null,m.map(e=>r.createElement("link",T({key:e,rel:"prefetch",as:"fetch",href:e},a))),p.map(e=>r.createElement("link",T({key:e,rel:"modulepreload",href:e},a))),f.map(e=>{let{key:t,link:n}=e;return r.createElement("link",T({key:t,nonce:a.nonce},n))}))}var Kr=!1;function Yr(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:i,routeDiscovery:s,ssr:o}=Vr(),{router:l,static:c,staticContext:d}=qr(),{matches:u}=Ur(),h=r.useContext(Va),m=Mr(s,o);i&&(i.didRenderScripts=!0);let p=Wr(u,null,a);r.useEffect(()=>{Kr=!0},[]);let f=r.useMemo(()=>{var a;if(h)return null;let i=d?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=c?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(p.map((e,n)=>{let a="route".concat(n),r=t.routes[e.route.id];Tr(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=r,d=[...i?[{module:i,varName:"".concat(a,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(a,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(a,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(a,"_HydrateFallback")}]:[],{module:c,varName:"".concat(a,"_main")}];return 1===d.length?"import * as ".concat(a," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(a," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,a=O(e,$n),r=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push("/".concat(i.join("/"))),i.pop();s.forEach(e=>{let n=da(t.routes,e,t.basename);n&&n.forEach(e=>r.add(e.route.id))});let o=[...r].reduce((e,t)=>Object.assign(e,{[t]:a.routes[t]}),{});return T(T({},a),{},{routes:o,sri:!!n||void 0})}(t,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(p.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",T(T({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:void 0})),r.createElement("script",T(T({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:"module",async:!0})))},[]),v=Kr||h?[]:(g=t.entry.imports.concat(zr(p,t,{includeHydrateFallback:!0})),[...new Set(g)]);var g;let y="object"===typeof t.sri?t.sri:{};return yr(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Kr||h?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,m?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:y[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:y[t.entry.module],suppressHydrationWarning:!0}),v.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:y[t],suppressHydrationWarning:!0})),f)}function Gr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function Xr(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let a,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Fa(t))return r.createElement(Zr,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return r.createElement(Zr,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function Zr(e){var t;let{title:n,renderScripts:a,isOutsideRemixApp:i,children:s}=e,{routeModules:o}=Vr();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!i?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,a?r.createElement(Yr,null):null)))}var ei="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ei&&(window.__reactRouterVersion="7.9.6")}catch(Fu){}function ti(e){let{basename:t,children:n,window:a}=e,i=r.useRef();null==i.current&&(i.current=ta({window:a,v5Compat:!0}));let s=i.current,[o,l]=r.useState({action:s.action,location:s.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>s.listen(c),[s,c]),r.createElement(jr,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var ni=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ai=r.forwardRef(function(e,t){let n,{onClick:a,discover:i="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:d,target:u,to:h,preventScrollReset:m,viewTransition:p}=e,f=O(e,Gn),{basename:v}=r.useContext(Qa),g="string"===typeof h&&ni.test(h),y=!1;if("string"===typeof h&&g&&(n=h,ei))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=ka(t.pathname,v);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(Fu){aa(!1,'<Link to="'.concat(h,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let x=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};na(Ga(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(Qa),{hash:i,pathname:s,search:o}=ar(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:Da([n,s])),a.createHref({pathname:l,search:o,hash:i})}(h,{relative:o}),[b,j,_]=function(e,t){let n=r.useContext(Br),[a,i]=r.useState(!1),[s,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=t,m=r.useRef(null);r.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{i(!0)},f=()=>{i(!1),o(!1)};return n?"intent"!==e?[s,m,{}]:[s,m,{onFocus:Hr(l,p),onBlur:Hr(c,f),onMouseEnter:Hr(d,p),onMouseLeave:Hr(u,f),onTouchStart:Hr(h,p)}]:[!1,m,{}]}(s,f),w=function(e){let{target:t,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=tr(),c=Xa(),d=ar(e,{relative:s});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:sa(c)===sa(d);l(e,{replace:t,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,n,a,t,e,i,s,o])}(h,{replace:c,state:d,target:u,preventScrollReset:m,relative:o,viewTransition:p});let N=r.createElement("a",T(T(T({},f),_),{},{href:n||x,onClick:y||l?a:function(e){a&&a(e),e.defaultPrevented||w(e)},ref:Gr(t,j),target:u,"data-discover":g||"render"!==i?void 0:"true"}));return b&&!g?r.createElement(r.Fragment,null,N,r.createElement(Jr,{page:x})):N});ai.displayName="Link";var ri=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:d}=e,u=O(e,Xn),h=ar(l,{relative:u.relative}),m=Xa(),p=r.useContext(Ba),{navigator:f,basename:v}=r.useContext(Qa),g=null!=p&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(Ha);na(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=oi("useViewTransitionState"),i=ar(e,{relative:t});if(!n.isTransitioning)return!1;let s=ka(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=ka(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=wa(i.pathname,o)||null!=wa(i.pathname,s)}(h)&&!0===c,y=f.encodeLocation?f.encodeLocation(h).pathname:h.pathname,x=m.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(x=x.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&v&&(b=ka(b,v)||b);const j="/"!==y&&y.endsWith("/")?y.length-1:y.length;let _,w=x===y||!s&&x.startsWith(y)&&"/"===x.charAt(j),N=null!=b&&(b===y||!s&&b.startsWith(y)&&"/"===b.charAt(y.length)),S={isActive:w,isPending:N,isTransitioning:g},k=w?n:void 0;_="function"===typeof i?i(S):[i,w?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof o?o(S):o;return r.createElement(ai,T(T({},u),{},{"aria-current":k,className:_,ref:t,style:C,to:l,viewTransition:c}),"function"===typeof d?d(S):d)});ri.displayName="NavLink";var ii=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:i,reloadDocument:s,replace:o,state:l,method:c=Nr,action:d,onSubmit:u,relative:h,preventScrollReset:m,viewTransition:p}=e,f=O(e,Zn),v=di(),g=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(Qa),a=r.useContext(Ka);na(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s=T({},ar(e||".",{relative:t})),o=Xa();if(null==e){s.search=o.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:Da([n,s.pathname]));return sa(s)}(d,{relative:h}),y="get"===c.toLowerCase()?"get":"post",x="string"===typeof d&&ni.test(d);return r.createElement("form",T(T({ref:t,method:y,action:g,onSubmit:s?u:e=>{if(u&&u(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||c;v(t||e.currentTarget,{fetcherKey:a,method:n,navigate:i,replace:o,state:l,relative:h,preventScrollReset:m,viewTransition:p})}},f),{},{"data-discover":x||"render"!==n?void 0:"true"}))});function si(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function oi(e){let t=r.useContext(Ua);return na(t,si(e)),t}ii.displayName="Form";var li=0,ci=()=>"__".concat(String(++li),"__");function di(){let{router:e}=oi("useSubmit"),{basename:t}=r.useContext(Qa),n=mr("useRouteId");return r.useCallback(async function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:l,body:c}=Ar(a,t);if(!1===r.navigate){let t=r.fetcherKey||ci();await e.fetch(t,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,flushSync:r.flushSync})}else await e.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}var ui={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hi=r.createContext&&r.createContext(ui),mi=["attr","size","title"];function pi(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fi.apply(this,arguments)}function vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(n),!0).forEach(function(t){yi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xi(e){return e&&e.map((e,t)=>r.createElement(e.tag,gi({key:t},e.attr),xi(e.child)))}function bi(e){return t=>r.createElement(ji,fi({attr:gi({},e.attr)},t),xi(e.child))}function ji(e){var t=t=>{var n,{attr:a,size:i,title:s}=e,o=pi(e,mi),l=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",fi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,o,{className:n,style:gi(gi({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==hi?r.createElement(hi.Consumer,null,e=>t(e)):t(ui)}function _i(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function wi(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M223.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L319.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L393.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34zm-192 34l136 136c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9L127.9 256l96.4-96.4c9.4-9.4 9.4-24.6 0-33.9L201.7 103c-9.4-9.4-24.6-9.4-33.9 0l-136 136c-9.5 9.4-9.5 24.6-.1 34z"},child:[]}]})(e)}function Ni(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z"},child:[]}]})(e)}function Si(e){return bi({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"},child:[]}]})(e)}function ki(e){return bi({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"},child:[]}]})(e)}function Ci(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Ei(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function Pi(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Ai(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(e)}function Ti(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Oi(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(e)}function Li(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Di(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Ri(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 174.8l-39.6-39.6c-9.4-9.4-24.6-9.4-33.9 0L192 374.7 80.6 263.2c-9.4-9.4-24.6-9.4-33.9 0L7 302.9c-9.4 9.4-9.4 24.6 0 34L175 505c9.4 9.4 24.6 9.4 33.9 0l296-296.2c9.4-9.5 9.4-24.7.1-34zm-324.3 106c6.2 6.3 16.4 6.3 22.6 0l208-208.2c6.2-6.3 6.2-16.4 0-22.6L366.1 4.7c-6.2-6.3-16.4-6.3-22.6 0L192 156.2l-55.4-55.5c-6.2-6.3-16.4-6.3-22.6 0L68.7 146c-6.2 6.3-6.2 16.4 0 22.6l112 112.2z"},child:[]}]})(e)}function Ii(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"},child:[]}]})(e)}function zi(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Fi(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Mi(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(e)}function qi(e){return bi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function Ui(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 130.54V112h16c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h16v18.54C115.49 146.11 32 239.18 32 352h448c0-112.82-83.49-205.89-192-221.46zM496 384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function Bi(e){return bi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(e)}function Vi(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Hi(e){return bi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Wi(e){return bi({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(e)}function Ji(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Qi(e){return bi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function $i(e){return bi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function Ki(e){return bi({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"},child:[]}]})(e)}function Yi(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function Gi(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function Xi(e){return bi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function Zi(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function es(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function ts(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function ns(e){return bi({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function as(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(e)}function rs(e){return bi({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function is(e){return bi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M352 288h-16v-88c0-4.42-3.58-8-8-8h-13.58c-4.74 0-9.37 1.4-13.31 4.03l-15.33 10.22a7.994 7.994 0 0 0-2.22 11.09l8.88 13.31a7.994 7.994 0 0 0 11.09 2.22l.47-.31V288h-16c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h64c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zM608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 192c-53.02 0-96-50.15-96-112 0-61.86 42.98-112 96-112s96 50.14 96 112c0 61.87-43 112-96 112zm272 32h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(e)}function ss(e){return bi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function os(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function ls(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(e)}function cs(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function ds(e){return bi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 0H160a32 32 0 0 0-32 32v96h160V64h192v320h128a32 32 0 0 0 32-32V32a32 32 0 0 0-32-32zM232 103a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9V73a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm352 208a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9v-30a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm0-104a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9v-30a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm0-104a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9V73a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm-168 57H32a32 32 0 0 0-32 32v288a32 32 0 0 0 32 32h384a32 32 0 0 0 32-32V192a32 32 0 0 0-32-32zM96 224a32 32 0 1 1-32 32 32 32 0 0 1 32-32zm288 224H64v-32l64-64 32 32 128-128 96 96z"},child:[]}]})(e)}function us(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function hs(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(e)}function ms(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function ps(e){return bi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function fs(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}function vs(e){return bi({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function gs(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z"},child:[]}]})(e)}function ys(e){return bi({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function xs(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function bs(e){return bi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M568.482 177.448L424.479 313.433C409.3 327.768 384 317.14 384 295.985v-71.963c-144.575.97-205.566 35.113-164.775 171.353 4.483 14.973-12.846 26.567-25.006 17.33C155.252 383.105 120 326.488 120 269.339c0-143.937 117.599-172.5 264-173.312V24.012c0-21.174 25.317-31.768 40.479-17.448l144.003 135.988c10.02 9.463 10.028 25.425 0 34.896zM384 379.128V448H64V128h50.916a11.99 11.99 0 0 0 8.648-3.693c14.953-15.568 32.237-27.89 51.014-37.676C185.708 80.83 181.584 64 169.033 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48v-88.806c0-8.288-8.197-14.066-16.011-11.302a71.83 71.83 0 0 1-34.189 3.377c-7.27-1.046-13.8 4.514-13.8 11.859z"},child:[]}]})(e)}function js(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(e)}function _s(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function ws(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Ns(e){return bi({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(e)}function Ss(e){return bi({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(e)}function ks(e){return bi({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(e)}function Cs(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Es(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(e)}function Ps(e){return bi({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function As(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Ts(e){return bi({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function Os(e){return bi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208H432c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Ls(e){return bi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Ds(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Rs(e){return bi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Is(e){return bi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}function zs(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"},child:[]}]})(e)}var Fs=n(579);const Ms=e=>{let{isOpen:t,onClose:n,title:a,children:i,size:s="medium",showCloseButton:o=!0,headerActions:l=null}=e;return(0,r.useEffect)(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),t?(0,Fs.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,Fs.jsxs)("div",{className:"modal modal--".concat(s),onClick:e=>e.stopPropagation(),children:[(0,Fs.jsxs)("div",{className:"modal__header",children:[(0,Fs.jsx)("h2",{className:"modal__title",children:a}),(0,Fs.jsxs)("div",{className:"modal__header-actions",children:[l,o&&(0,Fs.jsx)("button",{className:"modal__close",onClick:n,"aria-label":"Close modal",children:(0,Fs.jsx)(Ps,{})})]})]}),(0,Fs.jsx)("div",{className:"modal__content",children:i})]})}):null};function qs(e){return e<10?"0".concat(e):"".concat(e)}function Us(e){if(!e)return"";const t=e instanceof Date?e:new Date(e);if(Number.isNaN(t.getTime()))return"";const n=qs(t.getDate()),a=qs(t.getMonth()+1),r=t.getFullYear();return"".concat(n,"-").concat(a,"-").concat(r)}function Bs(e){if(!e)return"";const t=e instanceof Date?e:new Date(e);if(Number.isNaN(t.getTime()))return"";const n=qs(t.getDate()),a=qs(t.getMonth()+1),r=t.getFullYear();return"".concat(r,"-").concat(a,"-").concat(n)}function Vs(e){if(!e)return"";const t=e instanceof Date?e:new Date(e);if(Number.isNaN(t.getTime()))return"";const n=qs(t.getHours()),a=qs(t.getMinutes());return"".concat(n,":").concat(a)}function Hs(e){if(!e)return"";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"":"".concat(Us(t)," ").concat(Vs(t))}function Ws(e){if(!e)return"";const t=e instanceof Date?e:new Date(e);if(Number.isNaN(t.getTime()))return"";const n=new Date,a=new Date(n.getFullYear(),n.getMonth(),n.getDate()),r=new Date(a);r.setDate(a.getDate()-1);const i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return i.getTime()===a.getTime()?"Today ".concat(Vs(t)):i.getTime()===r.getTime()?"Yesterday ".concat(Vs(t)):"".concat(Us(t)," ").concat(Vs(t))}const Js=()=>(0,Fs.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M16 4l3.5 7.1 7.8 1.1-5.7 5.5 1.4 7.8-7-3.7-7 3.7 1.4-7.8-5.7-5.5 7.8-1.1z",fill:"url(#silverStarGradient)",stroke:"url(#silverStarStroke)",strokeWidth:"1",strokeLinejoin:"round"}),(0,Fs.jsx)("circle",{cx:"16",cy:"16",r:"4",fill:"url(#silverInner)",opacity:"0.4"}),(0,Fs.jsx)("path",{d:"M16 8l2 4 4.5 0.6-3.3 3.2 0.8 4.5-4-2.1-4 2.1 0.8-4.5-3.3-3.2 4.5-0.6z",fill:"url(#silverHighlight)",opacity:"0.5"}),(0,Fs.jsxs)("defs",{children:[(0,Fs.jsxs)("linearGradient",{id:"silverStarGradient",x1:"16",y1:"4",x2:"16",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,Fs.jsx)("stop",{offset:"0%",stopColor:"#E8E8E8"}),(0,Fs.jsx)("stop",{offset:"50%",stopColor:"#C0C0C0"}),(0,Fs.jsx)("stop",{offset:"100%",stopColor:"#A8A8A8"})]}),(0,Fs.jsxs)("linearGradient",{id:"silverStarStroke",x1:"16",y1:"4",x2:"16",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,Fs.jsx)("stop",{offset:"0%",stopColor:"#B0B0B0"}),(0,Fs.jsx)("stop",{offset:"100%",stopColor:"#808080"})]}),(0,Fs.jsxs)("radialGradient",{id:"silverInner",cx:"0.5",cy:"0.5",r:"0.5",children:[(0,Fs.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,Fs.jsx)("stop",{offset:"100%",stopColor:"#C0C0C0"})]}),(0,Fs.jsxs)("linearGradient",{id:"silverHighlight",x1:"16",y1:"8",x2:"16",y2:"20",gradientUnits:"userSpaceOnUse",children:[(0,Fs.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,Fs.jsx)("stop",{offset:"100%",stopColor:"#E0E0E0"})]})]})]}),Qs=()=>(0,Fs.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M16 4l3.5 7.1 7.8 1.1-5.7 5.5 1.4 7.8-7-3.7-7 3.7 1.4-7.8-5.7-5.5 7.8-1.1z",fill:"url(#goldStarGradient)",stroke:"url(#goldStarStroke)",strokeWidth:"1",strokeLinejoin:"round"}),(0,Fs.jsx)("circle",{cx:"16",cy:"16",r:"4",fill:"url(#goldInner)",opacity:"0.5"}),(0,Fs.jsx)("path",{d:"M16 8l2 4 4.5 0.6-3.3 3.2 0.8 4.5-4-2.1-4 2.1 0.8-4.5-3.3-3.2 4.5-0.6z",fill:"url(#goldHighlight)",opacity:"0.6"}),(0,Fs.jsx)("circle",{cx:"13",cy:"13",r:"1.5",fill:"#FFF9E6",opacity:"0.8"}),(0,Fs.jsx)("ellipse",{cx:"20",cy:"18",rx:"1.2",ry:"0.8",fill:"#FFF4D0",opacity:"0.6"}),(0,Fs.jsxs)("defs",{children:[(0,Fs.jsxs)("linearGradient",{id:"goldStarGradient",x1:"16",y1:"4",x2:"16",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,Fs.jsx)("stop",{offset:"0%",stopColor:"#FFD700"}),(0,Fs.jsx)("stop",{offset:"30%",stopColor:"#FFA500"}),(0,Fs.jsx)("stop",{offset:"70%",stopColor:"#DAA520"}),(0,Fs.jsx)("stop",{offset:"100%",stopColor:"#B8860B"})]}),(0,Fs.jsxs)("linearGradient",{id:"goldStarStroke",x1:"16",y1:"4",x2:"16",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,Fs.jsx)("stop",{offset:"0%",stopColor:"#DAA520"}),(0,Fs.jsx)("stop",{offset:"100%",stopColor:"#8B6914"})]}),(0,Fs.jsxs)("radialGradient",{id:"goldInner",cx:"0.5",cy:"0.5",r:"0.5",children:[(0,Fs.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,Fs.jsx)("stop",{offset:"100%",stopColor:"#FFD700"})]}),(0,Fs.jsxs)("linearGradient",{id:"goldHighlight",x1:"16",y1:"8",x2:"16",y2:"20",gradientUnits:"userSpaceOnUse",children:[(0,Fs.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,Fs.jsx)("stop",{offset:"100%",stopColor:"#FFE87C"})]})]})]}),$s=()=>{const e=w(),t=tr(),{user:n}=k(e=>e.auth),{profile:a}=k(e=>e.settings),[i,s]=r.useState(!1),[o,l]=r.useState(!1),[c,d]=r.useState(!1),[u,h]=r.useState({name:"",email:"",subject:"",message:""}),[m,p]=r.useState({}),[f,v]=r.useState(!1),[g,y]=r.useState(!1),[x,b]=r.useState(!1),j=r.useRef(null),_=k(e=>e.ui.notifications||[]),N=(e=>{if(!e||"string"!==typeof e)return!1;const t=e.trim();if(!t)return!1;return!["user","test","demo","admin","guest","unknown","null","undefined","name"].includes(t.toLowerCase())})(null===a||void 0===a?void 0:a.fullName)&&a.fullName||"Unknown",S=null===a||void 0===a?void 0:a.avatarPreview;r.useEffect(()=>{e(Un())},[e]),r.useEffect(()=>{function e(e){j.current&&!j.current.contains(e.target)&&s(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[j]),r.useEffect(()=>{const e=e=>{d(!0)};try{window.addEventListener("openHelp",e)}catch(t){}return()=>{try{window.removeEventListener("openHelp",e)}catch(t){}}},[]);const C=t=>{e(sn(t))};return(0,Fs.jsxs)("nav",{className:"navbar",children:[(0,Fs.jsxs)("div",{className:"navbar__left",children:[(0,Fs.jsx)("button",{className:"navbar__menu-btn",onClick:()=>e(tn()),"aria-label":"Toggle sidebar",children:(0,Fs.jsx)(Ei,{})}),(0,Fs.jsx)("h1",{className:"navbar__logo",children:"MIVENT"})]}),(0,Fs.jsxs)("div",{className:"navbar__right",children:[(e=>{const t=a&&(a.plan||(null===(e=a.subscription)||void 0===e?void 0:e.tier))||(null===n||void 0===n?void 0:n.plan)||"none",r=String(t||"none").toLowerCase();let i=hs,s="none"===r?"No Plan":"silver"===r?"Silver":"gold"===r?"Gold":"Plan",o="#9ca3af";return r.includes("gold")?(i=Bi,o="#D4AF37"):r.includes("silver")&&(i=as,o="#C0C0C0"),(0,Fs.jsxs)("button",{className:"navbar__plan-btn","data-tier":r,"aria-label":"".concat(s),title:"".concat(s),onClick:()=>b(!0),children:[(0,Fs.jsx)(i,{style:{color:o}}),(0,Fs.jsx)("span",{className:"navbar__plan-label",children:s})]})})(),(0,Fs.jsx)(Ms,{isOpen:x,onClose:()=>b(!1),title:"Your Plan",size:"large",children:(e=>{const r=a&&(a.plan||(null===(e=a.subscription)||void 0===e?void 0:e.tier))||(null===n||void 0===n?void 0:n.plan)||"none",i=String(r||"none").toLowerCase(),s="none"===i?"No Plan":i.charAt(0).toUpperCase()+i.slice(1),o=i.includes("gold"),l=i.includes("silver");return(0,Fs.jsxs)("div",{className:"plan-modal",children:[(0,Fs.jsxs)("div",{className:"plan-modal__header ".concat(o?"plan-modal__header--gold":l?"plan-modal__header--silver":""),children:[(0,Fs.jsx)("div",{className:"plan-modal__badge",children:o?(0,Fs.jsx)(Bi,{}):l?(0,Fs.jsx)(as,{}):(0,Fs.jsx)(hs,{})}),(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("h3",{className:"plan-modal__title",children:s}),(0,Fs.jsx)("p",{className:"plan-modal__subtitle",children:o?"Best for established teams":l?"Great value for growing teams":"Try our paid plans for more features"})]})]}),(0,Fs.jsx)("div",{className:"plan-modal__body",children:"none"===i?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("p",{className:"plan-modal__lead",children:"Explore our plans \u2014 pick the one that suits your needs."}),(0,Fs.jsxs)("div",{className:"plan-modal__options",children:[(0,Fs.jsxs)("div",{className:"plan-card plan-card--silver",children:[(0,Fs.jsxs)("div",{className:"plan-card__header",children:[(0,Fs.jsx)("div",{className:"plan-card__badge",children:(0,Fs.jsx)(Js,{})}),(0,Fs.jsxs)("div",{className:"plan-card__meta",children:[(0,Fs.jsx)("h4",{className:"plan",children:"Silver"}),(0,Fs.jsx)("div",{className:"plan-card__note",children:"Limited Features"})]}),(0,Fs.jsxs)("div",{className:"plan-card__price-block",children:[(0,Fs.jsx)("div",{className:"plan-card__price-amount",children:"\u20b9 XXX"}),(0,Fs.jsx)("div",{className:"plan-card__price-period",children:"per Year"})]})]}),(0,Fs.jsxs)("ul",{className:"plan-card__list",children:[(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)(zi,{className:"plan-modal__benefit-icon"}),"Add Unlimited Services"]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)(zi,{className:"plan-modal__benefit-icon"}),"Chat with Team Members"]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)(zi,{className:"plan-modal__benefit-icon"}),"Add Unlimited Team Members"]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)(zi,{className:"plan-modal__benefit-icon"}),"Unlimited Events Creation and Tracking"]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)(zi,{className:"plan-modal__benefit-icon"}),"Unlimited Projects Creation and Tracking"]})]}),(0,Fs.jsxs)("div",{className:"plan-card__actions",children:[(0,Fs.jsx)("button",{className:"btn btn--outline",onClick:()=>{b(!1);try{window.dispatchEvent(new CustomEvent("openHelp"))}catch(Fu){try{t("/plans?plan=silver")}catch(e){}}},children:"Contact Us"}),(0,Fs.jsx)("button",{className:"btn btn--primary",onClick:()=>{b(!1);try{window.dispatchEvent(new CustomEvent("openHelp"))}catch(Fu){try{t("/plans?plan=silver")}catch(e){}}},children:"Activate Silver"})]})]}),(0,Fs.jsxs)("div",{className:"plan-card plan-card--gold",children:[(0,Fs.jsxs)("div",{className:"plan-card__header",children:[(0,Fs.jsx)("div",{className:"plan-card__badge",children:(0,Fs.jsx)(Qs,{})}),(0,Fs.jsxs)("div",{className:"plan-card__meta",children:[(0,Fs.jsx)("h4",{className:"plan",children:"Gold"}),(0,Fs.jsx)("div",{className:"plan-card__note",children:"Unlimited features"})]}),(0,Fs.jsxs)("div",{className:"plan-card__price-block",children:[(0,Fs.jsx)("div",{className:"plan-card__price-amount",children:"\u20b9 XXXX"}),(0,Fs.jsx)("div",{className:"plan-card__price-period",children:"per Year"})]})]}),(0,Fs.jsxs)("ul",{className:"plan-card__list",children:[(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)(zi,{className:"plan-modal__benefit-icon"}),"All Silver Benefits"]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)(zi,{className:"plan-modal__benefit-icon"}),"Unlimited policy Creation"]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)(zi,{className:"plan-modal__benefit-icon"}),"High priority Email support"]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)(zi,{className:"plan-modal__benefit-icon"}),"Unlimited Bill Creation and Tracking"]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)(zi,{className:"plan-modal__benefit-icon"}),"Unlimited Quotation Creation and Tracking"]})]}),(0,Fs.jsxs)("div",{className:"plan-card__actions",children:[(0,Fs.jsx)("button",{className:"btn btn--outline",onClick:()=>{b(!1);try{window.dispatchEvent(new CustomEvent("openHelp"))}catch(Fu){try{t("/plans?plan=gold")}catch(e){}}},children:"Contact Us"}),(0,Fs.jsx)("button",{className:"btn btn--primary",onClick:()=>{b(!1);try{window.dispatchEvent(new CustomEvent("openHelp"))}catch(Fu){try{t("/plans?plan=gold")}catch(e){}}},children:"Activate Gold"})]})]})]})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("h4",{children:"What's included"}),(0,Fs.jsx)("ul",{className:"plan-modal__benefits",children:["Priority support","Unlimited projects","Advanced reporting","Team collaboration tools"].map(e=>(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)(zi,{className:"plan-modal__benefit-icon"}),e]},e))}),(0,Fs.jsxs)("div",{className:"plan-modal__actions",children:[(0,Fs.jsx)("button",{className:"btn btn--outline",onClick:()=>{b(!1),t("/settings")},children:"Manage Plan"}),!o&&(0,Fs.jsx)("button",{className:"btn btn--primary",onClick:()=>{b(!1),t("/plans")},children:"Upgrade to Gold"})]})]})})]})})()}),(0,Fs.jsxs)("div",{className:"navbar__notifications",ref:j,children:[(0,Fs.jsxs)("button",{className:"navbar__icon-btn","aria-label":"Notifications",onClick:()=>s(e=>!e),title:"Notifications",children:[(0,Fs.jsx)(Pi,{}),_.length>0&&(0,Fs.jsx)("span",{className:"navbar__badge",children:_.length})]}),i&&(0,Fs.jsx)("div",{className:"navbar__dropdown navbar__dropdown--notifications",children:0===_.length?(0,Fs.jsx)("div",{className:"navbar__dropdown-item",children:"No notifications"}):(0,Fs.jsxs)(Fs.Fragment,{children:[_.slice().reverse().map(e=>(0,Fs.jsx)("div",{className:"navbar__dropdown-item",role:"button",tabIndex:0,onClick:()=>{const n=e.path||e.link||e.url||e.type&&{billing:"/billing",invoice:"/billing",quotations:"/quotations",quotation:"/quotations",events:"/events",event:"/events",projects:"/projects",project:"/projects"}[String(e.type).toLowerCase()],a=e.data||{};try{n&&window.location&&window.location.pathname===n?(window.dispatchEvent(new CustomEvent("ui:notification",{detail:{path:n,state:a}})),t(n,{state:a})):n?t(n,{state:a}):e.url&&window.open(e.url,"_blank")}catch(Fu){}C(e.id),s(!1)},onKeyDown:n=>{if("Enter"===n.key||" "===n.key){const n=e.path||e.link||e.url;try{n&&t(n,{state:e.data||{}})}catch(a){}C(e.id),s(!1)}},children:(0,Fs.jsxs)("div",{style:{flex:1},children:[(0,Fs.jsx)("div",{style:{fontWeight:600},children:e.title||"Notification"}),e.message&&(0,Fs.jsx)("div",{style:{fontSize:"0.85rem",color:"#666"},children:e.message}),e.timestamp&&(0,Fs.jsx)("div",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:6},children:Ws(e.timestamp)})]})},e.id)),(0,Fs.jsx)("button",{className:"navbar__dropdown-item",onClick:()=>{e(on())},style:{textAlign:"center"},children:"Clear all"})]})})]}),(0,Fs.jsx)("button",{className:"navbar__icon-btn","aria-label":"Info",title:"Info",onClick:()=>l(!0),children:(0,Fs.jsx)(es,{})}),(0,Fs.jsx)("button",{className:"navbar__icon-btn","aria-label":"Help",title:"Help",onClick:()=>d(!0),children:(0,Fs.jsx)(fs,{})}),(0,Fs.jsx)(Ms,{isOpen:o,onClose:()=>l(!1),title:"Quick Tour",size:"medium",children:(0,Fs.jsxs)("div",{className:"quick_tour",children:[(0,Fs.jsx)("p",{children:"Welcome to MIVENT \u2014 here are a few quick tips to get you started:"}),(0,Fs.jsxs)("ol",{children:[(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)("strong",{children:"Dashboard:"})," Overview of recent activity and stats."]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)("strong",{children:"Quotations & Billing:"})," Create quotations and invoices from the respective pages."]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)("strong",{children:"Projects / Events:"})," Create and manage client projects and events."]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)("strong",{children:"Service & Policy:"})," Manage services and policies for clients."]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)("strong",{children:"Team & Chat:"})," Add team members and manage conversations."]}),(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)("strong",{children:"Profile:"})," Click top right to manage your profile, company, payment and settings."]})]}),(0,Fs.jsx)("br",{}),(0,Fs.jsxs)("p",{children:["View complete ",(0,Fs.jsx)("em",{children:"Tutorial"})," video on Youtube. Click here"]})]})}),(0,Fs.jsx)(Ms,{isOpen:c,onClose:()=>{d(!1),p({}),v(!1)},title:"Help & Support",size:"medium",children:(0,Fs.jsxs)("div",{style:{lineHeight:1.5},children:[(0,Fs.jsx)("form",{className:"navbar__help-form",onSubmit:async e=>{e.preventDefault();const t={};if(u.name.trim()||(t.name="Name is required"),u.email.trim()?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(u.email)||(t.email="Enter a valid email"):t.email="Email is required",u.message.trim()||(t.message="Message is required"),p(t),!Object.keys(t).length){v(!0);try{await new Promise(e=>setTimeout(e,800)),y(!0),h({name:"",email:"",subject:"",message:""})}catch(n){p({form:"Unable to send message. Please email support@photoflow.com"})}finally{v(!1)}}},children:g?(0,Fs.jsxs)("div",{className:"help-success",children:[(0,Fs.jsx)("h4",{children:"Thanks \u2014 we received your message"}),(0,Fs.jsx)("p",{children:"Our support team will get back to you at the email address you provided (usually within 24 hours)."})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("div",{className:"help-form__row",children:[(0,Fs.jsxs)("div",{className:"help-form__group",children:[(0,Fs.jsx)("label",{htmlFor:"help-name",children:"Name"}),(0,Fs.jsx)("input",{id:"help-name",name:"name",value:u.name,onChange:e=>h(t=>T(T({},t),{},{name:e.target.value})),className:"help-form__input",placeholder:"Your full name"}),m.name&&(0,Fs.jsx)("div",{className:"help-form__error",children:m.name})]}),(0,Fs.jsxs)("div",{className:"help-form__group",children:[(0,Fs.jsx)("label",{htmlFor:"help-email",children:"Email"}),(0,Fs.jsx)("input",{id:"help-email",name:"email",value:u.email,onChange:e=>h(t=>T(T({},t),{},{email:e.target.value})),className:"help-form__input",placeholder:"you@company.com"}),m.email&&(0,Fs.jsx)("div",{className:"help-form__error",children:m.email})]})]}),(0,Fs.jsxs)("div",{className:"help-form__group",children:[(0,Fs.jsx)("label",{htmlFor:"help-subject",children:"Subject (optional)"}),(0,Fs.jsx)("input",{id:"help-subject",name:"subject",value:u.subject,onChange:e=>h(t=>T(T({},t),{},{subject:e.target.value})),className:"help-form__input",placeholder:"Short summary"})]}),(0,Fs.jsxs)("div",{className:"help-form__group",children:[(0,Fs.jsx)("label",{htmlFor:"help-message",children:"Message"}),(0,Fs.jsx)("textarea",{id:"help-message",name:"message",value:u.message,onChange:e=>h(t=>T(T({},t),{},{message:e.target.value})),className:"help-form__textarea",rows:6,placeholder:"Describe the issue or question"}),m.message&&(0,Fs.jsx)("div",{className:"help-form__error",children:m.message})]}),m.form&&(0,Fs.jsx)("div",{className:"help-form__error help-form__error--form",children:m.form}),(0,Fs.jsx)("div",{className:"help-form__actions",children:(0,Fs.jsx)("button",{type:"submit",className:"help-form__submit",disabled:f,children:f?"Sending\u2026":"Send Message"})})]})}),(0,Fs.jsxs)("div",{className:"help-contact-info",style:{marginTop:18},children:[(0,Fs.jsx)("h4",{children:"Other ways to contact us"}),(0,Fs.jsxs)("p",{children:["Email: ",(0,Fs.jsx)("a",{href:"mailto:vivekbhat0120@gmail.com",children:"vivekbhat0120@gmail.com"})]}),(0,Fs.jsx)("p",{children:"Response time: Within 24 hours (business days)"}),(0,Fs.jsx)("p",{children:"For urgent issues include your account id and a short description."})]})]})}),(0,Fs.jsx)("div",{className:"navbar__user",children:(0,Fs.jsxs)("button",{className:"navbar__profile-btn",onClick:()=>t("/settings"),"aria-label":"Open settings",children:[S?(0,Fs.jsx)("img",{src:S,alt:"Profile",className:"navbar__profile-img"}):(0,Fs.jsx)(Ts,{}),(0,Fs.jsx)("span",{children:N})]})})]})]})},Ks=e=>{let{sidebarOpen:t}=e;const n=w(),a=tr();return(0,Fs.jsx)("button",{className:"sidebar__item sidebar__logout",onClick:()=>{n(Mt()),n(nn(!1)),a("/login")},type:"button",children:t?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("span",{className:"sidebar__icon",children:[" ",(0,Fs.jsx)(ws,{})," "]}),(0,Fs.jsx)("span",{className:"sidebar__label",children:"Logout"})]}):(0,Fs.jsxs)("span",{className:"sidebar__icon",children:[" ",(0,Fs.jsx)(ws,{})," "]})})},Ys=()=>{const{sidebarOpen:e}=k(e=>e.ui),t=w(),n=(0,r.useRef)(null),a=[{path:"/dashboard",icon:(0,Fs.jsx)(Xi,{}),label:"Dashboard"},{path:"/quotations",icon:(0,Fs.jsx)(Ki,{}),label:"Quotations"},{path:"/events",icon:(0,Fs.jsx)(Oi,{}),label:"Events"},{path:"/billing",icon:(0,Fs.jsx)(vs,{}),label:"Billing"},{path:"/team",icon:(0,Fs.jsx)(Rs,{}),label:"Team"},{path:"/projects",icon:(0,Fs.jsx)(ps,{}),label:"Projects"},{path:"/chat",icon:(0,Fs.jsx)(qi,{}),label:"Chat"},{path:"/policy",icon:(0,Fs.jsx)(_s,{}),label:"Policy"},{path:"/services",icon:(0,Fs.jsx)(Ui,{}),label:"Services"}];return(0,r.useEffect)(()=>{function a(a){n.current&&(n.current.contains(a.target)||a.target.closest(".navbar__menu-btn")||e&&t(nn(!1)))}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[t,e]),(0,Fs.jsxs)("aside",{ref:n,className:"sidebar ".concat(e?"sidebar--open":"sidebar--closed"),children:[(0,Fs.jsx)("nav",{className:"sidebar__nav",children:a.map(n=>(0,Fs.jsxs)(ri,{to:n.path,onClick:()=>t(nn(!1)),className:e=>{let{isActive:t}=e;return"sidebar__item ".concat(t?"sidebar__item--active":"")},children:[(0,Fs.jsx)("span",{className:"sidebar__icon",children:n.icon}),e&&(0,Fs.jsx)("span",{className:"sidebar__label",children:n.label})]},n.path))}),(0,Fs.jsx)("div",{className:"sidebar__footer",children:(0,Fs.jsx)(Ks,{sidebarOpen:e})})]})},Gs=["_f"],Xs=["name"],Zs=["_f"],eo=["ref","message","type"],to=["formControl"];var no=e=>"checkbox"===e.type,ao=e=>e instanceof Date,ro=e=>null==e;const io=e=>"object"===typeof e;var so=e=>!ro(e)&&!Array.isArray(e)&&io(e)&&!ao(e),oo=e=>so(e)&&e.target?no(e.target)?e.target.checked:e.target.value:e,lo=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),co="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function uo(e){let t;const n=Array.isArray(e),a="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(co&&(e instanceof Blob||a)||!n&&!so(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return so(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=uo(e[n]));else t=e}return t}var ho=e=>/^\w*$/.test(e),mo=e=>void 0===e,po=e=>Array.isArray(e)?e.filter(Boolean):[],fo=e=>po(e.replace(/["|']|\]/g,"").split(/\.|\[/)),vo=(e,t,n)=>{if(!t||!so(e))return n;const a=(ho(t)?[t]:fo(t)).reduce((e,t)=>ro(e)?e:e[t],e);return mo(a)||a===e?mo(e[t])?n:e[t]:a},go=e=>"boolean"===typeof e,yo=(e,t,n)=>{let a=-1;const r=ho(t)?[t]:fo(t),i=r.length,s=i-1;for(;++a<i;){const t=r[a];let i=n;if(a!==s){const n=e[t];i=so(n)||Array.isArray(n)?n:isNaN(+r[a+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=i,e=e[t]}};const xo="blur",bo="focusout",jo="onBlur",_o="onChange",wo="onSubmit",No="onTouched",So="all",ko="max",Co="min",Eo="maxLength",Po="minLength",Ao="pattern",To="required",Oo="validate",Lo=r.createContext(null);Lo.displayName="HookFormContext";var Do=function(e,t,n){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(r,i,{get:()=>{const r=i;return t._proxyFormState[r]!==So&&(t._proxyFormState[r]=!a||So),n&&(n[r]=!0),e[r]}});return r};const Ro="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;var Io=e=>"string"===typeof e,zo=(e,t,n,a,r)=>Io(e)?(a&&t.watch.add(e),vo(n,e,r)):Array.isArray(e)?e.map(e=>(a&&t.watch.add(e),vo(n,e))):(a&&(t.watchAll=!0),n),Fo=e=>ro(e)||!io(e);function Mo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(Fo(e)||Fo(t))return Object.is(e,t);if(ao(e)&&ao(t))return e.getTime()===t.getTime();const a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of a){const a=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(ao(a)&&ao(e)||so(a)&&so(e)||Array.isArray(a)&&Array.isArray(e)?!Mo(a,e,n):!Object.is(a,e))return!1}}return!0}var qo=(e,t,n,a,r)=>t?T(T({},n[e]),{},{types:T(T({},n[e]&&n[e].types?n[e].types:{}),{},{[a]:r||!0})}):{},Uo=e=>Array.isArray(e)?e:[e],Bo=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function Vo(e,t){const n={};for(const a in e)if(e.hasOwnProperty(a)){const r=e[a],i=t[a];if(r&&so(r)&&i){const e=Vo(r,i);so(e)&&(n[a]=e)}else e[a]&&(n[a]=i)}return n}var Ho=e=>so(e)&&!Object.keys(e).length,Wo=e=>"file"===e.type,Jo=e=>"function"===typeof e,Qo=e=>{if(!co)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},$o=e=>"select-multiple"===e.type,Ko=e=>"radio"===e.type,Yo=e=>Qo(e)&&e.isConnected;function Go(e,t){const n=Array.isArray(t)?t:ho(t)?[t]:fo(t),a=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let a=0;for(;a<n;)e=mo(e)?a++:e[t[a++]];return e}(e,n),r=n.length-1,i=n[r];return a&&delete a[i],0!==r&&(so(a)&&Ho(a)||Array.isArray(a)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!mo(e[t]))return!1;return!0}(a))&&Go(e,n.slice(0,-1)),e}function Xo(e){return Array.isArray(e)||so(e)&&!(e=>{for(const t in e)if(Jo(e[t]))return!0;return!1})(e)}function Zo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n in e){const a=e[n];Xo(a)?(t[n]=Array.isArray(a)?[]:{},Zo(a,t[n])):mo(a)||(t[n]=!0)}return t}function el(e,t,n){n||(n=Zo(t));for(const a in e){const r=e[a];if(Xo(r))mo(t)||Fo(n[a])?n[a]=Zo(r,Array.isArray(r)?[]:{}):el(r,ro(t)?{}:t[a],n[a]);else{const e=t[a];n[a]=!Mo(r,e)}}return n}const tl={value:!1,isValid:!1},nl={value:!0,isValid:!0};var al=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!mo(e[0].attributes.value)?mo(e[0].value)||""===e[0].value?nl:{value:e[0].value,isValid:!0}:nl:tl}return tl},rl=(e,t)=>{let{valueAsNumber:n,valueAsDate:a,setValueAs:r}=t;return mo(e)?e:n?""===e?NaN:e?+e:e:a&&Io(e)?new Date(e):r?r(e):e};const il={isValid:!1,value:null};var sl=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,il):il;function ol(e){const t=e.ref;return Wo(t)?t.files:Ko(t)?sl(e.refs).value:$o(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):no(t)?al(e.refs).value:rl(mo(t.value)?e.ref.value:t.value,e)}var ll=e=>e instanceof RegExp,cl=e=>mo(e)?e:ll(e)?e.source:so(e)?ll(e.value)?e.value.source:e.value:e,dl=e=>({isOnSubmit:!e||e===wo,isOnBlur:e===jo,isOnChange:e===_o,isOnAll:e===So,isOnTouch:e===No});const ul="AsyncFunction";var hl=e=>!!e&&!!e.validate&&!!(Jo(e.validate)&&e.validate.constructor.name===ul||so(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===ul)),ml=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const pl=(e,t,n,a)=>{for(const r of n||Object.keys(e)){const n=vo(e,r);if(n){const{_f:e}=n,i=O(n,Gs);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],r)&&!a)return!0;if(e.ref&&t(e.ref,e.name)&&!a)return!0;if(pl(i,t))break}else if(so(i)&&pl(i,t))break}}};function fl(e,t,n){const a=vo(e,n);if(a||ho(n))return{error:a,name:n};const r=n.split(".");for(;r.length;){const a=r.join("."),i=vo(t,a),s=vo(e,a);if(i&&!Array.isArray(i)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};if(s&&s.root&&s.root.type)return{name:"".concat(a,".root"),error:s.root};r.pop()}return{name:n}}var vl=(e,t,n)=>{const a=Uo(vo(e,n));return yo(a,"root",t[n]),yo(e,n,a),e};function gl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Io(e)||Array.isArray(e)&&e.every(Io)||go(e)&&!e)return{type:n,message:Io(e)?e:"",ref:t}}var yl=e=>so(e)&&!ll(e)?e:{value:e,message:""},xl=async(e,t,n,a,r,i)=>{const{ref:s,refs:o,required:l,maxLength:c,minLength:d,min:u,max:h,pattern:m,validate:p,name:f,valueAsNumber:v,mount:g}=e._f,y=vo(n,f);if(!g||t.has(f))return{};const x=o?o[0]:s,b=e=>{r&&x.reportValidity&&(x.setCustomValidity(go(e)?"":e||""),x.reportValidity())},j={},_=Ko(s),w=no(s),N=_||w,S=(v||Wo(s))&&mo(s.value)&&mo(y)||Qo(s)&&""===s.value||""===y||Array.isArray(y)&&!y.length,k=qo.bind(null,f,a,j),C=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Eo,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Po;const i=e?t:n;j[f]=T({type:e?a:r,message:i,ref:s},k(e?a:r,i))};if(i?!Array.isArray(y)||!y.length:l&&(!N&&(S||ro(y))||go(y)&&!y||w&&!al(o).isValid||_&&!sl(o).isValid)){const{value:e,message:t}=Io(l)?{value:!!l,message:l}:yl(l);if(e&&(j[f]=T({type:To,message:t,ref:x},k(To,t)),!a))return b(t),j}if(!S&&(!ro(u)||!ro(h))){let e,t;const n=yl(h),r=yl(u);if(ro(y)||isNaN(y)){const a=s.valueAsDate||new Date(y),i=e=>new Date((new Date).toDateString()+" "+e),o="time"==s.type,l="week"==s.type;Io(n.value)&&y&&(e=o?i(y)>i(n.value):l?y>n.value:a>new Date(n.value)),Io(r.value)&&y&&(t=o?i(y)<i(r.value):l?y<r.value:a<new Date(r.value))}else{const a=s.valueAsNumber||(y?+y:y);ro(n.value)||(e=a>n.value),ro(r.value)||(t=a<r.value)}if((e||t)&&(C(!!e,n.message,r.message,ko,Co),!a))return b(j[f].message),j}if((c||d)&&!S&&(Io(y)||i&&Array.isArray(y))){const e=yl(c),t=yl(d),n=!ro(e.value)&&y.length>+e.value,r=!ro(t.value)&&y.length<+t.value;if((n||r)&&(C(n,e.message,t.message),!a))return b(j[f].message),j}if(m&&!S&&Io(y)){const{value:e,message:t}=yl(m);if(ll(e)&&!y.match(e)&&(j[f]=T({type:Ao,message:t,ref:s},k(Ao,t)),!a))return b(t),j}if(p)if(Jo(p)){const e=gl(await p(y,n),x);if(e&&(j[f]=T(T({},e),k(Oo,e.message)),!a))return b(e.message),j}else if(so(p)){let e={};for(const t in p){if(!Ho(e)&&!a)break;const r=gl(await p[t](y,n),x,t);r&&(e=T(T({},r),k(t,r.message)),b(r.message),a&&(j[f]=e))}if(!Ho(e)&&(j[f]=T({ref:x},e),!a))return j}return b(!0),j};const bl={mode:wo,reValidateMode:_o,shouldFocusError:!0};function jl(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=T(T({},bl),t),a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Jo(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},r={},i=(so(n.defaultValues)||so(n.values))&&uo(n.defaultValues||n.values)||{},s=n.shouldUnregister?{}:uo(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u=T({},d);const h={array:Bo(),state:Bo()},m=n.criteriaMode===So,p=async e=>{if(!n.disabled&&(d.isValid||u.isValid||e)){const e=n.resolver?Ho((await x()).errors):await b(r,!0);e!==a.isValid&&h.state.next({isValid:e})}},f=(e,t)=>{!n.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?yo(a.validatingFields,e,t):Go(a.validatingFields,e))}),h.state.next({validatingFields:a.validatingFields,isValidating:!Ho(a.validatingFields)}))},v=(e,t,n,a)=>{const l=vo(r,e);if(l){const r=vo(s,e,mo(n)?vo(i,e):n);mo(r)||a&&a.defaultChecked||t?yo(s,e,t?r:ol(l._f)):w(e,r),o.mount&&!o.action&&p()}},g=(e,t,r,s,o)=>{let l=!1,c=!1;const m={name:e};if(!n.disabled){if(!r||s){(d.isDirty||u.isDirty)&&(c=a.isDirty,a.isDirty=m.isDirty=j(),l=c!==m.isDirty);const n=Mo(vo(i,e),t);c=!!vo(a.dirtyFields,e),n?Go(a.dirtyFields,e):yo(a.dirtyFields,e,!0),m.dirtyFields=a.dirtyFields,l=l||(d.dirtyFields||u.dirtyFields)&&c!==!n}if(r){const t=vo(a.touchedFields,e);t||(yo(a.touchedFields,e,r),m.touchedFields=a.touchedFields,l=l||(d.touchedFields||u.touchedFields)&&t!==r)}l&&o&&h.state.next(m)}return l?m:{}},y=(t,r,i,s)=>{const o=vo(a.errors,t),l=(d.isValid||u.isValid)&&go(r)&&a.isValid!==r;var m;if(n.delayError&&i?(m=()=>((e,t)=>{yo(a.errors,e,t),h.state.next({errors:a.errors})})(t,i),e=e=>{clearTimeout(c),c=setTimeout(m,e)},e(n.delayError)):(clearTimeout(c),e=null,i?yo(a.errors,t,i):Go(a.errors,t)),(i?!Mo(o,i):o)||!Ho(s)||l){const e=T(T(T({},s),l&&go(r)?{isValid:r}:{}),{},{errors:a.errors,name:t});a=T(T({},a),e),h.state.next(e)}},x=async e=>{f(e,!0);const t=await n.resolver(s,n.context,((e,t,n,a)=>{const r={};for(const i of e){const e=vo(t,i);e&&yo(r,i,e._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:a}})(e||l.mount,r,n.criteriaMode,n.shouldUseNativeValidation));return f(e),t},b=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const i in e){const o=e[i];if(o){const{_f:e}=o,i=O(o,Zs);if(e){const i=l.array.has(e.name),c=o._f&&hl(o._f);c&&d.validatingFields&&f([e.name],!0);const u=await xl(o,l.disabled,s,m,n.shouldUseNativeValidation&&!t,i);if(c&&d.validatingFields&&f([e.name]),u[e.name]&&(r.valid=!1,t))break;!t&&(vo(u,e.name)?i?vl(a.errors,u,e.name):yo(a.errors,e.name,u[e.name]):Go(a.errors,e.name))}!Ho(i)&&await b(i,t,r)}}return r.valid},j=(e,t)=>!n.disabled&&(e&&t&&yo(s,e,t),!Mo(P(),i)),_=(e,t,n)=>zo(e,l,T({},o.mount?s:mo(t)?i:Io(e)?{[e]:t}:t),n,t),w=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=vo(r,e);let i=t;if(a){const n=a._f;n&&(!n.disabled&&yo(s,e,rl(t,n)),i=Qo(n.ref)&&ro(t)?"":t,$o(n.ref)?[...n.ref.options].forEach(e=>e.selected=i.includes(e.value)):n.refs?no(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(i)?e.checked=!!i.find(t=>t===e.value):e.checked=i===e.value||!!i)}):n.refs.forEach(e=>e.checked=e.value===i):Wo(n.ref)?n.ref.value="":(n.ref.value=i,n.ref.type||h.state.next({name:e,values:uo(s)})))}(n.shouldDirty||n.shouldTouch)&&g(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&E(e)},N=(e,t,n)=>{for(const a in t){if(!t.hasOwnProperty(a))return;const i=t[a],s=e+"."+a,o=vo(r,s);(l.array.has(e)||so(i)||o&&!o._f)&&!ao(i)?N(s,i,n):w(s,i,n)}},S=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=vo(r,e),m=l.array.has(e),p=uo(t);yo(s,e,p),m?(h.array.next({name:e,values:uo(s)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&n.shouldDirty&&h.state.next({name:e,dirtyFields:el(i,s),isDirty:j(e,p)})):!c||c._f||ro(p)?w(e,p,n):N(e,p,n),ml(e,l)&&h.state.next(T(T({},a),{},{name:e})),h.state.next({name:o.mount?e:void 0,values:uo(s)})},k=async t=>{o.mount=!0;const i=t.target;let c=i.name,v=!0;const j=vo(r,c),_=e=>{v=Number.isNaN(e)||ao(e)&&isNaN(e.getTime())||Mo(e,vo(s,c,e))},w=dl(n.mode),N=dl(n.reValidateMode);if(j){let o,k;const C=i.type?ol(j._f):oo(t),P=t.type===xo||t.type===bo,A=!((S=j._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate))&&!n.resolver&&!vo(a.errors,c)&&!j._f.deps||((e,t,n,a,r)=>!r.isOnAll&&(!n&&r.isOnTouch?!(t||e):(n?a.isOnBlur:r.isOnBlur)?!e:!(n?a.isOnChange:r.isOnChange)||e))(P,vo(a.touchedFields,c),a.isSubmitted,N,w),O=ml(c,l,P);yo(s,c,C),P?i&&i.readOnly||(j._f.onBlur&&j._f.onBlur(t),e&&e(0)):j._f.onChange&&j._f.onChange(t);const L=g(c,C,P),D=!Ho(L)||O;if(!P&&h.state.next({name:c,type:t.type,values:uo(s)}),A)return(d.isValid||u.isValid)&&("onBlur"===n.mode?P&&p():P||p()),D&&h.state.next(T({name:c},O?{}:L));if(!P&&O&&h.state.next(T({},a)),n.resolver){const{errors:e}=await x([c]);if(_(C),v){const t=fl(a.errors,r,c),n=fl(e,r,t.name||c);o=n.error,c=n.name,k=Ho(e)}}else f([c],!0),o=(await xl(j,l.disabled,s,m,n.shouldUseNativeValidation))[c],f([c]),_(C),v&&(o?k=!1:(d.isValid||u.isValid)&&(k=await b(r,!0)));v&&(j._f.deps&&(!Array.isArray(j._f.deps)||j._f.deps.length>0)&&E(j._f.deps),y(c,k,o,L))}var S},C=(e,t)=>{if(vo(a.errors,t)&&e.focus)return e.focus(),1},E=async function(e){let t,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=Uo(e);if(n.resolver){const n=await(async e=>{const{errors:t}=await x(e);if(e)for(const n of e){const e=vo(t,n);e?yo(a.errors,n,e):Go(a.errors,n)}else a.errors=t;return t})(mo(e)?e:o);t=Ho(n),i=e?!o.some(e=>vo(n,e)):t}else e?(i=(await Promise.all(o.map(async e=>{const t=vo(r,e);return await b(t&&t._f?{[e]:t}:t)}))).every(Boolean),(i||a.isValid)&&p()):i=t=await b(r);return h.state.next(T(T(T({},!Io(e)||(d.isValid||u.isValid)&&t!==a.isValid?{}:{name:e}),n.resolver||!e?{isValid:t}:{}),{},{errors:a.errors})),s.shouldFocus&&!i&&pl(r,C,e?o:l.mount),i},P=(e,t)=>{let n=T({},o.mount?s:i);return t&&(n=Vo(t.dirtyFields?a.dirtyFields:a.touchedFields,n)),mo(e)?n:Io(e)?vo(n,e):e.map(e=>vo(n,e))},A=(e,t)=>({invalid:!!vo((t||a).errors,e),isDirty:!!vo((t||a).dirtyFields,e),error:vo((t||a).errors,e),isValidating:!!vo(a.validatingFields,e),isTouched:!!vo((t||a).touchedFields,e)}),L=(e,t,n)=>{const i=(vo(r,e,{_f:{}})._f||{}).ref,s=vo(a.errors,e)||{},{ref:o,message:l,type:c}=s,d=O(s,eo);yo(a.errors,e,T(T(T({},d),t),{},{ref:i})),h.state.next({name:e,errors:a.errors,isValid:!1}),n&&n.shouldFocus&&i&&i.focus&&i.focus()},D=e=>h.state.subscribe({next:t=>{var n,r,o;n=e.name,r=t.name,o=e.exact,n&&r&&n!==r&&!Uo(n).some(e=>e&&(o?e===r:e.startsWith(r)||r.startsWith(e)))||!((e,t,n,a)=>{n(e);const{name:r}=e,i=O(e,Xs);return Ho(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(e=>t[e]===(!a||So))})(t,e.formState||d,B,e.reRenderRoot)||e.callback(T(T(T({values:T({},s)},a),t),{},{defaultValues:i}))}}).unsubscribe,R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const o of e?Uo(e):l.mount)l.mount.delete(o),l.array.delete(o),t.keepValue||(Go(r,o),Go(s,o)),!t.keepError&&Go(a.errors,o),!t.keepDirty&&Go(a.dirtyFields,o),!t.keepTouched&&Go(a.touchedFields,o),!t.keepIsValidating&&Go(a.validatingFields,o),!n.shouldUnregister&&!t.keepDefaultValue&&Go(i,o);h.state.next({values:uo(s)}),h.state.next(T(T({},a),t.keepDirty?{isDirty:j()}:{})),!t.keepIsValid&&p()},I=e=>{let{disabled:t,name:n}=e;(go(t)&&o.mount||t||l.disabled.has(n))&&(t?l.disabled.add(n):l.disabled.delete(n))},z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=vo(r,e);const s=go(t.disabled)||go(n.disabled);return yo(r,e,T(T({},a||{}),{},{_f:T(T({},a&&a._f?a._f:{ref:{name:e}}),{},{name:e,mount:!0},t)})),l.mount.add(e),a?I({disabled:go(t.disabled)?t.disabled:n.disabled,name:e}):v(e,!0,t.value),T(T(T({},s?{disabled:t.disabled||n.disabled}:{}),n.progressive?{required:!!t.required,min:cl(t.min),max:cl(t.max),minLength:cl(t.minLength),maxLength:cl(t.maxLength),pattern:cl(t.pattern)}:{}),{},{name:e,onChange:k,onBlur:k,ref:s=>{if(s){z(e,t),a=vo(r,e);const n=mo(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,o=(e=>Ko(e)||no(e))(n),l=a._f.refs||[];if(o?l.find(e=>e===n):n===a._f.ref)return;yo(r,e,{_f:T(T({},a._f),o?{refs:[...l.filter(Yo),n,...Array.isArray(vo(i,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n})}),v(e,!1,void 0,n)}else a=vo(r,e,{}),a._f&&(a._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!lo(l.array,e)||!o.action)&&l.unMount.add(e)}})},F=()=>n.shouldFocusError&&pl(r,C,l.mount),M=(e,t)=>async i=>{let o;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let c=uo(s);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await x();a.errors=e,c=uo(t)}else await b(r);if(l.disabled.size)for(const e of l.disabled)Go(c,e);if(Go(a.errors,"root"),Ho(a.errors)){h.state.next({errors:{}});try{await e(c,i)}catch(d){o=d}}else t&&await t(T({},a.errors),i),F(),setTimeout(F);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ho(a.errors)&&!o,submitCount:a.submitCount+1,errors:a.errors}),o)throw o},q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?uo(e):i,u=uo(c),m=Ho(e),p=m?i:u;if(t.keepDefaultValues||(i=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(el(i,s))]);for(const t of Array.from(e))vo(a.dirtyFields,t)?yo(p,t,vo(s,t)):S(t,vo(p,t))}else{if(co&&mo(e))for(const e of l.mount){const t=vo(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Qo(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)S(e,vo(p,e));else r={}}s=n.shouldUnregister?t.keepDefaultValues?uo(i):{}:uo(p),h.array.next({values:T({},p)}),h.state.next({values:T({},p)})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!n.shouldUnregister&&!Ho(p),o.watch=!!n.shouldUnregister,h.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:!m&&(t.keepDirty?a.isDirty:!(!t.keepDefaultValues||Mo(e,i))),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:m?{}:t.keepDirtyValues?t.keepDefaultValues&&s?el(i,s):a.dirtyFields:t.keepDefaultValues&&e?el(i,e):t.keepDirty?a.dirtyFields:{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&a.isSubmitSuccessful,isSubmitting:!1,defaultValues:i})},U=(e,t)=>q(Jo(e)?e(s):e,t),B=e=>{a=T(T({},a),e)},V={control:{register:z,unregister:R,getFieldState:A,handleSubmit:M,setError:L,_subscribe:D,_runSchema:x,_focusError:F,_getWatch:_,_getDirty:j,_setValid:p,_setFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,m=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&l&&!n.disabled){if(o.action=!0,p&&Array.isArray(vo(r,e))){const t=l(vo(r,e),c.argA,c.argB);m&&yo(r,e,t)}if(p&&Array.isArray(vo(a.errors,e))){const t=l(vo(a.errors,e),c.argA,c.argB);m&&yo(a.errors,e,t),((e,t)=>{!po(vo(e,t)).length&&Go(e,t)})(a.errors,e)}if((d.touchedFields||u.touchedFields)&&p&&Array.isArray(vo(a.touchedFields,e))){const t=l(vo(a.touchedFields,e),c.argA,c.argB);m&&yo(a.touchedFields,e,t)}(d.dirtyFields||u.dirtyFields)&&(a.dirtyFields=el(i,s)),h.state.next({name:e,isDirty:j(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else yo(s,e,t)},_setDisabledField:I,_setErrors:e=>{a.errors=e,h.state.next({errors:a.errors,isValid:!1})},_getFieldArray:e=>po(vo(o.mount?s:i,e,n.shouldUnregister?vo(i,e,[]):[])),_reset:q,_resetDefaultValues:()=>Jo(n.defaultValues)&&n.defaultValues().then(e=>{U(e,n.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=vo(r,e);t&&(t._f.refs?t._f.refs.every(e=>!Yo(e)):!Yo(t._f.ref))&&R(e)}l.unMount=new Set},_disableForm:e=>{go(e)&&(h.state.next({disabled:e}),pl(r,(t,n)=>{const a=vo(r,n);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(t=>{t.disabled=a._f.disabled||e}))},0,!1))},_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(e){o=e},get _defaultValues(){return i},get _names(){return l},set _names(e){l=e},get _formState(){return a},get _options(){return n},set _options(e){n=T(T({},n),e)}},subscribe:e=>(o.mount=!0,u=T(T({},u),e.formState),D(T(T({},e),{},{formState:u}))),trigger:E,register:z,handleSubmit:M,watch:(e,t)=>Jo(e)?h.state.subscribe({next:n=>"values"in n&&e(_(void 0,t),n)}):_(e,t,!0),setValue:S,getValues:P,reset:U,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};vo(r,e)&&(mo(t.defaultValue)?S(e,uo(vo(i,e))):(S(e,t.defaultValue),yo(i,e,uo(t.defaultValue))),t.keepTouched||Go(a.touchedFields,e),t.keepDirty||(Go(a.dirtyFields,e),a.isDirty=t.defaultValue?j(e,uo(vo(i,e))):j()),t.keepError||(Go(a.errors,e),d.isValid&&p()),h.state.next(T({},a)))},clearErrors:e=>{e&&Uo(e).forEach(e=>Go(a.errors,e)),h.state.next({errors:e?a.errors:{}})},unregister:R,setError:L,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=vo(r,e),a=n&&n._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&Jo(e.select)&&e.select())}},getFieldState:A};return T(T({},V),{},{formControl:V})}function _l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=r.useRef(void 0),n=r.useRef(void 0),[a,i]=r.useState({isDirty:!1,isValidating:!1,isLoading:Jo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Jo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=T(T({},e.formControl),{},{formState:a}),e.defaultValues&&!Jo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const n=jl(e),{formControl:r}=n,i=O(n,to);t.current=T(T({},i),{},{formState:a})}const s=t.current.control;return s._options=e,Ro(()=>{const e=s._subscribe({formState:s._proxyFormState,callback:()=>i(T({},s._formState)),reRenderRoot:!0});return i(e=>T(T({},e),{},{isReady:!0})),s._formState.isReady=!0,e},[s]),r.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),r.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),r.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),r.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),r.useEffect(()=>{if(s._proxyFormState.isDirty){const e=s._getDirty();e!==a.isDirty&&s._subjects.state.next({isDirty:e})}},[s,a.isDirty]),r.useEffect(()=>{var t;e.values&&!Mo(e.values,n.current)?(s._reset(e.values,T({keepFieldsRef:!0},s._options.resetOptions)),(null===(t=s._options.resetOptions)||void 0===t?void 0:t.keepIsValid)||s._setValid(),n.current=e.values,i(e=>T({},e))):s._resetDefaultValues()},[s,e.values]),r.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next(T({},s._formState))),s._removeUnmounted()}),t.current.formState=Do(a,s),t.current}function wl(e){let{duration:t=3e3}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if("undefined"===typeof document)return;const n="photoflow-toast-container";let a=document.getElementById(n);a||(a=document.createElement("div"),a.id=n,Object.assign(a.style,{position:"fixed",top:"72px",right:"20px",zIndex:9999,display:"flex",flexDirection:"column",gap:"10px",pointerEvents:"none"}),document.body.appendChild(a));const r=document.createElement("div");r.setAttribute("role","status"),r.setAttribute("aria-live","polite"),r.className="photoflow-toast",Object.assign(r.style,{pointerEvents:"auto",minWidth:"260px",maxWidth:"360px",background:"#fff",color:"#111827",borderRadius:"8px",boxShadow:"0 6px 18px rgba(16,24,40,0.12)",padding:"12px 14px",border:"1px solid rgba(0,0,0,0.06)",opacity:"0",transform:"translateY(-6px)",transition:"opacity 200ms ease, transform 200ms ease",fontSize:"0.95rem",lineHeight:"1.2"});const i=document.createElement("div");i.style.fontWeight="600",i.style.marginBottom="4px",i.textContent="Notification";const s=document.createElement("div");s.textContent=e||"",s.style.color="#374151",r.appendChild(i),r.appendChild(s),a.appendChild(r),requestAnimationFrame(()=>{r.style.opacity="1",r.style.transform="translateY(0)"});const o=()=>{r.style.opacity="0",r.style.transform="translateY(-6px)",setTimeout(()=>{try{a.removeChild(r)}catch(Fu){}if(a&&0===a.childElementCount)try{a.parentNode.removeChild(a)}catch(Fu){}},220)},l=setTimeout(o,t);r.addEventListener("click",()=>{clearTimeout(l),o()})}catch(n){}}const Nl=()=>{const e=tr(),t=w(),[n,a]=(0,r.useState)(!1),{register:i,handleSubmit:s,formState:{errors:o}}=_l(),[l,c]=(0,r.useState)(!1);return(0,Fs.jsx)("div",{className:"login",children:(0,Fs.jsxs)("div",{className:"login__container",children:[(0,Fs.jsxs)("div",{className:"login__header",children:[(0,Fs.jsx)("h1",{className:"login__logo",children:"MIVENT"}),(0,Fs.jsx)("p",{className:"login__subtitle",children:"Welcome back! Please login to your account."})]}),(0,Fs.jsxs)("form",{className:"login__form",onSubmit:s(async n=>{a(!0),t(It());try{const a=await fetch("".concat(un).concat(wn),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email,password:n.password})}),r=await a.json();if(!a.ok)throw new Error(r.message||"Login failed");try{Dt.setToken(r.token)}catch(Fu){}try{Dt.setUser(r.user)}catch(Fu){}t(zt({user:r.user,token:r.token})),e("/dashboard")}catch(r){t(Ft(r.message||"Login failed")),wl(r.message||"Login failed. Please check your credentials.")}finally{a(!1)}}),children:[(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Fs.jsx)("input",T({id:"email",type:"email",placeholder:"Enter your email"},i("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}))),o.email&&(0,Fs.jsx)("span",{className:"error",children:o.email.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Fs.jsxs)("div",{className:"input-with-icon",children:[(0,Fs.jsx)("input",T({id:"password",type:l?"text":"password",placeholder:"Enter your password"},i("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}))),(0,Fs.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>c(e=>!e),"aria-label":l?"Hide password":"Show password",title:l?"Hide password":"Show password",children:l?(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M3 3L21 21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M10.58 10.58a3 3 0 004.24 4.24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M2.9 12.05C4.9 7.5 8.82 5 12 5c1.4 0 2.73.38 3.88 1.07",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M14.12 15.88C12.98 16.5 11.52 16.5 10.38 15.88",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),o.password&&(0,Fs.jsx)("span",{className:"error",children:o.password.message})]}),(0,Fs.jsx)("div",{className:"login__options",children:(0,Fs.jsxs)("label",{className:"checkbox",children:[(0,Fs.jsx)("input",T({type:"checkbox"},i("remember"))),(0,Fs.jsx)("span",{children:"Remember me"})]})}),(0,Fs.jsx)("button",{type:"submit",className:"login__submit",disabled:n,children:n?"Signing in...":"Sign In"})]}),(0,Fs.jsx)("div",{className:"login__footer",children:(0,Fs.jsxs)("div",{className:"login__footer-links",role:"navigation","aria-label":"Auth links",children:[(0,Fs.jsx)(ai,{to:"/forgot-password",className:"login__link",children:"Forgot Password"}),(0,Fs.jsx)(ai,{to:"/register",className:"login__link",children:"Sign Up"}),(0,Fs.jsx)(ai,{to:"/reset-password",className:"login__link",children:"Reset Password"})]})})]})})},Sl=e=>{let{open:t,onClose:n}=e;return t?(0,Fs.jsxs)("div",{className:"terms-modal",role:"dialog","aria-modal":"true","aria-label":"Terms and Conditions",children:[(0,Fs.jsx)("div",{className:"terms-modal__backdrop",onClick:n}),(0,Fs.jsxs)("div",{className:"terms-modal__panel",children:[(0,Fs.jsxs)("header",{className:"terms-modal__header",children:[(0,Fs.jsx)("h2",{children:"Terms & Conditions \u2014 MIVENT"}),(0,Fs.jsx)("button",{className:"terms-modal__close",onClick:n,"aria-label":"Close terms window",children:"\u2715"})]}),(0,Fs.jsxs)("div",{className:"terms-modal__content",children:[(0,Fs.jsx)("p",{children:"These are the Terms and Conditions for the MIVENT software and website. Replace this placeholder content with the full, legally reviewed terms for your application. The modal is scrollable so long documents will be usable on desktop and mobile."}),(0,Fs.jsx)("h3",{children:"1. Acceptance"}),(0,Fs.jsx)("p",{children:"By creating an account and using the MIVENT service you agree to these terms and any updates. If you do not agree, do not register or use the service."}),(0,Fs.jsx)("h3",{children:"2. Use of Service"}),(0,Fs.jsx)("p",{children:"MIVENT provides tools for event photo/video delivery, collaboration and management. You agree to use the service only for lawful purposes and in accordance with these terms."}),(0,Fs.jsx)("h3",{children:"3. Intellectual Property"}),(0,Fs.jsx)("p",{children:"All intellectual property rights in the service and content are owned by MIVENT or its licensors. You may not reproduce, distribute, or create derivative works without permission."}),(0,Fs.jsx)("h3",{children:"4. Privacy"}),(0,Fs.jsx)("p",{children:"Our Privacy Policy describes how we collect and use personal data."}),(0,Fs.jsx)("h3",{children:"5. Liability"}),(0,Fs.jsx)("p",{children:'MIVENT is provided "as is". To the extent permitted by law, MIVENT disclaims all warranties and limits liability as set out in the full Terms.'})]}),(0,Fs.jsxs)("div",{className:"terms-modal__contact","aria-label":"Contact information",children:[(0,Fs.jsx)("h3",{children:"Contact"}),(0,Fs.jsx)("p",{children:"If you have questions about these Terms, contact our support team:"}),(0,Fs.jsxs)("ul",{children:[(0,Fs.jsxs)("li",{children:["Email: ",(0,Fs.jsx)("a",{href:"mailto:vivekbhat0120@gmail.com",children:"vivekbhat0120@gmail.com"})]}),(0,Fs.jsxs)("li",{children:["Whatsapp: ",(0,Fs.jsx)("a",{href:"https://wa.me/9449401478",children:"9449401478"})]})]})]}),(0,Fs.jsx)("footer",{className:"terms-modal__footer",children:(0,Fs.jsx)("button",{className:"terms-modal__accept",onClick:n,children:"Close"})})]})]}):null},kl=()=>{const e=tr(),[t,n]=(0,r.useState)(!1),{register:a,handleSubmit:i,watch:s,formState:{errors:o}}=_l(),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),p=s("password");return(0,Fs.jsx)("div",{className:"register",children:(0,Fs.jsxs)("div",{className:"register__container",children:[(0,Fs.jsxs)("div",{className:"register__header",children:[(0,Fs.jsx)("h1",{className:"register__logo",children:"MIVENT"}),(0,Fs.jsx)("p",{className:"register__subtitle",children:"Create your account to get started"})]}),(0,Fs.jsxs)("form",{className:"register__form",onSubmit:i(async t=>{n(!0);try{const n=await fetch("".concat(un).concat(Nn),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,email:t.email,password:t.password,role:t.role})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Registration failed");console.log("Registration successful:",a),wl("Registration successful! Please login."),e("/login")}catch(a){console.error("Registration failed:",a),wl(a.message||"Registration failed. Please try again.")}finally{n(!1)}}),children:[(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,Fs.jsx)("input",T({id:"name",type:"text",placeholder:"Enter your full name"},a("name",{required:"Name is required"}))),o.name&&(0,Fs.jsx)("span",{className:"error",children:o.name.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Fs.jsx)("input",T({id:"email",type:"email",placeholder:"Enter your email"},a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}))),o.email&&(0,Fs.jsx)("span",{className:"error",children:o.email.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Fs.jsxs)("div",{className:"input-with-icon",children:[(0,Fs.jsx)("input",T({id:"password",type:l?"text":"password",placeholder:"Create a password"},a("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}))),(0,Fs.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>c(e=>!e),"aria-label":l?"Hide password":"Show password",title:l?"Hide password":"Show password",children:l?(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M3 3L21 21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M10.58 10.58a3 3 0 004.24 4.24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M2.9 12.05C4.9 7.5 8.82 5 12 5c1.4 0 2.73.38 3.88 1.07",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M14.12 15.88C12.98 16.5 11.52 16.5 10.38 15.88",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),o.password&&(0,Fs.jsx)("span",{className:"error",children:o.password.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,Fs.jsxs)("div",{className:"input-with-icon",children:[(0,Fs.jsx)("input",T({id:"confirmPassword",type:d?"text":"password",placeholder:"Confirm your password"},a("confirmPassword",{required:"Please confirm your password",validate:e=>e===p||"Passwords do not match"}))),(0,Fs.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>u(e=>!e),"aria-label":d?"Hide confirm password":"Show confirm password",title:d?"Hide confirm password":"Show confirm password",children:d?(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M3 3L21 21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M10.58 10.58a3 3 0 004.24 4.24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M2.9 12.05C4.9 7.5 8.82 5 12 5c1.4 0 2.73.38 3.88 1.07",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M14.12 15.88C12.98 16.5 11.52 16.5 10.38 15.88",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),o.confirmPassword&&(0,Fs.jsx)("span",{className:"error",children:o.confirmPassword.message})]}),(0,Fs.jsxs)("label",{className:"checkbox",children:[(0,Fs.jsx)("input",T({type:"checkbox"},a("terms",{required:"You must accept the terms and conditions"}))),(0,Fs.jsxs)("span",{children:["I agree to the ",(0,Fs.jsx)("button",{type:"button",className:"register__link",onClick:()=>m(!0),children:"Terms & Conditions"})]})]}),o.terms&&(0,Fs.jsx)("span",{className:"error",children:o.terms.message}),(0,Fs.jsx)("button",{type:"submit",className:"register__submit",disabled:t,children:t?"Creating Account...":"Create Account"})]}),(0,Fs.jsx)("div",{className:"register__footer",children:(0,Fs.jsxs)("p",{children:["Already have an account?"," ",(0,Fs.jsx)(ai,{to:"/login",className:"register__link",children:"Sign In"})]})}),(0,Fs.jsx)(Sl,{open:h,onClose:()=>m(!1)})]})})};function Cl(e,t){return function(){return e.apply(t,arguments)}}const{toString:El}=Object.prototype,{getPrototypeOf:Pl}=Object,{iterator:Al,toStringTag:Tl}=Symbol,Ol=(Ll=Object.create(null),e=>{const t=El.call(e);return Ll[t]||(Ll[t]=t.slice(8,-1).toLowerCase())});var Ll;const Dl=e=>(e=e.toLowerCase(),t=>Ol(t)===e),Rl=e=>t=>typeof t===e,{isArray:Il}=Array,zl=Rl("undefined");function Fl(e){return null!==e&&!zl(e)&&null!==e.constructor&&!zl(e.constructor)&&Ul(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ml=Dl("ArrayBuffer");const ql=Rl("string"),Ul=Rl("function"),Bl=Rl("number"),Vl=e=>null!==e&&"object"===typeof e,Hl=e=>{if("object"!==Ol(e))return!1;const t=Pl(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Tl in e)&&!(Al in e)},Wl=Dl("Date"),Jl=Dl("File"),Ql=Dl("Blob"),$l=Dl("FileList"),Kl=Dl("URLSearchParams"),[Yl,Gl,Xl,Zl]=["ReadableStream","Request","Response","Headers"].map(Dl);function ec(e,t){let n,a,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Il(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Fl(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let s;for(n=0;n<i;n++)s=a[n],t.call(null,e[s],s,e)}}function tc(e,t){if(Fl(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const nc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:n.g,ac=e=>!zl(e)&&e!==nc;const rc=(ic="undefined"!==typeof Uint8Array&&Pl(Uint8Array),e=>ic&&e instanceof ic);var ic;const sc=Dl("HTMLFormElement"),oc=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),lc=Dl("RegExp"),cc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};ec(n,(n,r)=>{let i;!1!==(i=t(n,r,e))&&(a[r]=i||n)}),Object.defineProperties(e,a)};const dc=Dl("AsyncFunction"),uc=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],nc.addEventListener("message",e=>{let{source:t,data:r}=e;t===nc&&r===n&&a.length&&a.shift()()},!1),e=>{a.push(e),nc.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,Ul(nc.postMessage)),hc="undefined"!==typeof queueMicrotask?queueMicrotask.bind(nc):"undefined"!==typeof process&&process.nextTick||uc,mc={isArray:Il,isArrayBuffer:Ml,isBuffer:Fl,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ul(e.append)&&("formdata"===(t=Ol(e))||"object"===t&&Ul(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ml(e.buffer),t},isString:ql,isNumber:Bl,isBoolean:e=>!0===e||!1===e,isObject:Vl,isPlainObject:Hl,isEmptyObject:e=>{if(!Vl(e)||Fl(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Fu){return!1}},isReadableStream:Yl,isRequest:Gl,isResponse:Xl,isHeaders:Zl,isUndefined:zl,isDate:Wl,isFile:Jl,isBlob:Ql,isRegExp:lc,isFunction:Ul,isStream:e=>Vl(e)&&Ul(e.pipe),isURLSearchParams:Kl,isTypedArray:rc,isFileList:$l,forEach:ec,merge:function e(){const{caseless:t,skipUndefined:n}=ac(this)&&this||{},a={},r=(r,i)=>{const s=t&&tc(a,i)||i;Hl(a[s])&&Hl(r)?a[s]=e(a[s],r):Hl(r)?a[s]=e({},r):Il(r)?a[s]=r.slice():n&&zl(r)||(a[s]=r)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&ec(arguments[i],r);return a},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ec(t,(t,a)=>{n&&Ul(t)?e[a]=Cl(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,i,s;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)s=r[i],a&&!a(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&Pl(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ol,kindOfTest:Dl,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(Il(e))return e;let t=e.length;if(!Bl(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Al]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:sc,hasOwnProperty:oc,hasOwnProp:oc,reduceDescriptors:cc,freezeMethods:e=>{cc(e,(t,n)=>{if(Ul(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];Ul(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return Il(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:tc,global:nc,isContextDefined:ac,isSpecCompliantForm:function(e){return!!(e&&Ul(e.append)&&"FormData"===e[Tl]&&e[Al])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(Vl(e)){if(t.indexOf(e)>=0)return;if(Fl(e))return e;if(!("toJSON"in e)){t[a]=e;const r=Il(e)?[]:{};return ec(e,(e,t)=>{const i=n(e,a+1);!zl(i)&&(r[t]=i)}),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:dc,isThenable:e=>e&&(Vl(e)||Ul(e))&&Ul(e.then)&&Ul(e.catch),setImmediate:uc,asap:hc,isIterable:e=>null!=e&&Ul(e[Al])};function pc(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}mc.inherits(pc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mc.toJSONObject(this.config),code:this.code,status:this.status}}});const fc=pc.prototype,vc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vc[e]={value:e}}),Object.defineProperties(pc,vc),Object.defineProperty(fc,"isAxiosError",{value:!0}),pc.from=(e,t,n,a,r,i)=>{const s=Object.create(fc);mc.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return pc.call(s,o,l,n,a,r),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const gc=pc;function yc(e){return mc.isPlainObject(e)||mc.isArray(e)}function xc(e){return mc.endsWith(e,"[]")?e.slice(0,-2):e}function bc(e,t,n){return e?e.concat(t).map(function(e,t){return e=xc(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const jc=mc.toFlatObject(mc,{},null,function(e){return/^is[A-Z]/.test(e)});const _c=function(e,t,n){if(!mc.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=mc.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!mc.isUndefined(t[e])})).metaTokens,r=n.visitor||c,i=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&mc.isSpecCompliantForm(t);if(!mc.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(mc.isDate(e))return e.toISOString();if(mc.isBoolean(e))return e.toString();if(!o&&mc.isBlob(e))throw new gc("Blob is not supported. Use a Buffer instead.");return mc.isArrayBuffer(e)||mc.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let o=e;if(e&&!r&&"object"===typeof e)if(mc.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(mc.isArray(e)&&function(e){return mc.isArray(e)&&!e.some(yc)}(e)||(mc.isFileList(e)||mc.endsWith(n,"[]"))&&(o=mc.toArray(e)))return n=xc(n),o.forEach(function(e,a){!mc.isUndefined(e)&&null!==e&&t.append(!0===s?bc([n],a,i):null===s?n:n+"[]",l(e))}),!1;return!!yc(e)||(t.append(bc(r,n,i),l(e)),!1)}const d=[],u=Object.assign(jc,{defaultVisitor:c,convertValue:l,isVisitable:yc});if(!mc.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!mc.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),mc.forEach(n,function(n,i){!0===(!(mc.isUndefined(n)||null===n)&&r.call(t,n,mc.isString(i)?i.trim():i,a,u))&&e(n,a?a.concat(i):[i])}),d.pop()}}(e),t};function wc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Nc(e,t){this._pairs=[],e&&_c(e,this,t)}const Sc=Nc.prototype;Sc.append=function(e,t){this._pairs.push([e,t])},Sc.toString=function(e){const t=e?function(t){return e.call(this,t,wc)}:wc;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const kc=Nc;function Cc(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ec(e,t,n){if(!t)return e;const a=n&&n.encode||Cc;mc.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(i=r?r(t,n):mc.isURLSearchParams(t)?t.toString():new kc(t,n).toString(a),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Pc=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){mc.forEach(this.handlers,function(t){null!==t&&e(t)})}},Ac={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tc={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:kc,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Oc="undefined"!==typeof window&&"undefined"!==typeof document,Lc="object"===typeof navigator&&navigator||void 0,Dc=Oc&&(!Lc||["ReactNative","NativeScript","NS"].indexOf(Lc.product)<0),Rc="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ic=Oc&&window.location.href||"http://localhost",zc=T(T({},a),Tc);const Fc=function(e){function t(e,n,a,r){let i=e[r++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),o=r>=e.length;if(i=!i&&mc.isArray(a)?a.length:i,o)return mc.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!s;a[i]&&mc.isObject(a[i])||(a[i]=[]);return t(e,n,a[i],r)&&mc.isArray(a[i])&&(a[i]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let i;for(a=0;a<r;a++)i=n[a],t[i]=e[i];return t}(a[i])),!s}if(mc.isFormData(e)&&mc.isFunction(e.entries)){const n={};return mc.forEachEntry(e,(e,a)=>{t(function(e){return mc.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const Mc={transitional:Ac,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=mc.isObject(e);r&&mc.isHTMLForm(e)&&(e=new FormData(e));if(mc.isFormData(e))return a?JSON.stringify(Fc(e)):e;if(mc.isArrayBuffer(e)||mc.isBuffer(e)||mc.isStream(e)||mc.isFile(e)||mc.isBlob(e)||mc.isReadableStream(e))return e;if(mc.isArrayBufferView(e))return e.buffer;if(mc.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return _c(e,new zc.classes.URLSearchParams,T({visitor:function(e,t,n,a){return zc.isNode&&mc.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=mc.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return _c(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,n){if(mc.isString(e))try{return(t||JSON.parse)(e),mc.trim(e)}catch(Fu){if("SyntaxError"!==Fu.name)throw Fu}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Mc.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(mc.isResponse(e)||mc.isReadableStream(e))return e;if(e&&mc.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(Fu){if(n){if("SyntaxError"===Fu.name)throw gc.from(Fu,gc.ERR_BAD_RESPONSE,this,null,this.response);throw Fu}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zc.classes.FormData,Blob:zc.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};mc.forEach(["delete","get","head","post","put","patch"],e=>{Mc.headers[e]={}});const qc=Mc,Uc=mc.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bc=Symbol("internals");function Vc(e){return e&&String(e).trim().toLowerCase()}function Hc(e){return!1===e||null==e?e:mc.isArray(e)?e.map(Hc):String(e)}function Wc(e,t,n,a,r){return mc.isFunction(a)?a.call(this,t,n):(r&&(t=n),mc.isString(t)?mc.isString(a)?-1!==t.indexOf(a):mc.isRegExp(a)?a.test(t):void 0:void 0)}class Jc{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=Vc(t);if(!r)throw new Error("header name must be a non-empty string");const i=mc.findKey(a,r);(!i||void 0===a[i]||!0===n||void 0===n&&!1!==a[i])&&(a[i||t]=Hc(e))}const i=(e,t)=>mc.forEach(e,(e,n)=>r(e,n,t));if(mc.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(mc.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&Uc[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(mc.isObject(e)&&mc.isIterable(e)){let n,a,r={};for(const t of e){if(!mc.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(n=r[a])?mc.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Vc(e)){const n=mc.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(mc.isFunction(t))return t.call(this,e,n);if(mc.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Vc(e)){const n=mc.findKey(this,e);return!(!n||void 0===this[n]||t&&!Wc(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=Vc(e)){const r=mc.findKey(n,e);!r||t&&!Wc(0,n[r],r,t)||(delete n[r],a=!0)}}return mc.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!Wc(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return mc.forEach(this,(a,r)=>{const i=mc.findKey(n,r);if(i)return t[i]=Hc(a),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();s!==r&&delete t[r],t[s]=Hc(a),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return mc.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&mc.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Bc]=this[Bc]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=Vc(e);t[a]||(!function(e,t){const n=mc.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[a]=!0)}return mc.isArray(e)?e.forEach(a):a(e),this}}Jc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),mc.reduceDescriptors(Jc.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),mc.freezeMethods(Jc);const Qc=Jc;function $c(e,t){const n=this||qc,a=t||n,r=Qc.from(a.headers);let i=a.data;return mc.forEach(e,function(e){i=e.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function Kc(e){return!(!e||!e.__CANCEL__)}function Yc(e,t,n){gc.call(this,null==e?"canceled":e,gc.ERR_CANCELED,t,n),this.name="CanceledError"}mc.inherits(Yc,gc,{__CANCEL__:!0});const Gc=Yc;function Xc(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new gc("Request failed with status code "+n.status,[gc.ERR_BAD_REQUEST,gc.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Zc=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,i=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[s];r||(r=l),n[i]=o,a[i]=l;let d=s,u=0;for(;d!==i;)u+=n[d++],d%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const ed=function(e,t){let n,a,r=0,i=1e3/t;const s=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=i,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?s(l,e):(n=l,a||(a=setTimeout(()=>{a=null,s(n)},i-t)))},()=>n&&s(n)]},td=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const r=Zc(50,250);return ed(n=>{const i=n.loaded,s=n.lengthComputable?n.total:void 0,o=i-a,l=r(o);a=i;e({loaded:i,total:s,progress:s?i/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},nd=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},ad=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return mc.asap(()=>e(...n))},rd=zc.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,zc.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(zc.origin),zc.navigator&&/(msie|trident)/i.test(zc.navigator.userAgent)):()=>!0,id=zc.hasStandardBrowserEnv?{write(e,t,n,a,r,i,s){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];mc.isNumber(n)&&o.push("expires=".concat(new Date(n).toUTCString())),mc.isString(a)&&o.push("path=".concat(a)),mc.isString(r)&&o.push("domain=".concat(r)),!0===i&&o.push("secure"),mc.isString(s)&&o.push("SameSite=".concat(s)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function sd(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const od=e=>e instanceof Qc?T({},e):e;function ld(e,t){t=t||{};const n={};function a(e,t,n,a){return mc.isPlainObject(e)&&mc.isPlainObject(t)?mc.merge.call({caseless:a},e,t):mc.isPlainObject(t)?mc.merge({},t):mc.isArray(t)?t.slice():t}function r(e,t,n,r){return mc.isUndefined(t)?mc.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function i(e,t){if(!mc.isUndefined(t))return a(void 0,t)}function s(e,t){return mc.isUndefined(t)?mc.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(n,r,i){return i in t?a(n,r):i in e?a(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>r(od(e),od(t),0,!0)};return mc.forEach(Object.keys(T(T({},e),t)),function(a){const i=l[a]||r,s=i(e[a],t[a],a);mc.isUndefined(s)&&i!==o||(n[a]=s)}),n}const cd=e=>{const t=ld({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:i,headers:s,auth:o}=t;if(t.headers=s=Qc.from(s),t.url=Ec(sd(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),mc.isFormData(n))if(zc.hasStandardBrowserEnv||zc.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(mc.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,a]=e;t.includes(n.toLowerCase())&&s.set(n,a)})}if(zc.hasStandardBrowserEnv&&(a&&mc.isFunction(a)&&(a=a(t)),a||!1!==a&&rd(t.url))){const e=r&&i&&id.read(i);e&&s.set(r,e)}return t},dd="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=cd(e);let r=a.data;const i=Qc.from(a.headers).normalize();let s,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=a;function p(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(s),a.signal&&a.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function v(){if(!f)return;const a=Qc.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Xc(function(e){t(e),p()},function(e){n(e),p()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:a,config:e,request:f}),f=null}f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(n(new gc("Request aborted",gc.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const a=t&&t.message?t.message:"Network Error",r=new gc(a,gc.ERR_NETWORK,e,f);r.event=t||null,n(r),f=null},f.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||Ac;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new gc(t,r.clarifyTimeoutError?gc.ETIMEDOUT:gc.ECONNABORTED,e,f)),f=null},void 0===r&&i.setContentType(null),"setRequestHeader"in f&&mc.forEach(i.toJSON(),function(e,t){f.setRequestHeader(t,e)}),mc.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),u&&"json"!==u&&(f.responseType=a.responseType),m&&([l,d]=td(m,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=td(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(s=t=>{f&&(n(!t||t.type?new Gc(null,e,f):t),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(s),a.signal&&(a.signal.aborted?s():a.signal.addEventListener("abort",s)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);g&&-1===zc.protocols.indexOf(g)?n(new gc("Unsupported protocol "+g+":",gc.ERR_BAD_REQUEST,e)):f.send(r||null)})},ud=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const r=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;a.abort(t instanceof gc?t:new Gc(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,r(new gc("timeout ".concat(t," of ms exceeded"),gc.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=a;return o.unsubscribe=()=>mc.asap(s),o}};function hd(e,t){this.v=e,this.k=t}function md(e){return function(){return new pd(e.apply(this,arguments))}}function pd(e){var t,n;function a(t,n){try{var i=e[t](n),s=i.value,o=s instanceof hd;Promise.resolve(o?s.v:s).then(function(n){if(o){var l="return"===t?"return":"next";if(!s.k||n.done)return a(l,n);n=e[l](n).value}r(i.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(i,s){var o={key:e,arg:r,resolve:i,reject:s,next:null};n?n=n.next=o:(t=n=o,a(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function fd(e){return new hd(e,0)}function vd(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new hd(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function gd(e){var t,n,a,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new yd(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function yd(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return yd=function(e){this.s=e,this.n=e.next},yd.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new yd(e)}pd.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},pd.prototype.next=function(e){return this._invoke("next",e)},pd.prototype.throw=function(e){return this._invoke("throw",e)},pd.prototype.return=function(e){return this._invoke("return",e)};const xd=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,r=0;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},bd=function(){var e=md(function*(e,t){var n,a=!1,r=!1;try{for(var i,s=gd(jd(e));a=!(i=yield fd(s.next())).done;a=!1){const e=i.value;yield*vd(gd(xd(e,t)))}}catch(o){r=!0,n=o}finally{try{a&&null!=s.return&&(yield fd(s.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),jd=function(){var e=md(function*(e){if(e[Symbol.asyncIterator])return void(yield*vd(gd(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield fd(t.read());if(e)break;yield n}}finally{yield fd(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),_d=(e,t,n,a)=>{const r=bd(e,t);let i,s=0,o=e=>{i||(i=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return o(),void e.close();let i=a.byteLength;if(n){let e=s+=i;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},{isFunction:wd}=mc,Nd=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(mc.global),{ReadableStream:Sd,TextEncoder:kd}=mc.global,Cd=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(Fu){return!1}},Ed=e=>{e=mc.merge.call({skipUndefined:!0},Nd,e);const{fetch:t,Request:n,Response:a}=e,r=t?wd(t):"function"===typeof fetch,i=wd(n),s=wd(a);if(!r)return!1;const o=r&&wd(Sd),l=r&&("function"===typeof kd?(c=new kd,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=i&&o&&Cd(()=>{let e=!1;const t=new n(zc.origin,{body:new Sd,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=s&&o&&Cd(()=>mc.isReadableStream(new a("").body)),h={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let a=t&&t[e];if(a)return a.call(t);throw new gc("Response type '".concat(e,"' is not supported"),gc.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const a=mc.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(mc.isBlob(e))return e.size;if(mc.isSpecCompliantForm(e)){const t=new n(zc.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return mc.isArrayBufferView(e)||mc.isArrayBuffer(e)?e.byteLength:(mc.isURLSearchParams(e)&&(e+=""),mc.isString(e)?(await l(e)).byteLength:void 0)})(t):a};return async e=>{let{url:r,method:s,data:o,signal:l,cancelToken:c,timeout:p,onDownloadProgress:f,onUploadProgress:v,responseType:g,headers:y,withCredentials:x="same-origin",fetchOptions:b}=cd(e),j=t||fetch;g=g?(g+"").toLowerCase():"text";let _=ud([l,c&&c.toAbortSignal()],p),w=null;const N=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let S;try{if(v&&d&&"get"!==s&&"head"!==s&&0!==(S=await m(y,o))){let e,t=new n(r,{method:"POST",body:o,duplex:"half"});if(mc.isFormData(o)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=nd(S,td(ad(v)));o=_d(t.body,65536,e,n)}}mc.isString(x)||(x=x?"include":"omit");const t=i&&"credentials"in n.prototype,l=T(T({},b),{},{signal:_,method:s.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:t?x:void 0});w=i&&new n(r,l);let c=await(i?j(w,b):j(r,l));const p=u&&("stream"===g||"response"===g);if(u&&(f||p&&N)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=mc.toFiniteNumber(c.headers.get("content-length")),[n,r]=f&&nd(t,td(ad(f),!0))||[];c=new a(_d(c.body,65536,n,()=>{r&&r(),N&&N()}),e)}g=g||"text";let k=await h[mc.findKey(h,g)||"text"](c,e);return!p&&N&&N(),await new Promise((t,n)=>{Xc(t,n,{data:k,headers:Qc.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(k){if(N&&N(),k&&"TypeError"===k.name&&/Load failed|fetch/i.test(k.message))throw Object.assign(new gc("Network Error",gc.ERR_NETWORK,e,w),{cause:k.cause||k});throw gc.from(k,k&&k.code,e,w)}}},Pd=new Map,Ad=e=>{let t=e&&e.env||{};const{fetch:n,Request:a,Response:r}=t,i=[a,r,n];let s,o,l=i.length,c=Pd;for(;l--;)s=i[l],o=c.get(s),void 0===o&&c.set(s,o=l?new Map:Ed(t)),c=o;return o},Td=(Ad(),{http:null,xhr:dd,fetch:{get:Ad}});mc.forEach(Td,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Fu){}Object.defineProperty(e,"adapterName",{value:t})}});const Od=e=>"- ".concat(e),Ld=e=>mc.isFunction(e)||null===e||!1===e;const Dd={getAdapter:function(e,t){e=mc.isArray(e)?e:[e];const{length:n}=e;let a,r;const i={};for(let s=0;s<n;s++){let n;if(a=e[s],r=a,!Ld(a)&&(r=Td[(n=String(a)).toLowerCase()],void 0===r))throw new gc("Unknown adapter '".concat(n,"'"));if(r&&(mc.isFunction(r)||(r=r.get(t))))break;i[n||"#"+s]=r}if(!r){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Od).join("\n"):" "+Od(e[0]):"as no adapter specified";throw new gc("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r},adapters:Td};function Rd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gc(null,e)}function Id(e){Rd(e),e.headers=Qc.from(e.headers),e.data=$c.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Dd.getAdapter(e.adapter||qc.adapter,e)(e).then(function(t){return Rd(e),t.data=$c.call(e,e.transformResponse,t),t.headers=Qc.from(t.headers),t},function(t){return Kc(t)||(Rd(e),t&&t.response&&(t.response.data=$c.call(e,e.transformResponse,t.response),t.response.headers=Qc.from(t.response.headers))),Promise.reject(t)})}const zd="1.13.2",Fd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Fd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Md={};Fd.transitional=function(e,t,n){function a(e,t){return"[Axios v"+zd+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,i)=>{if(!1===e)throw new gc(a(r," has been removed"+(t?" in "+t:"")),gc.ERR_DEPRECATED);return t&&!Md[r]&&(Md[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}},Fd.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const qd={assertOptions:function(e,t,n){if("object"!==typeof e)throw new gc("options must be an object",gc.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const i=a[r],s=t[i];if(s){const t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new gc("option "+i+" must be "+n,gc.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new gc("Unknown option "+i,gc.ERR_BAD_OPTION)}},validators:Fd},Ud=qd.validators;class Bd{constructor(e){this.defaults=e||{},this.interceptors={request:new Pc,response:new Pc}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Fu){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ld(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&qd.assertOptions(n,{silentJSONParsing:Ud.transitional(Ud.boolean),forcedJSONParsing:Ud.transitional(Ud.boolean),clarifyTimeoutError:Ud.transitional(Ud.boolean)},!1),null!=a&&(mc.isFunction(a)?t.paramsSerializer={serialize:a}:qd.assertOptions(a,{encode:Ud.function,serialize:Ud.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),qd.assertOptions(t,{baseUrl:Ud.spelling("baseURL"),withXsrfToken:Ud.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=r&&mc.merge(r.common,r[t.method]);r&&mc.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=Qc.concat(i,r);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Id.bind(this),void 0];for(e.unshift(...s),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let h=t;for(;u<d;){const e=s[u++],t=s[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=Id.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Ec(sd((e=ld(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}mc.forEach(["delete","get","head","options"],function(e){Bd.prototype[e]=function(t,n){return this.request(ld(n||{},{method:e,url:t,data:(n||{}).data}))}}),mc.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,r){return this.request(ld(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}Bd.prototype[e]=t(),Bd.prototype[e+"Form"]=t(!0)});const Vd=Bd;class Hd{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,r){n.reason||(n.reason=new Gc(e,a,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Hd(function(t){e=t}),cancel:e}}}const Wd=Hd;const Jd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Jd).forEach(e=>{let[t,n]=e;Jd[n]=t});const Qd=Jd;const $d=function e(t){const n=new Vd(t),a=Cl(Vd.prototype.request,n);return mc.extend(a,Vd.prototype,n,{allOwnKeys:!0}),mc.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(ld(t,n))},a}(qc);$d.Axios=Vd,$d.CanceledError=Gc,$d.CancelToken=Wd,$d.isCancel=Kc,$d.VERSION=zd,$d.toFormData=_c,$d.AxiosError=gc,$d.Cancel=$d.CanceledError,$d.all=function(e){return Promise.all(e)},$d.spread=function(e){return function(t){return e.apply(null,t)}},$d.isAxiosError=function(e){return mc.isObject(e)&&!0===e.isAxiosError},$d.mergeConfig=ld,$d.AxiosHeaders=Qc,$d.formToJSON=e=>Fc(mc.isHTMLForm(e)?new FormData(e):e),$d.getAdapter=Dd.getAdapter,$d.HttpStatusCode=Qd,$d.default=$d;const Kd=$d.create({baseURL:un,headers:{"Content-Type":"application/json"},timeout:1e4});Kd.interceptors.request.use(e=>{const t=Dt.getToken();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),Kd.interceptors.response.use(e=>e,e=>{var t,n,a,r;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(Dt.clear(),window.location.href="/login"),403===(null===(n=e.response)||void 0===n?void 0:n.status)&&console.error("Access forbidden"),404===(null===(a=e.response)||void 0===a?void 0:a.status)&&console.error("Resource not found"),(null===(r=e.response)||void 0===r?void 0:r.status)>=500&&console.error("Server error occurred"),Promise.reject(e)});const Yd=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await Kd.get(e,t)).data}catch(n){throw n}},Gd=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return(await Kd.post(e,t,n)).data}catch(a){throw a}},Xd=Kd,Zd=()=>{const e=tr(),[t,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),{register:s,handleSubmit:o,formState:{errors:l},watch:c}=_l(),d=c("email"),u=Xa(),h=()=>{i(!1),"/reset-password"!==u.pathname&&e("/reset-password")};return a?(0,Fs.jsx)("div",{className:"forgot-password",children:(0,Fs.jsxs)("div",{className:"forgot-password__container",children:[(0,Fs.jsxs)("div",{className:"forgot-password__header",children:[(0,Fs.jsx)("h1",{className:"forgot-password__logo",children:"MIVENT"}),(0,Fs.jsx)("p",{className:"forgot-password__subtitle",children:"Check Your Email"})]}),(0,Fs.jsxs)("div",{className:"forgot-password__success",children:[(0,Fs.jsx)("div",{className:"success-icon",children:(0,Fs.jsx)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Fs.jsx)("path",{d:"M20 6L9 17L4 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Fs.jsx)("h2",{children:"Check your email"}),(0,Fs.jsxs)("p",{children:["We've sent a password reset link to ",(0,Fs.jsx)("strong",{children:d})]}),(0,Fs.jsx)("p",{className:"secondary-text",children:"Click the link in the email to reset your password. The link expires in 1 hour."})]}),(0,Fs.jsx)("div",{className:"forgot-password__footer",children:(0,Fs.jsxs)("div",{className:"forgot-password__footer-links",role:"navigation","aria-label":"Auth links",children:[(0,Fs.jsx)(ai,{to:"/login",className:"forgot-password__link",children:"Sign in"}),(0,Fs.jsx)("button",{type:"button",className:"forgot-password__link",onClick:h,children:"Reset password"}),(0,Fs.jsx)(ai,{to:"/register",className:"forgot-password__link",children:"Sign up"})]})})]})}):(0,Fs.jsx)("div",{className:"forgot-password",children:(0,Fs.jsxs)("div",{className:"forgot-password__container",children:[(0,Fs.jsxs)("div",{className:"forgot-password__header",children:[(0,Fs.jsx)("h1",{className:"forgot-password__logo",children:"MIVENT"}),(0,Fs.jsx)("p",{className:"forgot-password__subtitle",children:"Forgot your password ?"})]}),(0,Fs.jsxs)("form",{className:"forgot-password__form",onSubmit:o(async e=>{n(!0);try{await Gd(Sn,{email:e.email});i(!0),wl("Password reset link has been sent to your email")}catch(r){var t,a;wl((null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||r.message||"Failed to send reset link. Please try again.")}finally{n(!1)}}),children:[(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Fs.jsx)("input",T({id:"email",type:"email",placeholder:"Enter your registered email"},s("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}))),l.email&&(0,Fs.jsx)("span",{className:"error",children:l.email.message})]}),(0,Fs.jsx)("p",{className:"forgot-password__info",children:"We'll send you a link to reset your password. The link will expire in 1 hour."}),(0,Fs.jsx)("button",{type:"submit",className:"forgot-password__submit",disabled:t,children:t?"Sending...":"Send Reset Link"})]}),(0,Fs.jsx)("div",{className:"forgot-password__footer",children:(0,Fs.jsxs)("div",{className:"forgot-password__footer-links",role:"navigation","aria-label":"Auth links",children:[(0,Fs.jsx)(ai,{to:"/login",className:"forgot-password__link",children:"Sign in"}),(0,Fs.jsx)("button",{type:"button",className:"forgot-password__link",onClick:h,children:"Reset password"}),(0,Fs.jsx)(ai,{to:"/register",className:"forgot-password__link",children:"Sign up"})]})})]})})},eu=()=>{const e=tr(),{token:t}=nr(),[n,a]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),{register:f,handleSubmit:v,formState:{errors:g},watch:y}=_l(),x=y("password");(0,r.useEffect)(()=>{t&&(async()=>{s(!0);try{await Yd("/auth/verify-reset-token/".concat(t)),l(!0)}catch(a){var e,n;wl((null===(e=a.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Invalid or expired reset link. Please request a new one.")}finally{s(!1)}})()},[t]);const b=async n=>{a(!0);try{t?await Gd(kn,{token:t,password:n.password,confirmPassword:n.confirmPassword}):await Gd(Cn,{oldPassword:n.oldPassword,password:n.password,confirmPassword:n.confirmPassword}),wl("Password has been successfully reset!"),setTimeout(()=>{e("/login")},1500)}catch(s){var r,i;wl((null===(r=s.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||s.message||"Failed to reset password. Please try again.")}finally{a(!1)}};return i?(0,Fs.jsx)("div",{className:"reset-password",children:(0,Fs.jsx)("div",{className:"reset-password__container",children:(0,Fs.jsxs)("div",{className:"reset-password__loading",children:[(0,Fs.jsx)("div",{className:"spinner"}),(0,Fs.jsx)("p",{children:"Verifying reset link..."})]})})}):!o&&t?(0,Fs.jsx)("div",{className:"reset-password",children:(0,Fs.jsx)("div",{className:"reset-password__container",children:(0,Fs.jsxs)("div",{className:"reset-password__error",children:[(0,Fs.jsx)("div",{className:"error-icon",children:(0,Fs.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,Fs.jsx)("path",{d:"M12 8V12M12 16H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),(0,Fs.jsx)("h2",{children:"Invalid or Expired Link"}),(0,Fs.jsx)("p",{children:"This password reset link is no longer valid. It may have expired or been used already."}),(0,Fs.jsx)(ai,{to:"/forgot-password",className:"reset-password__button",children:"Request a New Reset Link"})]})})}):(0,Fs.jsx)("div",{className:"reset-password",children:(0,Fs.jsxs)("div",{className:"reset-password__container",children:[(0,Fs.jsxs)("div",{className:"reset-password__header",children:[(0,Fs.jsx)("h1",{className:"reset-password__logo",children:"MIVENT"}),(0,Fs.jsx)("p",{className:"reset-password__subtitle",children:"Reset your password"})]}),t?(0,Fs.jsxs)("form",{className:"reset-password__form",onSubmit:v(b),children:[(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"password",children:"New Password"}),(0,Fs.jsxs)("div",{className:"input-with-icon",children:[(0,Fs.jsx)("input",T({id:"password",type:u?"text":"password",placeholder:"Enter your new password"},f("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}))),(0,Fs.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>h(!u),"aria-label":u?"Hide new password":"Show new password",title:u?"Hide new password":"Show new password",children:u?(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M3 3L21 21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M10.58 10.58a3 3 0 004.24 4.24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M2.9 12.05C4.9 7.5 8.82 5 12 5c1.4 0 2.73.38 3.88 1.07",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),g.password&&(0,Fs.jsx)("span",{className:"error",children:g.password.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,Fs.jsxs)("div",{className:"input-with-icon",children:[(0,Fs.jsx)("input",T({id:"confirmPassword",type:m?"text":"password",placeholder:"Confirm your new password"},f("confirmPassword",{required:"Please confirm your password",validate:e=>e===x||"Passwords do not match"}))),(0,Fs.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>p(!m),"aria-label":m?"Hide password":"Show password",title:m?"Hide password":"Show password",children:m?(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M3 3L21 21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M10.58 10.58a3 3 0 004.24 4.24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M2.9 12.05C4.9 7.5 8.82 5 12 5c1.4 0 2.73.38 3.88 1.07",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),g.confirmPassword&&(0,Fs.jsx)("span",{className:"error",children:g.confirmPassword.message})]}),(0,Fs.jsx)("button",{type:"submit",className:"reset-password__submit",disabled:n,children:n?"Resetting Password...":"Reset Password"})]}):(0,Fs.jsxs)("form",{className:"reset-password__form",onSubmit:v(b),children:[(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Fs.jsx)("div",{className:"input-with-icon",children:(0,Fs.jsx)("input",T({id:"email",type:"email",placeholder:"Enter your email address"},f("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"}})))}),g.email&&(0,Fs.jsx)("span",{className:"error",children:g.email.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"oldPassword",children:"Current Password"}),(0,Fs.jsxs)("div",{className:"input-with-icon",children:[(0,Fs.jsx)("input",T({id:"oldPassword",type:c?"text":"password",placeholder:"Enter your current password"},f("oldPassword",{required:"Current password is required"}))),(0,Fs.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>d(!c),"aria-label":c?"Hide current password":"Show current password",children:c?(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M3 3L21 21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M10.58 10.58a3 3 0 004.24 4.24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),g.oldPassword&&(0,Fs.jsx)("span",{className:"error",children:g.oldPassword.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"password",children:"New Password"}),(0,Fs.jsxs)("div",{className:"input-with-icon",children:[(0,Fs.jsx)("input",T({id:"password",type:u?"text":"password",placeholder:"Enter your new password"},f("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}))),(0,Fs.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>h(!u),"aria-label":u?"Hide new password":"Show new password",children:u?(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M3 3L21 21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M10.58 10.58a3 3 0 004.24 4.24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),g.password&&(0,Fs.jsx)("span",{className:"error",children:g.password.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,Fs.jsxs)("div",{className:"input-with-icon",children:[(0,Fs.jsx)("input",T({id:"confirmPassword",type:m?"text":"password",placeholder:"Confirm your new password"},f("confirmPassword",{required:"Please confirm your password",validate:e=>e===x||"Passwords do not match"}))),(0,Fs.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>p(!m),"aria-label":m?"Hide password":"Show password",children:m?(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M3 3L21 21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M10.58 10.58a3 3 0 004.24 4.24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,Fs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),g.confirmPassword&&(0,Fs.jsx)("span",{className:"error",children:g.confirmPassword.message})]}),(0,Fs.jsx)("button",{type:"submit",className:"reset-password__submit",disabled:n,children:n?"Updating Password...":"Update Password"})]}),(0,Fs.jsx)("div",{className:"reset-password__footer",children:(0,Fs.jsxs)("div",{className:"reset-password__footer-links",role:"navigation","aria-label":"Auth links",children:[(0,Fs.jsx)(ai,{to:"/login",className:"reset-password__link",children:"Sign in"}),(0,Fs.jsx)(ai,{to:"/forgot-password",className:"reset-password__link",children:"Forgot password"}),(0,Fs.jsx)(ai,{to:"/signup",className:"reset-password__link",children:"Sign up"})]})})]})})},tu=e=>{let{title:t,value:n,icon:a,color:r="#6366f1",subtitle:i,onClick:s,className:o=""}=e;const l={"#ec4899":"card--rose","#8b5cf6":"card--violet","#6366f1":"card--indigo","#10b981":"card--green"}[r]||"card--indigo";return(0,Fs.jsx)("div",{className:"card ".concat(s?"card--clickable":""," ").concat(l," ").concat(o),onClick:s,children:(0,Fs.jsxs)("div",{className:"card__content",children:[(0,Fs.jsxs)("div",{className:"card__header",children:[(0,Fs.jsx)("h3",{className:"card__title",children:t}),a&&(0,Fs.jsx)("div",{className:"card__icon",children:a})]}),(0,Fs.jsx)("div",{className:"card__value",children:n})]})})},nu=()=>{const e=tr();return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("button",{className:"action-btn",onClick:()=>e("/quotations",{state:{openCreate:!0}}),"aria-label":"New Quotation",children:[(0,Fs.jsx)(Ki,{}),(0,Fs.jsx)("span",{children:"Quotation"})]}),(0,Fs.jsxs)("button",{className:"action-btn",onClick:()=>e("/events",{state:{openCreate:!0}}),"aria-label":"New Event",children:[(0,Fs.jsx)(Oi,{}),(0,Fs.jsx)("span",{children:"Event"})]}),(0,Fs.jsxs)("button",{className:"action-btn",onClick:()=>e("/billing",{state:{openCreate:!0}}),"aria-label":"Open Billing",children:[(0,Fs.jsx)(vs,{}),(0,Fs.jsx)("span",{children:"Billing"})]}),(0,Fs.jsxs)("button",{className:"action-btn",onClick:()=>e("/team",{state:{openAdd:!0}}),"aria-label":"Team",children:[(0,Fs.jsx)(Rs,{}),(0,Fs.jsx)("span",{children:"Team"})]}),(0,Fs.jsxs)("button",{className:"action-btn",onClick:()=>e("/policy",{state:{openAdd:!0}}),"aria-label":"Policy",children:[(0,Fs.jsx)(ps,{}),(0,Fs.jsx)("span",{children:"Policy"})]}),(0,Fs.jsxs)("button",{className:"action-btn",onClick:()=>e("/services",{state:{openAdd:!0}}),"aria-label":"Add Service",children:[(0,Fs.jsx)(Ui,{}),(0,Fs.jsx)("span",{children:"Service"})]})]})},au=e=>{let{tier:t,price:n,period:a,benefits:r=[],highlighted:i=!1}=e;const s=tr(),o=t?"plan-card--".concat(String(t).toLowerCase().replace(/\s+/g,"-")," "):"";return(0,Fs.jsxs)("div",{className:"plan-card ".concat(o).concat(i?"plan-card--highlight":""),children:[(0,Fs.jsxs)("div",{className:"plan-card__header",children:[(0,Fs.jsx)("div",{className:"plan-card__title",children:t}),(0,Fs.jsxs)("div",{className:"plan-card__price",children:[(0,Fs.jsx)("div",{className:"plan-card__amount",children:n}),(0,Fs.jsx)("div",{className:"plan-card__period",children:a})]})]}),(0,Fs.jsx)("ul",{className:"plan-card__list",children:r.map((e,t)=>(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)(zi,{className:"plan-card__check"}),(0,Fs.jsx)("span",{children:e})]},t))}),(0,Fs.jsx)("div",{className:"plan-card__actions",children:(0,Fs.jsx)("button",{className:"plan-card__contact",onClick:()=>{try{window.dispatchEvent(new CustomEvent("openHelp"))}catch(Fu){try{s("/contact")}catch(e){}}},children:"Contact Us"})})]})},ru=()=>{const{user:e}=k(e=>e.auth),t=tr(),[n,a]=(k(e=>e.projects),(0,r.useState)(0)),[i,s]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null),[u,h]=(0,r.useState)(!1),[m,p]=(0,r.useState)([]),[f,v]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{l(!0);const e=await Yd("/dashboard/stats");s(e)}catch(e){console.error("Error fetching dashboard stats:",e),s(null)}finally{l(!1)}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{h(!0);const e=await Yd("/settings"),t=e&&e.profile&&(e.profile.name||e.profile.displayName||e.profile.fullName);t&&d(t)}catch(e){console.error("[Dashboard] Failed to load profile from settings:",e)}finally{h(!1)}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{v(!0);const e=await Yd("/events");console.log("[Dashboard] Fetched events from backend:",e),p(Array.isArray(e)?e:[])}catch(e){console.error("Error fetching events:",e),p([])}finally{v(!1)}})()},[]),(0,r.useEffect)(()=>{const e=()=>{document.hidden||a(e=>e+1)},t=()=>{a(e=>e+1)};return document.addEventListener("visibilitychange",e),window.addEventListener("focus",t),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("focus",t)}},[]);const g=(0,r.useMemo)(()=>[],[n]),y=((0,r.useMemo)(()=>[],[n]),(0,r.useMemo)(()=>[],[n])),x=(0,r.useMemo)(()=>{try{const e=m;if(!Array.isArray(e))return console.log("[Dashboard] Backend events is not an array"),[];const t=e=>{if(!e)return"";const t=String(e.eventStatus||e.status||"").toLowerCase();if("completed"===t||"cancelled"===t||"canceled"===t)return t;const n=Array.isArray(e.services)?e.services:[];if(0===n.length)return t||"";const a=n.map(e=>String(e&&(e.status||e.serviceStatus)||"").toLowerCase()).filter(Boolean);if(0===a.length)return t||"";if(a.every(e=>"completed"===e))return"completed";return a.every(e=>"cancelled"===e||"canceled"===e)?"cancelled":t||"scheduled"},n=e.filter(e=>{const n=t(e);return"completed"!==n&&"cancelled"!==n&&"canceled"!==n});return console.log("[Dashboard] Total events from backend:",e.length),console.log("[Dashboard] Filtered active events:",n.length),n}catch(Fu){return console.error("[Dashboard] Error processing events:",Fu),[]}},[m]),b=(0,r.useMemo)(()=>{if(i){const e=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0});return[{title:"Total Events",value:String(i.totalEvents||0),icon:(0,Fs.jsx)(Oi,{}),color:"#ec4899",subtitle:"".concat(i.totalEvents||0," events")},{title:"Total Quotations",value:String(i.totalQuotations||0),icon:(0,Fs.jsx)(Ki,{}),color:"#8b5cf6",subtitle:"".concat(i.totalQuotations||0," quotations")},{title:"Total Bills",value:String(i.totalBills||0),icon:(0,Fs.jsx)(vs,{}),color:"#6366f1",subtitle:"".concat(i.totalBills||0," invoices")},{title:"Revenue (Paid)",value:e.format(i.revenue||0),icon:(0,Fs.jsx)(ys,{}),color:"#10b981",subtitle:"Total paid amount"}]}const e=Array.isArray(g)?g.length:0,t=Array.isArray(x)?x.length:0,n=Array.isArray(g)?g.reduce((e,t)=>e+(parseFloat(t.paid)||0),0):0,a=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0});return[{title:"Total Events",value:String(t),icon:(0,Fs.jsx)(Oi,{}),color:"#ec4899",subtitle:"".concat(t," events")},{title:"Total Quotations",value:String(Array.isArray(y)?y.length:0),icon:(0,Fs.jsx)(Ki,{}),color:"#8b5cf6",subtitle:"".concat(Array.isArray(y)?y.length:0," quotations")},{title:"Total Bills",value:String(e),icon:(0,Fs.jsx)(vs,{}),color:"#6366f1",subtitle:"".concat(e," invoices")},{title:"Revenue (Paid)",value:a.format(n),icon:(0,Fs.jsx)(ys,{}),color:"#10b981",subtitle:"".concat(g.length," invoices")}]},[i,g,x,y]),j=(0,r.useMemo)(()=>{console.log("[Dashboard] Computing recentEvents, total events:",x.length);try{if(!Array.isArray(x))return console.log("[Dashboard] Events is not an array"),[];if(0===x.length)return console.log("[Dashboard] No events available"),[];const e=e=>{if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t},t=t=>{const n=(t.services||[]).map(t=>t&&t.date?e(t.date):null).filter(Boolean);return n.length>0?n.reduce((e,t)=>e<t?e:t):e(t.date)||null},n=x.map(e=>({ev:e,earliest:t(e)})),a=new Date;a.setHours(0,0,0,0),console.log("[Dashboard] Today:",a);const r=n.filter(e=>{const t=e.earliest&&e.earliest>=a;return e.earliest&&console.log('[Dashboard] Event "'.concat(e.ev.clientName||e.ev.name,'" date: ').concat(e.earliest,", is upcoming: ").concat(t)),t}).sort((e,t)=>e.earliest-t.earliest).map(e=>e.ev);console.log("[Dashboard] Found upcoming events:",r.length);let i=[];if(r.length>0)i=r;else{console.log("[Dashboard] No upcoming events, showing recent past events");const e=n.filter(e=>e.earliest).sort((e,t)=>t.earliest-e.earliest).map(e=>e.ev);i=e.length>0?e:x}const s="undefined"!==typeof window&&window.innerWidth<768?2:3,o=i.slice(0,s);return console.log("[Dashboard] Returning events:",o.length),o}catch(Fu){return console.error("[Dashboard] Error computing recentEvents:",Fu),[]}},[x]);return(0,r.useEffect)(()=>{const e=()=>{a(e=>e+1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,Fs.jsxs)("div",{className:"dashboard",children:[(0,Fs.jsx)("div",{className:"dashboard__header",children:(0,Fs.jsxs)("div",{children:[(0,Fs.jsxs)("h1",{className:"dashboard__title",children:["Welcome back, ",(e=>{if(!e||"string"!==typeof e)return!1;const t=e.trim();if(!t)return!1;return!["user","test","demo","admin","guest","unknown","null","undefined","name"].includes(t.toLowerCase())})(c)&&c||"Unknown","!"]}),(0,Fs.jsx)("p",{className:"dashboard__subtitle",children:"Here's what's happening with your Business today."})]})}),(0,Fs.jsx)("div",{className:"dashboard__stats",children:b.map((e,t)=>(0,Fs.jsx)(tu,{title:e.title,value:e.value,icon:e.icon,color:e.color,subtitle:e.subtitle},t))}),(0,Fs.jsxs)("div",{className:"dashboard__content",children:[(0,Fs.jsxs)("div",{className:"dashboard__section",children:[(0,Fs.jsxs)("div",{className:"section-header",children:[(0,Fs.jsx)("h2",{className:"section-title",children:"Upcoming Events"}),(0,Fs.jsx)("button",{className:"btn-link",onClick:()=>t("/events"),children:"View All"})]}),(0,Fs.jsx)("div",{className:"projects-list",children:j.length?j.map((e,n)=>{const a=e.clientName||e.title||e.name||"Untitled Event",r=(()=>{if(Array.isArray(e.services)&&e.services.length>0){const t=e.services.filter(e=>{const t=String(e&&(e.status||e.serviceStatus)||"").toLowerCase();return e&&e.date&&"completed"!==t&&"cancelled"!==t&&"canceled"!==t}).map(e=>({name:e.name,rawDate:e.date,dateObj:(()=>{const t=new Date(e.date);return isNaN(t.getTime())?null:t})()})).filter(e=>null!==e.dateObj).sort((e,t)=>e.dateObj-t.dateObj);if(t.length>0)return Array.from(new Set(t.map(e=>e.rawDate)))}return e.date?[e.date]:[]})(),i=r&&0!==r.length?r.map(e=>Us(e)).join(" / "):"Date TBA",s=(()=>{if(!Array.isArray(e.services)||0===e.services.length)return"";return e.services.filter(e=>{const t=String(e&&(e.status||e.serviceStatus)||"").toLowerCase();return e&&e.name&&e.date&&"completed"!==t&&"cancelled"!==t&&"canceled"!==t}).map(e=>({name:e.name,dateObj:(()=>{const t=new Date(e.date);return isNaN(t.getTime())?null:t})()})).filter(e=>null!==e.dateObj).sort((e,t)=>e.dateObj-t.dateObj).map(e=>e.name).join(" - ")})();return(0,Fs.jsx)("div",{className:"project-item",role:"button",tabIndex:0,onClick:()=>{e&&e.id?t("/events",{state:{openViewId:e.id}}):t("/events")},onKeyPress:n=>{"Enter"!==n.key&&" "!==n.key||(e&&e.id?t("/events",{state:{openViewId:e.id}}):t("/events"))},children:(0,Fs.jsxs)("div",{className:"project-item__info",children:[(0,Fs.jsx)("h3",{className:"project-item__name",children:a}),s&&(0,Fs.jsx)("p",{className:"project-item__services",children:s}),(0,Fs.jsxs)("p",{className:"project-item__deadline",children:[(0,Fs.jsx)(Fi,{})," ",i]})]})},n)}):(0,Fs.jsx)("div",{className:"project-item",children:(0,Fs.jsxs)("div",{className:"project-item__info",children:[(0,Fs.jsx)("h3",{className:"project-item__name",children:"No upcoming events"}),(0,Fs.jsx)("p",{className:"project-item__deadline",children:"Add events from the Events page"})]})})})]}),(0,Fs.jsxs)("div",{className:"dashboard__section",children:[(0,Fs.jsx)("div",{className:"section-header",children:(0,Fs.jsx)("h2",{className:"section-title",children:"Quick Actions"})}),(0,Fs.jsx)("div",{className:"quick-actions",children:(0,Fs.jsx)(nu,{})})]})]}),(0,Fs.jsxs)("div",{className:"dashboard__plans",children:[(0,Fs.jsx)(au,{tier:"Silver",price:"\u20b9 XXX",period:"per Year",benefits:["Add Unlimited Services","Chat with Team Members","Add Unlimited Team Members","Unlimited Events Creation and Tracking","Unlimited Projects Creation and Tracking"]}),(0,Fs.jsx)(au,{tier:"Gold",price:"\u20b9 XXXX",period:"per Year",highlighted:!0,benefits:["All Silver Benefits","Unlimited policy Creation","High priority Email support","Unlimited Bill Creation and Tracking","Unlimited Quotation Creation and Tracking"]})]})]})},iu=(0,r.createContext)(null),su=e=>{let{children:t}=e;const[n,a]=(0,r.useState)({isOpen:!1,title:"",message:"",resolve:null,reject:null,confirmText:"Yes",cancelText:"Cancel"}),i=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n="Confirm",confirmText:r="Yes",cancelText:i="Cancel"}=t;return new Promise((t,s)=>{a({isOpen:!0,message:e,title:n,resolve:t,reject:s,confirmText:r,cancelText:i})})},[]),s=(0,r.useCallback)(()=>{n.resolve&&n.resolve(!1),a(e=>T(T({},e),{},{isOpen:!1,resolve:null,reject:null}))},[n]),o=(0,r.useCallback)(()=>{n.resolve&&n.resolve(!0),a(e=>T(T({},e),{},{isOpen:!1,resolve:null,reject:null}))},[n]);return(0,Fs.jsxs)(iu.Provider,{value:{confirm:i},children:[t,(0,Fs.jsxs)(Ms,{isOpen:n.isOpen,onClose:s,title:n.title,size:"small",children:[(0,Fs.jsxs)("div",{className:"confirm__message",children:[n.message," ",(0,Fs.jsx)("br",{})," \u26a0\ufe0f This action cannot be undone."]}),(0,Fs.jsxs)("div",{className:"confirm__actions",children:[(0,Fs.jsx)("button",{className:"btn btn-ghost",onClick:s,children:n.cancelText}),(0,Fs.jsx)("button",{className:"btn btn-danger",onClick:o,children:n.confirmText})]})]})]})},ou=()=>{const e=(0,r.useContext)(iu);if(!e)throw new Error("useConfirm must be used within a ConfirmProvider");return e.confirm},lu=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)("all"),[i,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,h]=(0,r.useState)(!1),{register:m,handleSubmit:p,reset:f,formState:{errors:v}}=_l(),{register:g,handleSubmit:y,setValue:x,formState:{errors:b}}=_l(),j=Xa();(0,r.useEffect)(()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.state)&&void 0!==e&&e.openAdd){s(!0);try{window.history.replaceState({},document.title)}catch(Fu){}}},[]);const[_,N]=(0,r.useState)(()=>{const e=Vn.getJSON(vn,null);return Array.isArray(e)?e:[]}),S=w(),k=ou();(0,r.useEffect)(()=>{S(Ht(_))},[]),(0,r.useEffect)(()=>{(async()=>{try{const e=Dt.getToken();if(!e)return;const t=await fetch("".concat(un,"/projects"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)return;const n=await t.json();if(Array.isArray(n))return N(n),void S(Ht(n))}catch(Fu){}try{const e=Vn.getJSON(vn,null);N(Array.isArray(e)?e:[]),S(Ht(Array.isArray(e)?e:[]))}catch(Fu){}})()},[]),(0,r.useEffect)(()=>{try{Vn.setJSONAndSync(vn,_)}catch(Fu){try{Vn.setJSON(vn,_)}catch(e){}}},[_]);const C=_.filter(t=>{const a=(e||"").toString().trim().toLowerCase(),r=((null===t||void 0===t?void 0:t.name)||"").toString().toLowerCase(),i=((null===t||void 0===t?void 0:t.client)||"").toString().toLowerCase(),s=""===a||r.includes(a)||i.includes(a),o="all"===n||t.status===n;return s&&o});return(0,Fs.jsxs)("div",{className:"projects",children:[(0,Fs.jsxs)("div",{className:"projects__header",children:[(0,Fs.jsxs)("div",{children:[(0,Fs.jsxs)("h1",{className:"projects__title",children:[(0,Fs.jsx)(ps,{style:{marginRight:"0.5rem"}}),"Projects"]}),(0,Fs.jsx)("p",{className:"projects__subtitle",children:"Manage and track all your business projects"})]}),(0,Fs.jsxs)("button",{className:"btn-primary",onClick:()=>s(!0),children:[(0,Fs.jsx)(ms,{})," New Project"]})]}),(0,Fs.jsxs)("div",{className:"projects__filters",children:[(0,Fs.jsxs)("div",{className:"search-bar",children:[(0,Fs.jsx)(xs,{}),(0,Fs.jsx)("input",{type:"text",placeholder:"Search projects...",value:e,onChange:e=>t(e.target.value)}),e&&(0,Fs.jsx)("button",{className:"clear-btn",onClick:()=>t(""),children:(0,Fs.jsx)(Ps,{})})]}),(0,Fs.jsxs)("div",{className:"filter-group",children:[(0,Fs.jsx)(Yi,{}),(0,Fs.jsxs)("select",{value:n,onChange:e=>a(e.target.value),children:[(0,Fs.jsx)("option",{value:"all",children:"All Status"}),(0,Fs.jsx)("option",{value:"planning",children:"Planning"}),(0,Fs.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,Fs.jsx)("option",{value:"editing",children:"Editing"}),(0,Fs.jsx)("option",{value:"review",children:"Review"}),(0,Fs.jsx)("option",{value:"completed",children:"Completed"})]})]})]}),(0,Fs.jsxs)("div",{className:"projects__results",children:["Showing ",C.length," of ",_.length," projects"]}),(0,Fs.jsx)("div",{className:"projects__grid",children:C.length>0?C.map(e=>(0,Fs.jsxs)("div",{className:"project-card",children:[(0,Fs.jsxs)("div",{className:"project-card__header",children:[(0,Fs.jsx)("h3",{className:"project-card__name",children:e.name}),(0,Fs.jsx)("span",{className:"project-card__status status-".concat(e.status),children:e.status.replace("_"," ")})]}),(0,Fs.jsxs)("div",{className:"project-card__details",children:[(0,Fs.jsxs)("p",{children:[(0,Fs.jsx)("strong",{children:"Client:"})," ",e.client]}),(0,Fs.jsxs)("p",{children:[(0,Fs.jsx)("strong",{children:"Deadline:"})," ",Us(e.deadline)]}),(0,Fs.jsxs)("p",{children:[(0,Fs.jsx)("strong",{children:"Description:"})," ",e.description||"No description provided"]})]}),(0,Fs.jsx)("button",{className:"project-card__view",onClick:()=>(e=>{d(e),h(!1),l(!0),x("editProjectName",e.name),x("editClientName",e.client),x("editStatus",e.status),x("editDeadline",e.deadline),x("editDescription",e.description)})(e),children:"View Details"})]},e.id)):(0,Fs.jsx)("div",{className:"projects__empty",children:(0,Fs.jsx)("p",{children:"No projects found matching your criteria."})})}),(0,Fs.jsx)(Ms,{isOpen:i,onClose:()=>{s(!1),f()},title:"Add New Project",size:"medium",children:(0,Fs.jsxs)("form",{onSubmit:p(e=>{const t={id:_.length+1,name:e.projectName,client:e.clientName,status:e.status,photos:0,deadline:e.deadline,description:e.description||""};N([t,..._]),s(!1),f(),(async()=>{try{const e=Dt.getToken();if(!e)return;const n=await fetch("".concat(un,"/projects"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)});if(n.ok){const e=await n.json();N(n=>n.map(n=>n.id===t.id?e:n)),S(Ht(n=>n.map(n=>n.id===t.id?e:n)))}}catch(Fu){}})()}),className:"project-form",children:[(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"projectName",children:"Project Name *"}),(0,Fs.jsx)("input",T({id:"projectName",type:"text",placeholder:"e.g., Wedding - Sarah & Mike"},m("projectName",{required:"Project name is required"}))),v.projectName&&(0,Fs.jsx)("span",{className:"error",children:v.projectName.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"clientName",children:"Client Name *"}),(0,Fs.jsx)("input",T({id:"clientName",type:"text",placeholder:"e.g., Sarah Johnson"},m("clientName",{required:"Client name is required"}))),v.clientName&&(0,Fs.jsx)("span",{className:"error",children:v.clientName.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"status",children:"Project Status *"}),(0,Fs.jsxs)("select",T(T({id:"status"},m("status",{required:"Status is required"})),{},{children:[(0,Fs.jsx)("option",{value:"",children:"Select status..."}),(0,Fs.jsx)("option",{value:"planning",children:"Planning"}),(0,Fs.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,Fs.jsx)("option",{value:"editing",children:"Editing"}),(0,Fs.jsx)("option",{value:"review",children:"Review"}),(0,Fs.jsx)("option",{value:"completed",children:"Completed"}),(0,Fs.jsx)("option",{value:"delivered",children:"Delivered"})]})),v.status&&(0,Fs.jsx)("span",{className:"error",children:v.status.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"deadline",children:"Deadline *"}),(0,Fs.jsx)("input",T({id:"deadline",type:"date"},m("deadline",{required:"Deadline is required"}))),v.deadline&&(0,Fs.jsx)("span",{className:"error",children:v.deadline.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"description",children:(0,Fs.jsx)("strong",{children:"Description:"})}),(0,Fs.jsx)("textarea",T({id:"description",rows:"4",placeholder:"Project description..."},m("description")))]}),(0,Fs.jsxs)("div",{className:"form-actions",children:[(0,Fs.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>{s(!1),f()},children:"Cancel"}),(0,Fs.jsx)("button",{type:"submit",className:"btn-primary",children:"Create Project"})]})]})}),(0,Fs.jsxs)(Ms,{isOpen:o,onClose:()=>{l(!1),d(null),h(!1)},title:u?"Edit Project":"Project Details",size:"large",children:[c&&!u&&(0,Fs.jsxs)("div",{className:"project-details",children:[(0,Fs.jsxs)("div",{className:"project-details__header",children:[(0,Fs.jsx)("div",{children:(0,Fs.jsx)("h2",{children:c.name})}),(0,Fs.jsx)("span",{className:"status-badge status-".concat(c.status),children:c.status.replace("_"," ")})]}),(0,Fs.jsxs)("div",{className:"project-details__grid",children:[(0,Fs.jsxs)("div",{className:"detail-item",children:[(0,Fs.jsx)("label",{children:"Client"}),(0,Fs.jsx)("p",{children:c.client})]}),(0,Fs.jsxs)("div",{className:"detail-item",children:[(0,Fs.jsx)("label",{children:"Deadline"}),(0,Fs.jsx)("p",{children:Us(c.deadline)})]})]}),(0,Fs.jsxs)("div",{className:"project-details__description",children:[(0,Fs.jsx)("label",{children:(0,Fs.jsx)("strong",{children:"Description:"})}),(0,Fs.jsx)("p",{children:c.description||"No description provided"})]}),(0,Fs.jsxs)("div",{className:"project-details__actions",children:[(0,Fs.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{await k("Are you sure you want to delete this project?")&&(N(_.filter(t=>t.id!==e)),l(!1),(async()=>{try{const t=Dt.getToken();if(!t)return;await fetch("".concat(un,"/projects/").concat(encodeURIComponent(e)),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})}catch(Fu){}})())})(c.id),children:"Delete Project"}),(0,Fs.jsxs)("div",{className:"project-details__actions-right",children:[(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>l(!1),children:"Close"}),(0,Fs.jsx)("button",{className:"btn-primary",onClick:()=>h(!0),children:"Edit Project"})]})]})]}),c&&u&&(0,Fs.jsxs)("form",{onSubmit:y(e=>{const t=T(T({},c),{},{name:e.editProjectName,client:e.editClientName,status:e.editStatus,deadline:e.editDeadline,description:e.editDescription||""});N(_.map(e=>e.id===c.id?t:e)),d(t),h(!1),(async()=>{try{const e=Dt.getToken();if(!e)return;await fetch("".concat(un,"/projects/").concat(encodeURIComponent(c.id)),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)})}catch(Fu){}})()}),className:"project-form",children:[(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"editProjectName",children:"Project Name *"}),(0,Fs.jsx)("input",T({id:"editProjectName",type:"text",placeholder:"e.g., Wedding - Sarah & Mike"},g("editProjectName",{required:"Project name is required"}))),b.editProjectName&&(0,Fs.jsx)("span",{className:"error",children:b.editProjectName.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"editClientName",children:"Client Name *"}),(0,Fs.jsx)("input",T({id:"editClientName",type:"text",placeholder:"e.g., Sarah Johnson"},g("editClientName",{required:"Client name is required"}))),b.editClientName&&(0,Fs.jsx)("span",{className:"error",children:b.editClientName.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"editStatus",children:"Project Status *"}),(0,Fs.jsxs)("select",T(T({id:"editStatus"},g("editStatus",{required:"Status is required"})),{},{children:[(0,Fs.jsx)("option",{value:"",children:"Select status..."}),(0,Fs.jsx)("option",{value:"planning",children:"Planning"}),(0,Fs.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,Fs.jsx)("option",{value:"editing",children:"Editing"}),(0,Fs.jsx)("option",{value:"review",children:"Review"}),(0,Fs.jsx)("option",{value:"completed",children:"Completed"}),(0,Fs.jsx)("option",{value:"delivered",children:"Delivered"})]})),b.editStatus&&(0,Fs.jsx)("span",{className:"error",children:b.editStatus.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"editDeadline",children:"Deadline *"}),(0,Fs.jsx)("input",T({id:"editDeadline",type:"date"},g("editDeadline",{required:"Deadline is required"}))),b.editDeadline&&(0,Fs.jsx)("span",{className:"error",children:b.editDeadline.message})]}),(0,Fs.jsxs)("div",{className:"form-group",children:[(0,Fs.jsx)("label",{htmlFor:"editDescription",children:(0,Fs.jsx)("strong",{children:"Description:"})}),(0,Fs.jsx)("textarea",T({id:"editDescription",rows:"4",placeholder:"Project description..."},g("editDescription")))]}),(0,Fs.jsxs)("div",{className:"form-actions",children:[(0,Fs.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>{h(!1),x("editProjectName",c.name),x("editClientName",c.client),x("editStatus",c.status),x("editDeadline",c.deadline),x("editDescription",c.description)},children:"Cancel"}),(0,Fs.jsx)("button",{type:"submit",className:"btn-primary",children:"Save Changes"})]})]})]})]})},cu=e=>{let{text:t="",query:n=""}=e;if(!n)return(0,Fs.jsx)(Fs.Fragment,{children:t});const a=String(n).toLowerCase();return String(t).split(new RegExp("(".concat(String(n).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"ig")).map((e,t)=>e.toLowerCase()===a?(0,Fs.jsx)("mark",{className:"search-highlight",children:e},t):(0,Fs.jsx)("span",{children:e},t))},du=["sameAsDateAbove","sameAsTimeAbove","sameAsLocationAbove","sameAsAbove","typeEditable"],uu=["sameAsDateAbove","sameAsTimeAbove","sameAsLocationAbove","sameAsAbove","typeEditable"],hu="photoflow_event_draft",mu=e=>(e||"").toString().replace(/\D/g,""),pu=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,h]=(0,r.useState)(""),[m,p]=(0,r.useState)("scheduled"),[f,v]=(0,r.useState)("all"),[g,y]=(0,r.useState)(""),[x,b]=(0,r.useState)(""),[j,_]=(0,r.useState)("date"),[N,S]=(0,r.useState)("desc"),[k,C]=(0,r.useState)("table"),[E,P]=(0,r.useState)(!1),[A,L]=(0,r.useState)({quotationNo:!0,date:!0,services:!0,team:!0,location:!0,status:!0,orderType:!0}),D=(0,r.useRef)(null),R=(0,r.useRef)(null),[I,z]=(0,r.useState)(1),[F,M]=(0,r.useState)(10),[q,U]=(0,r.useState)({quotationId:"",quotationRef:"",clientName:"",clientEmail:"",clientPhone:"",eventStatus:"scheduled",orderType:"own",team:[],services:[{name:"",date:"",time:"",location:"",status:"scheduled",notes:"",sameAsDateAbove:!1,sameAsTimeAbove:!1,sameAsLocationAbove:!1,sameAsAbove:!1}],notes:""}),B=ou();(0,r.useEffect)(()=>{function e(e){if(!E)return;const t=e.target;D.current&&D.current.contains(t)||R.current&&R.current.contains(t)||P(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[E]);const V=["Wedding Photography","Portrait Session","Event Coverage","Video Production","Photo Editing Service","Product Photography","Corporate Event","Birthday Party","Graduation"],[H,W]=(0,r.useState)(()=>{try{const e=Vn.getJSON(pn,null);if(Array.isArray(e)&&e.length>0)return e.map(e=>e.name).filter(Boolean)}catch(Fu){}return V}),[J,Q]=(0,r.useState)(()=>{try{const e=Vn.getJSON(pn,null);if(Array.isArray(e)&&e.length>0)return e.map(e=>({id:e.id,name:e.name,price:Number(e.basePrice)||Number(e.price)||0}))}catch(Fu){}return[]});(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{const t=await Vn.syncFromServer(pn);if(e&&Array.isArray(t)&&t.length>0){const e=t.map(e=>({id:e.id,name:e.name,price:Number(e.basePrice)||Number(e.price)||0}));Q(e),W(e.map(e=>e.name))}}catch(Fu){}})(),()=>{e=!1}},[]),(0,r.useEffect)(()=>{const t=t=>{try{const n=t&&t.detail?t.detail:null;if(!n||"/events"!==n.path)return;const a=n.state||{};if(a.openCreate&&me(),a.openViewId){const t=a.openViewId,n=e.find(e=>String(e.id)===String(t));n?fe(n):Ne.current=t}}catch(Fu){}};return window.addEventListener("ui:notification",t),()=>window.removeEventListener("ui:notification",t)},[e]);const[$,K]=(0,r.useState)(()=>{try{const e=Vn.getJSON(gn,[]);if(Array.isArray(e)&&e.length>0)return e.map(e=>e.name).filter(Boolean)}catch(Fu){}return[]});(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{const t=await Vn.syncFromServer(gn);e&&Array.isArray(t)&&t.length>0&&K(t.map(e=>e&&(e.name||e.fullName||e.displayName)||"").filter(Boolean))}catch(Fu){}})(),()=>{e=!1}},[]);const Y=e=>e?"".concat(hu,"_").concat(String(e)):hu,G=e=>{const t={formData:q};sessionStorage.setItem(e,JSON.stringify(t))},X=e=>{try{const t=sessionStorage.getItem(e);return t?JSON.parse(t):null}catch(Fu){return null}},Z=e=>{sessionStorage.removeItem(e)};(0,r.useEffect)(()=>{if(n&&q){(q.clientName||q.clientEmail||q.clientPhone||q.quotationId||q.services.some(e=>e.name||e.date||e.location)||q.notes)&&G(hu)}},[q,n]);const[ee,te]=(0,r.useState)([]),[ne,ae]=(0,r.useState)(""),[re,ie]=(0,r.useState)(!1),[se,oe]=(0,r.useState)(-1),le=(0,r.useRef)(null),ce=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{try{const t=await Vn.syncFromServer(fn);Array.isArray(t)&&e&&te(t)}catch(Fu){}}catch(Fu){}})(),()=>{e=!1}},[]),(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{const n=await Vn.syncFromServer(yn);if(e&&Array.isArray(n)&&n.length>0){const e=new Set,a=[];for(const t of n)t&&t.id&&(e.has(t.id)||(e.add(t.id),a.push(t)));t(a)}}catch(Fu){}})(),()=>{e=!1}},[]);const de=e=>{if(!e)return void U(e=>T(T({},e),{},{quotationRef:""}));const t=ee.find(t=>String(t.id)===String(e));U(n=>{const a=Array.isArray(null===t||void 0===t?void 0:t.services)&&t.services.length>0?t.services.map(e=>({name:e,date:"",time:"",location:"",status:"scheduled",notes:"",sameAsDateAbove:!1,sameAsTimeAbove:!1,sameAsLocationAbove:!1,sameAsAbove:!1,typeEditable:!0})):[],r=Array.isArray(n.services)&&n.services.some(e=>e&&e.name);return T(T({},n),{},{quotationRef:String(e),clientName:n.clientName||t&&t.clientName||n.clientName,clientEmail:n.clientEmail||t&&t.clientEmail||n.clientEmail,clientPhone:n.clientPhone||t&&t.clientPhone||n.clientPhone,services:!r&&a.length>0?a:n.services})})},ue=w(),he=()=>({quotationId:"EVT-2025-".concat(String(e.length+1).padStart(3,"0")),quotationRef:"",clientName:"",clientEmail:"",clientPhone:"",eventStatus:"scheduled",orderType:"own",team:[],services:[{name:"",date:"",time:"",location:"",status:"scheduled",notes:"",sameAsDateAbove:!1,sameAsTimeAbove:!1,sameAsLocationAbove:!1,typeEditable:!1}],notes:""}),me=()=>{const e=he(),t=X(Y());t&&"object"===typeof t&&t.formData?U(T(T({},e),t.formData)):U(e),a(!0)},pe=()=>{U(he());try{Z(Y())}catch(Fu){}},fe=e=>{const t=T(T({},e),{},{orderType:e.orderType||"own"});d(t),U({quotationId:t.id,quotationRef:t.quotationRef||"",clientName:t.clientName,clientEmail:t.clientEmail,clientPhone:t.clientPhone,eventStatus:t.status,orderType:t.orderType,team:Array.isArray(t.team)?[...t.team]:[],services:(t.services||[]).map(e=>T(T({},e),{},{sameAsDateAbove:!1,sameAsTimeAbove:!1,sameAsLocationAbove:!1,sameAsAbove:!1,typeEditable:!0})),notes:t.notes}),l(!1),s(!0)},ve=async n=>{if(!await B("Are you sure you want to delete this event?"))return;try{const e=Dt.getToken();e&&await fetch("".concat(un,"/events/").concat(encodeURIComponent(n)),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}})}catch(Fu){console.warn("event delete failed",Fu)}const a=e.filter(e=>e.id!==n);t(a);try{Vn.setJSONAndSync(yn,a)}catch(Fu){}c&&c.id===n&&(s(!1),d(null),l(!1))},ge=e=>{const t="Hi ".concat(e.clientName,", regarding your event: ").concat(e.services.map(e=>e.name).join(", ")),n="https://wa.me/".concat(e.clientPhone.replace(/\D/g,""),"?text=").concat(encodeURIComponent(t));window.open(n,"_blank")},ye=e=>{const t="Event Update: ".concat(e.services.map(e=>e.name).join(", ")),n="Dear ".concat(e.clientName,",\n\nRegarding your event scheduled for ").concat(e.services.length>0?e.services[0].date:"TBD",".\n\nBest regards,\nPhotoFlow Team"),a="mailto:".concat(e.clientEmail,"?subject=").concat(encodeURIComponent(t),"&body=").concat(encodeURIComponent(n));try{window.location.href=a}catch(Fu){try{const e=document.createElement("a");e.href=a,e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}catch(r){navigator.clipboard.writeText(a).then(()=>{wl("Email link copied to clipboard. Please paste it in your browser or email client.")}).catch(()=>{wl("Please manually open your email client and send to: ".concat(e.clientEmail,"\n\nSubject: ").concat(t,"\n\nBody: ").concat(n))})}}},xe=()=>{U(T(T({},q),{},{services:[...q.services,{name:"",date:"",time:"",location:"",status:"scheduled",notes:"",typeEditable:!1}]}))},be=e=>{q.services.length>1&&U(T(T({},q),{},{services:q.services.filter((t,n)=>n!==e)}))},je=(e,t,n,a)=>{const r=[...q.services];r[e][t]=n,"name"===t&&void 0!==a&&(r[e].typeEditable=!!a),e>0&&("date"!==t&&"time"!==t&&"location"!==t||!r[e].sameAsAbove||(r[e].sameAsAbove=!1)),U(T(T({},q),{},{services:r}))},_e=(e,t)=>{if(e<=0)return;const n=[...q.services];if(n[e].sameAsAbove=t,t){const t=q.services[e-1]||{};["date","time","location"].forEach(a=>{void 0!==t[a]&&(n[e][a]=t[a])})}U(T(T({},q),{},{services:n}))};(0,r.useEffect)(()=>{try{if(!Array.isArray(e)||0===e.length)return;const n=e.map(e=>{const t=Array.isArray(e.services)&&e.services.length>0?e.services[0]:null,n=e.date||t&&t.date||e.createdDate||"",a=e.time||t&&t.time||"",r=e.orderType||"own",i=Pe(e.services||[]);return e.date!==n||e.time!==a||e.orderType!==r||e.status!==i?T(T({},e),{},{date:n,time:a,orderType:r,status:i}):e});if(JSON.stringify(n)!==JSON.stringify(e)){t(n);try{Vn.setJSONAndSync(yn,n)}catch(Fu){}}}catch(Fu){}},[]);const we=Xa(),Ne=(0,r.useRef)(null);(0,r.useEffect)(()=>{var t,n;if(null!==we&&void 0!==we&&null!==(t=we.state)&&void 0!==t&&t.openCreate){me();try{window.history.replaceState({},document.title)}catch(Fu){}}if(null!==we&&void 0!==we&&null!==(n=we.state)&&void 0!==n&&n.openViewId){const t=we.state.openViewId,n=e.find(e=>e.id===t);n?fe(n):Ne.current=t;try{window.history.replaceState({},document.title)}catch(Fu){}}},[]),(0,r.useEffect)(()=>{if(Ne.current){const t=Ne.current,n=e.find(e=>e.id===t);if(n){fe(n),Ne.current=null;try{window.history.replaceState({},document.title)}catch(Fu){}}}},[e]);const Se=e=>{j===e?S("asc"===N?"desc":"asc"):(_(e),S("desc"))},ke=()=>Ce.every(e=>A[e.key]),Ce=[{key:"quotationNo",label:"Quotation No."},{key:"date",label:"Date"},{key:"services",label:"Services"},{key:"orderType",label:"Order Type"},{key:"team",label:"Team"},{key:"location",label:"Location"},{key:"status",label:"Status"}],Ee=e=>{switch(e){case"scheduled":default:return(0,Fs.jsx)(Fi,{});case"in-progress":return(0,Fs.jsx)(us,{});case"completed":return(0,Fs.jsx)(Di,{});case"cancelled":return(0,Fs.jsx)(Ps,{})}},Pe=e=>{if(!Array.isArray(e)||0===e.length)return"scheduled";const t=e.map(e=>e&&e.status?e.status:"scheduled");if(t.every(e=>"cancelled"===e))return"cancelled";if(t.every(e=>"completed"===e||"cancelled"===e))return"completed";t.some(e=>"scheduled"===e||"in-progress"===e);return"scheduled"},Ae=e=>e?e.toString().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"N/A",Te=(()=>{const t=(u||"").toString().trim().toLowerCase();let n=e.filter(e=>{const n=((null===e||void 0===e?void 0:e.clientName)||"").toString().toLowerCase(),a=((null===e||void 0===e?void 0:e.quotationRef)||"").toString().toLowerCase(),r=""===t||n.includes(t),i=(e.services||[]).some(e=>{const n=((null===e||void 0===e?void 0:e.date)||"").toString().toLowerCase(),a=null!==e&&void 0!==e&&e.date?Us(e.date).toLowerCase():"";return n.includes(t)||a.includes(t)}),s=(e.services||[]).some(e=>((null===e||void 0===e?void 0:e.location)||"").toString().toLowerCase().includes(t)),o=((null===e||void 0===e?void 0:e.id)||"").toString().toLowerCase().includes(t),l=a.includes(t),c=(e.services||[]).some(e=>((null===e||void 0===e?void 0:e.name)||"").toString().toLowerCase().includes(t)),d=(Array.isArray(e.team)?e.team:[]).map(e=>"string"===typeof e?e:e.name||"").join(" ").toLowerCase().includes(t),u=r||i||s||o||c||l||d,h="all"===m||e.status===m,p="all"===f||(e.orderType||"own")===f;return u&&h&&p});if(g||x){const e=g?new Date(g):null,t=x?new Date(x):null;n=n.filter(n=>(n.services||[]).some(n=>{if(!n||!n.date)return!1;const a=new Date(n.date);return!Number.isNaN(a.getTime())&&(!(e&&a<e)&&!(t&&a>t))}))}return n.sort((e,t)=>{let n=0;switch(j){case"client":n=e.clientName.localeCompare(t.clientName);break;case"date":n=(e.services.length>0?new Date(e.services[0].date):new Date(0))-(t.services.length>0?new Date(t.services[0].date):new Date(0));break;default:n=0}return"asc"===N?n:-n}),n})(),Oe=Math.ceil(Te.length/F),Le=(I-1)*F,De=Le+F,Re=Te.slice(Le,De);(0,r.useEffect)(()=>{z(1)},[u,m,f,g,x,j,N]);const Ie=e=>{z(e)},ze=t=>{const n=Te.findIndex(e=>e.id===t);if(-1!==n)return n+1;const a=e.findIndex(e=>e.id===t);return-1!==a?a+1:""};return(0,Fs.jsxs)("div",{className:"event",children:[(0,Fs.jsxs)("div",{className:"event__header",children:[(0,Fs.jsxs)("div",{className:"event__title-section",children:[(0,Fs.jsxs)("h1",{className:"event__title",children:[(0,Fs.jsx)(Oi,{}),"Events"]}),(0,Fs.jsx)("p",{className:"event__subtitle",children:"Manage and track client events and services"})]}),(0,Fs.jsxs)("div",{className:"event__header-actions",children:[(0,Fs.jsxs)("button",{className:"btn-primary event__export-btn",onClick:()=>{try{const t=Array.isArray(Te)&&Te.length>0?Te:e;if(!t||0===t.length)return void wl("No events to export");const n=["Sl. No","Client Name","Phone","Mail"];Ce.forEach(e=>{A[e.key]&&n.push(e.label)});const a=e=>'"'+(void 0===e||null===e?"":String(e)).replace(/"/g,'""')+'"',r=t.map((e,t)=>{const n=[ze(e.id)||t+1,e.clientName||"",e.clientPhone||"",e.clientEmail||""];return Ce.forEach(t=>{var a;if(A[t.key])switch(t.key){case"quotationNo":n.push(e.quotationRef||e.id||"");break;case"date":n.push((0===(a=e.services).length?"N/A":[...a].sort((e,t)=>new Date(e.date)-new Date(t.date))[0].date)||"");break;case"services":if(Array.isArray(e.services)&&e.services.length>0){const t=e.services.slice().sort((e,t)=>new Date(e.date||0)-new Date(t.date||0));n.push(t.map(e=>e&&e.name?e.name:e||"").filter(Boolean).join("; "))}else n.push("");break;case"team":n.push(Array.isArray(e.team)?e.team.filter(Boolean).join("; "):"");break;case"location":if(Array.isArray(e.services)&&e.services.length>0){const t=e.services.slice().sort((e,t)=>new Date(e.date||0)-new Date(t.date||0)),a=t.map(e=>e&&e.location?e.location:"").filter(Boolean);n.push(Array.from(new Set(a)).join("; "))}else n.push(e.location||"");break;case"orderType":n.push(Ae(e.orderType||"own"));break;case"status":n.push(e.status||"");break;default:n.push("")}}),n.map(a).join(",")}),i=[n.map(a).join(","),...r].join("\r\n"),s=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(s),l=document.createElement("a");l.href=o,l.download="events_export_".concat(Bs(new Date),".csv"),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)}catch(Fu){console.error("export error",Fu),wl("Unable to export events")}},title:"Export Events",style:{marginRight:8},children:[(0,Fs.jsx)(bs,{})," Export"]}),(0,Fs.jsxs)("button",{className:"btn-primary",onClick:me,children:[(0,Fs.jsx)(ms,{}),"New Event"]})]})]}),(0,Fs.jsx)("div",{className:"event__stats",children:(()=>{const t=e.length,n=e.filter(e=>"completed"===e.status).length,a=e.filter(e=>"cancelled"===e.status).length,r=e.filter(e=>"scheduled"===e.status||"in-progress"===e.status).length;return[{key:"total",label:"Total Events",value:t,icon:(0,Fs.jsx)(Es,{}),mod:"total"},{key:"completed",label:"Completed",value:n,icon:(0,Fs.jsx)(zi,{}),mod:"completed"},{key:"cancelled",label:"Cancelled",value:a,icon:(0,Fs.jsx)(Ps,{}),mod:"cancelled"},{key:"scheduled",label:"Scheduled / In-progress",value:r,icon:(0,Fs.jsx)(Fi,{}),mod:"scheduled"}].map(e=>(0,Fs.jsxs)("div",{className:"event__stat-card",role:"group","aria-label":e.label,children:[(0,Fs.jsx)("div",{className:"event__stat-icon event__stat-icon--".concat(e.mod),children:e.icon}),(0,Fs.jsxs)("div",{className:"event__stat-info",children:[(0,Fs.jsx)("h3",{children:e.value}),(0,Fs.jsx)("p",{children:e.label})]})]},e.key))})()}),(0,Fs.jsxs)("div",{className:"event__toolbar",children:[(0,Fs.jsxs)("div",{className:"event__search",children:[(0,Fs.jsx)(xs,{}),(0,Fs.jsx)("input",{type:"text",placeholder:"Search events by client, ID, service or location...",value:u,onChange:e=>h(e.target.value)})]}),(0,Fs.jsxs)("div",{className:"event__toolbar-right",children:[(0,Fs.jsxs)("div",{className:"event__filter",children:[(0,Fs.jsx)(Yi,{}),(0,Fs.jsxs)("select",{value:m,onChange:e=>p(e.target.value),children:[(0,Fs.jsx)("option",{value:"all",children:"All Status"}),(0,Fs.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,Fs.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,Fs.jsx)("option",{value:"completed",children:"Completed"}),(0,Fs.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,Fs.jsxs)("div",{className:"event__filter event__filter--order-type",children:[(0,Fs.jsx)("label",{children:"Order"}),(0,Fs.jsxs)("select",{value:f,onChange:e=>v(e.target.value),children:[(0,Fs.jsx)("option",{value:"all",children:"All"}),(0,Fs.jsx)("option",{value:"own",children:"Own"}),(0,Fs.jsx)("option",{value:"suborder",children:"Suborder"})]})]}),(0,Fs.jsxs)("div",{className:"event__filter event__filter--date-range",children:[(0,Fs.jsx)("label",{children:"From"}),(0,Fs.jsx)("input",{type:"date",value:g,onChange:e=>y(e.target.value)}),(0,Fs.jsx)("label",{children:"To"}),(0,Fs.jsx)("input",{type:"date",value:x,onChange:e=>b(e.target.value)})]}),"table"===k&&(0,Fs.jsxs)("div",{className:"event__column-selector",children:[(0,Fs.jsx)("button",{ref:R,className:"event__column-btn",onClick:()=>P(!E),title:"Column Preferences",children:(0,Fs.jsx)(Mi,{})}),E&&(0,Fs.jsxs)("div",{ref:D,className:"event__column-menu",children:[(0,Fs.jsxs)("div",{className:"event__column-menu-header",children:[(0,Fs.jsx)("span",{children:"Show Columns"}),(0,Fs.jsx)("button",{onClick:()=>P(!1),children:(0,Fs.jsx)(Ps,{})})]}),(0,Fs.jsxs)("div",{className:"event__column-menu-items",children:[(0,Fs.jsxs)("label",{className:"event__column-menu-item event__column-menu-item--select-all",children:[(0,Fs.jsx)("input",{type:"checkbox",checked:ke(),onChange:e=>(e=>{const t={};Ce.forEach(n=>{t[n.key]=e}),L(t)})(e.target.checked)}),ke()?(0,Fs.jsx)(Ii,{}):(0,Fs.jsx)(Cs,{}),(0,Fs.jsx)("span",{children:(0,Fs.jsx)("strong",{children:"Select All"})})]}),(0,Fs.jsx)("div",{className:"event__column-menu-divider"}),Ce.map(e=>(0,Fs.jsxs)("label",{className:"event__column-menu-item",children:[(0,Fs.jsx)("input",{type:"checkbox",checked:A[e.key],onChange:()=>{return t=e.key,void L(T(T({},A),{},{[t]:!A[t]}));var t}}),A[e.key]?(0,Fs.jsx)(Ii,{}):(0,Fs.jsx)(Cs,{}),(0,Fs.jsx)("span",{children:e.label})]},e.key))]})]})]}),(0,Fs.jsxs)("div",{className:"event__view-toggle",children:[(0,Fs.jsx)("button",{className:"event__view-btn ".concat("table"===k?"active":""),onClick:()=>C("table"),title:"Table View",children:(0,Fs.jsx)(ts,{})}),(0,Fs.jsx)("button",{className:"event__view-btn ".concat("grid"===k?"active":""),onClick:()=>C("grid"),title:"Grid View",children:(0,Fs.jsx)(Es,{})})]})]})]}),(0,Fs.jsx)("div",{className:"event__content",children:0===Te.length?(0,Fs.jsxs)("div",{className:"event__empty",children:[(0,Fs.jsx)(Ti,{}),(0,Fs.jsx)("h3",{children:"No events found"}),(0,Fs.jsx)("p",{children:"Create your first event to get started"})]}):"table"===k?(0,Fs.jsx)("div",{className:"event__table-container",children:(0,Fs.jsxs)("table",{className:"event__table",children:[(0,Fs.jsx)("thead",{children:(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("th",{className:"event__col-no",children:"No."}),A.orderType&&(0,Fs.jsx)("th",{children:"Order Type"}),(0,Fs.jsxs)("th",{className:"event__sortable-header",onClick:()=>Se("client"),children:["Client "," ","client"===j?"asc"===N?(0,Fs.jsx)(Ss,{}):(0,Fs.jsx)(Ns,{}):(0,Fs.jsx)(ks,{className:"event__sort-icon--muted"})]}),A.quotationNo&&(0,Fs.jsx)("th",{children:"Quotation No."}),A.services&&(0,Fs.jsx)("th",{className:"event__col-services",children:"Services"}),A.date&&(0,Fs.jsxs)("th",{className:"event__sortable-header event__col-date",onClick:()=>Se("date"),children:["Date "," ","date"===j?"asc"===N?(0,Fs.jsx)(Ss,{}):(0,Fs.jsx)(Ns,{}):(0,Fs.jsx)(ks,{className:"event__sort-icon--muted"})]}),A.team&&(0,Fs.jsx)("th",{className:"event__col-team",children:"Team"}),A.location&&(0,Fs.jsx)("th",{className:"event__col-location",children:"Location"}),A.status&&(0,Fs.jsx)("th",{children:"Status"}),(0,Fs.jsx)("th",{children:"Actions"})]})}),(0,Fs.jsx)("tbody",{children:Re.map((e,t)=>(0,Fs.jsxs)("tr",{tabIndex:0,onClick:()=>fe(e),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),fe(e))},role:"button","aria-pressed":"false",children:[(0,Fs.jsx)("td",{children:(0,Fs.jsx)("span",{className:"event__id",children:ze(e.id)})}),A.orderType&&(0,Fs.jsx)("td",{children:(()=>{const t=(e.orderType||"own").toString().toLowerCase();return(0,Fs.jsx)("span",{className:"event__order-type event__order-type--".concat(t),children:Ae(e.orderType||"own")})})()}),(0,Fs.jsx)("td",{children:(0,Fs.jsx)("div",{className:"event__client",children:(0,Fs.jsxs)("div",{className:"event__client-info",children:[(0,Fs.jsx)("div",{className:"event__client-name",children:(0,Fs.jsx)(cu,{text:e.clientName,query:u})}),(0,Fs.jsx)("div",{className:"event__client-phone",children:(0,Fs.jsx)(cu,{text:e.clientPhone,query:u})}),(0,Fs.jsx)("div",{className:"event__client-email",children:(0,Fs.jsx)(cu,{text:e.clientEmail,query:u})})]})})}),A.quotationNo&&(0,Fs.jsx)("td",{children:(0,Fs.jsx)("span",{className:"event__quotation-id",children:(0,Fs.jsx)(cu,{text:e.quotationRef||"NA",query:u})})}),A.services&&(0,Fs.jsx)("td",{children:(0,Fs.jsx)("div",{className:"event__services",children:[...e.services].sort((e,t)=>(e.date?new Date(e.date):new Date(0))-(t.date?new Date(t.date):new Date(0))).map((e,t)=>{const n=e&&("completed"===e.status||"cancelled"===e.status);return(0,Fs.jsxs)("span",{className:"event__service-tag ".concat(n?"event__service-tag--struck":""),children:[(0,Fs.jsx)(Li,{})," ",e.name]},t)})})}),A.date&&(0,Fs.jsx)("td",{children:(0,Fs.jsx)("div",{className:"event__date-info",children:e.services.length>0?[...e.services].sort((e,t)=>(e.date?new Date(e.date):new Date(0))-(t.date?new Date(t.date):new Date(0))).map((e,t)=>{const n=e&&("completed"===e.status||"cancelled"===e.status);return(0,Fs.jsxs)("div",{className:"event__service-date-time",children:[(0,Fs.jsx)("span",{className:"event__date ".concat(n?"event__date--struck":""),children:Us(e.date)}),e.time&&(0,Fs.jsxs)("span",{className:"event__time ".concat(n?"event__time--struck":""),children:[(0,Fs.jsx)(Fi,{})," ",e.time]})]},t)}):(0,Fs.jsx)("span",{className:"event__date",children:"N/A"})})}),A.team&&(0,Fs.jsx)("td",{children:(0,Fs.jsx)("div",{className:"event__services",children:e.team&&e.team.map((e,t)=>(0,Fs.jsxs)("span",{className:"event__service-tag",children:[(0,Fs.jsx)(Ds,{})," ",(0,Fs.jsx)(cu,{text:e,query:u})]},t))})}),A.location&&(0,Fs.jsx)("td",{children:(0,Fs.jsx)("div",{className:"event__location",children:e.services.length>0?[...e.services].sort((e,t)=>(e.date?new Date(e.date):new Date(0))-(t.date?new Date(t.date):new Date(0))).map((e,t)=>{const n=e&&("completed"===e.status||"cancelled"===e.status);return(0,Fs.jsxs)("div",{className:"event__service-location-item",children:[(0,Fs.jsx)(ns,{}),(0,Fs.jsx)("span",{className:"event__location-name ".concat(n?"event__location--struck":""),children:(0,Fs.jsx)(cu,{text:e.location||"N/A",query:u})})]},t)}):(0,Fs.jsxs)("div",{className:"event__location-item",children:[(0,Fs.jsx)(ns,{}),(0,Fs.jsx)("span",{children:"N/A"})]})})}),A.status&&(0,Fs.jsx)("td",{children:(0,Fs.jsxs)("span",{className:"event__status event__status--".concat(e.status),children:[Ee(e.status),e.status.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")]})}),(0,Fs.jsx)("td",{children:(0,Fs.jsxs)("div",{className:"event__actions",children:[(0,Fs.jsx)("button",{className:"event__action-btn event__action-btn--view",onClick:t=>{t.stopPropagation(),fe(e)},title:"View",children:(0,Fs.jsx)($i,{})}),(0,Fs.jsx)("button",{className:"event__action-btn event__action-btn--whatsapp",onClick:t=>{t.stopPropagation(),ge(e)},title:"WhatsApp",children:(0,Fs.jsx)(_i,{})}),(0,Fs.jsx)("button",{className:"event__action-btn event__action-btn--delete",onClick:t=>{t.stopPropagation(),ve(e.id)},title:"Delete",children:(0,Fs.jsx)(As,{})}),(0,Fs.jsx)("button",{className:"event__action-btn event__action-btn--email",onClick:t=>{t.stopPropagation(),ye(e)},title:"Email",children:(0,Fs.jsx)(Ji,{})})]})})]},e.id))})]})}):(0,Fs.jsx)("div",{className:"event__grid",children:Re.map((e,t)=>(0,Fs.jsxs)("div",{className:"event__card",children:[(0,Fs.jsxs)("div",{className:"event__card-header",children:[A.id&&(0,Fs.jsx)("span",{className:"event__card-id",children:ze(e.id)}),(0,Fs.jsxs)("span",{className:"event__status event__status--".concat(e.status),children:[Ee(e.status),e.status.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")]})]}),(0,Fs.jsx)("div",{className:"event__card-client",children:(0,Fs.jsxs)("div",{className:"event__card-client-info",children:[(0,Fs.jsx)("h3",{children:e.clientName}),(0,Fs.jsx)("p",{children:e.clientEmail}),e.team&&(0,Fs.jsx)("div",{className:"event__team-list",children:e.team.map((e,t)=>(0,Fs.jsxs)("span",{className:"event__service-tag",children:[(0,Fs.jsx)(Ds,{})," ",e]},t))})]})}),(0,Fs.jsxs)("div",{className:"event__card-services",children:[(0,Fs.jsxs)("h4",{children:[(0,Fs.jsx)(Li,{})," Services (",e.services.length,")"]}),[...e.services].sort((e,t)=>(e.date?new Date(e.date):new Date(0))-(t.date?new Date(t.date):new Date(0))).map((e,t)=>(0,Fs.jsxs)("div",{className:"event__card-service",children:[(0,Fs.jsxs)("div",{className:"event__card-service-header",children:[(0,Fs.jsx)("span",{className:"event__service-name",children:(0,Fs.jsx)(cu,{text:e.name,query:u})}),(0,Fs.jsx)("span",{className:"event__service-status event__service-status--".concat(e.status),children:Ee(e.status)})]}),(0,Fs.jsxs)("div",{className:"event__card-service-details",children:[(0,Fs.jsxs)("span",{children:[(0,Fs.jsx)(Ti,{})," ",e.date]}),(0,Fs.jsxs)("span",{children:[(0,Fs.jsx)(Fi,{})," ",e.time]})]}),(0,Fs.jsxs)("div",{className:"event__card-service-location",children:[(0,Fs.jsx)(ns,{})," ",(0,Fs.jsx)(cu,{text:e.location,query:u})]})]},t))]}),(0,Fs.jsxs)("div",{className:"event__card-actions",children:[(0,Fs.jsxs)("button",{className:"event__action-btn event__action-btn--view",onClick:()=>fe(e),children:[(0,Fs.jsx)($i,{})," View"]}),(0,Fs.jsx)("button",{className:"event__action-btn event__action-btn--whatsapp",onClick:()=>ge(e),children:(0,Fs.jsx)(_i,{})}),(0,Fs.jsx)("button",{className:"event__action-btn event__action-btn--delete",onClick:()=>ve(e.id),children:(0,Fs.jsx)(As,{})}),(0,Fs.jsx)("button",{className:"event__action-btn event__action-btn--email",onClick:()=>ye(e),children:(0,Fs.jsx)(Ji,{})})]})]},e.id))})}),Te.length>0&&(0,Fs.jsxs)("div",{className:"event__pagination",children:[(0,Fs.jsxs)("div",{className:"event__pagination-info",children:["Showing ",Le+1," to ",Math.min(De,Te.length)," of ",Te.length," events"]}),(0,Fs.jsxs)("div",{className:"event__pagination-controls",children:[(0,Fs.jsxs)("div",{className:"event__pagination-rows",children:[(0,Fs.jsx)("label",{children:"Rows per page:"}),(0,Fs.jsxs)("select",{value:F,onChange:e=>{return t=Number(e.target.value),M(t),void z(1);var t},children:[(0,Fs.jsx)("option",{value:10,children:"10"}),(0,Fs.jsx)("option",{value:25,children:"25"}),(0,Fs.jsx)("option",{value:50,children:"50"}),(0,Fs.jsx)("option",{value:100,children:"100"})]})]}),(0,Fs.jsxs)("div",{className:"event__pagination-buttons",children:[(0,Fs.jsx)("button",{className:"event__pagination-btn",onClick:()=>Ie(1),disabled:1===I,title:"First Page",children:(0,Fs.jsx)(wi,{})}),(0,Fs.jsx)("button",{className:"event__pagination-btn",onClick:()=>Ie(I-1),disabled:1===I,title:"Previous Page",children:(0,Fs.jsx)(Si,{})}),(0,Fs.jsx)("div",{className:"event__pagination-pages",children:(()=>{const e=[];let t=Math.max(1,I-Math.floor(2.5)),n=Math.min(Oe,t+5-1);n-t<4&&(t=Math.max(1,n-5+1)),t>1&&(e.push((0,Fs.jsx)("button",{className:"event__pagination-btn",onClick:()=>Ie(1),children:"1"},1)),t>2&&e.push((0,Fs.jsx)("span",{className:"event__pagination-ellipsis",children:"..."},"ellipsis1")));for(let a=t;a<=n;a++)e.push((0,Fs.jsx)("button",{className:"event__pagination-btn ".concat(I===a?"active":""),onClick:()=>Ie(a),children:a},a));return n<Oe&&(n<Oe-1&&e.push((0,Fs.jsx)("span",{className:"event__pagination-ellipsis",children:"..."},"ellipsis2")),e.push((0,Fs.jsx)("button",{className:"event__pagination-btn",onClick:()=>Ie(Oe),children:Oe},Oe))),e})()}),(0,Fs.jsx)("button",{className:"event__pagination-btn",onClick:()=>Ie(I+1),disabled:I===Oe,title:"Next Page",children:(0,Fs.jsx)(ki,{})}),(0,Fs.jsx)("button",{className:"event__pagination-btn",onClick:()=>Ie(Oe),disabled:I===Oe,title:"Last Page",children:(0,Fs.jsx)(Ni,{})})]})]})]}),(0,Fs.jsx)(Ms,{isOpen:n,title:"Create New Event",headerActions:(0,Fs.jsx)("button",{className:"btn-secondary modal__reset",onClick:pe,type:"button",children:"Reset"}),onClose:()=>{G(hu),a(!1)},size:"large",children:(0,Fs.jsxs)("div",{className:"event__form",children:[(0,Fs.jsxs)("div",{className:"event__form-section",children:[(0,Fs.jsxs)("div",{className:"event__form-row",children:[(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Event ID"}),(0,Fs.jsx)("input",{type:"text",value:q.quotationId||"",readOnly:!0})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Quotation ID"}),Array.isArray(ee)&&ee.length>0?(()=>{const e=ee||[],t=e.filter(e=>(String(e.id||e.quotationId||e.ref)+(e.clientName?" - "+e.clientName:"")).toLowerCase().includes((ne||"").toLowerCase())),n=(()=>{if(ne)return ne;if(q.quotationRef){const t=e.find(e=>String(e.id||e.quotationId||e.ref)===String(q.quotationRef));if(t)return String(t.id||t.quotationId||t.ref)+(t.clientName?" - "+t.clientName:"")}return""})();return(0,Fs.jsxs)("div",{style:{position:"relative"},children:[(0,Fs.jsx)("input",{ref:ce,className:"event__quotation-input",type:"text",placeholder:"Search quotation by ID or client name",value:ne||n,onChange:e=>{ae(e.target.value),ie(!0),oe(-1)},onFocus:()=>{ie(!0),oe(-1)},onKeyDown:e=>{const n=t.length-1;if("ArrowDown"===e.key)e.preventDefault(),oe(e=>Math.min(n,Math.max(0,e+1)));else if("ArrowUp"===e.key)e.preventDefault(),oe(e=>Math.max(0,e-1));else if("Enter"===e.key){if(e.preventDefault(),se>=0&&t[se]){const e=t[se],n=String(e.id||e.quotationId||e.ref);de(n),ae(String(n)+(e.clientName?" - "+e.clientName:"")),ie(!1),oe(-1)}}else"Escape"===e.key&&ie(!1)},onBlur:()=>{le.current=setTimeout(()=>ie(!1),120)},onMouseDown:()=>{le.current&&(clearTimeout(le.current),le.current=null)}}),re&&t.length>0&&(0,Fs.jsx)("ul",{className:"event__quotation-dropdown",style:{position:"absolute",zIndex:40,top:"calc(100% + 6px)",left:0,right:0,maxHeight:220,overflow:"auto",background:"#fff",border:"1px solid #e5e7eb",borderRadius:6,padding:0,margin:0,listStyle:"none"},children:t.map((e,t)=>{const n=String(e.id||e.quotationId||e.ref)+(e.clientName?" - "+e.clientName:""),a=t===se;return(0,Fs.jsx)("li",{onMouseDown:t=>{t.preventDefault();const a=String(e.id||e.quotationId||e.ref);de(a),ae(n),ie(!1),oe(-1)},onMouseEnter:()=>oe(t),style:{padding:"8px 10px",background:a?"#f3f4f6":"#fff",cursor:"pointer",borderBottom:"1px solid #f3f4f6"},children:(0,Fs.jsx)("div",{style:{fontSize:13,color:"#111"},children:n})},(e.id||e.quotationId||e.ref)+"-"+t)})}),(ne||q.quotationRef)&&(0,Fs.jsx)("button",{type:"button",className:"event__quotation-clear",onMouseDown:e=>e.preventDefault(),onClick:()=>{ae(""),pe(),ie(!1),oe(-1);try{ce.current&&ce.current.focus()}catch(e){}},"aria-label":"Clear quotation",children:(0,Fs.jsx)(Ps,{})})]})})():(0,Fs.jsx)("div",{className:"event__form-note",children:"No quotations available"})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Order Type"}),(0,Fs.jsxs)("select",{value:q.orderType,onChange:e=>U(T(T({},q),{},{orderType:e.target.value})),children:[(0,Fs.jsx)("option",{value:"own",children:"Own"}),(0,Fs.jsx)("option",{value:"suborder",children:"Suborder"})]})]})]}),(0,Fs.jsxs)("div",{className:"event__form-row event__form-row--with-margin",children:[(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Client Name *"}),(0,Fs.jsx)("input",{type:"text",placeholder:"Enter client name",value:q.clientName,onChange:e=>{const t=(e.target.value||"").replace(/[^A-Za-z '\-\.()]/g,"");U(T(T({},q),{},{clientName:t}))},inputMode:"text",title:"Name: letters, spaces and - ' . () only"})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Client Phone *"}),(0,Fs.jsx)("input",{type:"tel",placeholder:"1234567890",value:q.clientPhone,onChange:e=>U(T(T({},q),{},{clientPhone:mu(e.target.value)})),inputMode:"numeric",pattern:"\\d{10}",title:"Phone: digits only (10 digits)"})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Client Email"}),(0,Fs.jsx)("input",{type:"email",placeholder:"client@email.com",value:q.clientEmail,onChange:e=>U(T(T({},q),{},{clientEmail:e.target.value})),inputMode:"email",title:"Email address"})]})]})]}),(0,Fs.jsxs)("div",{className:"event__form-section",children:[(0,Fs.jsxs)("div",{className:"event__form-section-header",children:[(0,Fs.jsx)("h3",{children:"Services & Schedule"}),(0,Fs.jsxs)("button",{className:"btn-secondary",onClick:xe,children:[(0,Fs.jsx)(ms,{})," Add Service"]})]}),q.services.map((e,t)=>(0,Fs.jsxs)("div",{className:"event__service-item",children:[(0,Fs.jsxs)("div",{className:"event__service-item-header",children:[(0,Fs.jsxs)("h4",{children:["Service ",t+1]}),q.services.length>1&&(0,Fs.jsx)("button",{className:"event__remove-service",onClick:()=>be(t),title:"Remove service",children:(0,Fs.jsx)(Ps,{})})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Service Type"}),e&&e.typeEditable?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("input",{list:"service-options-".concat(t),value:e.name||"",onChange:e=>je(t,"name",e.target.value,!0),placeholder:"Edit service name"}),(0,Fs.jsx)("datalist",{id:"service-options-".concat(t),children:(J.length>0?J.map(e=>e.name):H).map(e=>(0,Fs.jsx)("option",{value:e},e))})]}):J.length>0?(0,Fs.jsxs)("select",{value:e.name,onChange:e=>je(t,"name",e.target.value,!1),children:[(0,Fs.jsx)("option",{value:"",children:"Select a service"}),J.map(e=>(0,Fs.jsx)("option",{value:e.name,children:e.name},e.id||e.name))]}):(0,Fs.jsxs)("select",{value:e.name,onChange:e=>je(t,"name",e.target.value,!1),children:[(0,Fs.jsx)("option",{value:"",children:"Select a service"}),H.map(e=>(0,Fs.jsx)("option",{value:e,children:e},e))]})]}),(0,Fs.jsxs)("div",{className:"event__form-row",children:[(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Date"}),(0,Fs.jsxs)("div",{className:"event__form-input-with-flag",children:[(0,Fs.jsx)("input",{type:"date",value:e.date,onChange:e=>je(t,"date",e.target.value)}),t>0&&(0,Fs.jsxs)("label",{className:"event__same-as-above",children:[(0,Fs.jsx)("input",{type:"checkbox",checked:!!e.sameAsAbove,onChange:e=>_e(t,e.target.checked)}),(0,Fs.jsx)("span",{children:"Same date/time/location as above"})]})]})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Time *"}),(0,Fs.jsxs)("div",{className:"event__form-input-with-flag",children:[(0,Fs.jsx)("input",{type:"time",value:e.time,onChange:e=>je(t,"time",e.target.value)}),t>0&&(0,Fs.jsxs)("label",{className:"event__same-as-above",style:{visibility:"hidden",pointerEvents:"none"},children:[(0,Fs.jsx)("input",{type:"checkbox",disabled:!0}),(0,Fs.jsx)("span",{children:"Same as above"})]})]})]})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Location *"}),(0,Fs.jsxs)("div",{className:"event__form-input-with-flag",children:[(0,Fs.jsx)("input",{type:"text",placeholder:"Enter event location",value:e.location,onChange:e=>je(t,"location",e.target.value)}),t>0&&(0,Fs.jsxs)("label",{className:"event__same-as-above",style:{visibility:"hidden",pointerEvents:"none"},children:[(0,Fs.jsx)("input",{type:"checkbox",disabled:!0}),(0,Fs.jsx)("span",{children:"Same as above"})]})]})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Notes"}),(0,Fs.jsx)("textarea",{placeholder:"Additional notes for this service",value:e.notes,onChange:e=>je(t,"notes",e.target.value),rows:2})]})]},t))]}),(0,Fs.jsxs)("div",{className:"event__form-section",children:[(0,Fs.jsx)("h3",{children:"Team Assignment"}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Team Members"}),(0,Fs.jsx)("div",{className:"event__team-list event__team-list--selectable",children:0===$.length?(0,Fs.jsx)("div",{className:"event__muted",children:"No team members found. Add team members on the Team page."}):$.map(e=>{const t=Array.isArray(q.team)&&q.team.includes(e);return(0,Fs.jsxs)("label",{className:"event__team-label ".concat(t?"is-checked":""),children:[(0,Fs.jsx)("input",{type:"checkbox",checked:t,onChange:t=>{const n=Array.isArray(q.team)?[...q.team]:[];if(t.target.checked)n.push(e);else{const t=n.indexOf(e);t>-1&&n.splice(t,1)}U(T(T({},q),{},{team:n}))}}),(0,Fs.jsx)("span",{className:"event__team-label-text",children:e})]},e)})})]})]}),(0,Fs.jsxs)("div",{className:"event__form-actions",children:[(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>{try{G(Y())}catch(Fu){}try{a(!1)}catch(Fu){}try{wl("\u26a0\ufe0f your form saved temporarily, please complete and submit soon.")}catch(Fu){}},type:"button",children:"Save Draft"}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>a(!1),children:"Cancel"}),(0,Fs.jsx)("button",{className:"btn-primary",onClick:()=>{var n;"string"===typeof(n=q.clientName)&&n.trim().length>0&&/^[A-Za-z '\-\.()]{1,100}$/.test(n.trim())?(e=>{const t=mu(e);return t.length>=7&&t.length<=15})(q.clientPhone)?(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))(q.clientEmail)?(async()=>{const n={id:q.quotationId,quotationRef:q.quotationRef||"",clientName:q.clientName,clientEmail:q.clientEmail,clientPhone:q.clientPhone,orderType:q.orderType,team:Array.isArray(q.team)?q.team.filter(Boolean):[],services:q.services.map((e,t)=>{const n=e||{},{sameAsDateAbove:a,sameAsTimeAbove:r,sameAsLocationAbove:i,sameAsAbove:s,typeEditable:o}=n,l=O(n,du);return T({id:Date.now()+t},l)}),status:Pe(q.services.map(e=>T({},e||{}))),createdDate:(new Date).toISOString(),date:(q.services&&q.services.length>0?q.services[0].date:"")||Bs(new Date),time:(q.services&&q.services.length>0?q.services[0].time:"")||"",notes:q.notes},r=[n,...e.filter(e=>e&&e.id!==n.id)];t(r);try{Vn.setJSONAndSync(yn,r)}catch(Fu){}try{const a=Dt.getToken();if(a){const r=await fetch("".concat(un,"/events"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});if(r.ok){const n=await r.json(),a=[n,...e.filter(e=>e&&e.id!==n.id)];t(a);try{Vn.setJSONAndSync(yn,a)}catch(Fu){}}else{const e=await r.text().catch(()=>"");wl("Unable to save event to server: ".concat(r.status," ").concat(r.statusText," ").concat(e))}}}catch(Fu){console.warn("Failed to persist event to server",Fu),wl("Event saved locally but failed to sync with server.")}try{ue(rn({title:"Event created",message:"".concat(n.id," \u2014 ").concat(n.clientName||"No client"),type:"info",timestamp:(new Date).toISOString(),path:"/events",data:{openViewId:n.id}}))}catch(Fu){}a(!1);try{Z(Y())}catch(Fu){}})():wl("Please enter a valid email address"):wl("Please enter a valid client phone (digits only, 7-15 digits)"):wl("Please enter a valid client name")},disabled:!q.clientName||!q.clientPhone,children:"Create Event"})]})]})}),i&&c&&(0,Fs.jsx)(Ms,{isOpen:!0,title:"".concat(o?"Edit Event":"Event Details"," - ").concat(c.id),headerActions:o?(0,Fs.jsxs)("div",{className:"event__header-status-edit",children:[(0,Fs.jsx)("label",{htmlFor:"event-status-select",className:"sr-only",children:"Event Status"}),(0,Fs.jsxs)("select",{id:"event-status-select",className:"event__status-select event__status--".concat((q.eventStatus||Pe(q.services||[])||c.status).toString().toLowerCase()),value:q.eventStatus||Pe(q.services||[])||c.status,onChange:e=>U(T(T({},q),{},{eventStatus:e.target.value})),children:[(0,Fs.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,Fs.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,Fs.jsx)("option",{value:"completed",children:"Completed"}),(0,Fs.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}):null,onClose:()=>{s(!1),d(null),l(!1)},size:"large",children:o?(0,Fs.jsxs)("div",{className:"event__form",children:[(0,Fs.jsx)("div",{className:"event__form-section",children:(0,Fs.jsxs)("div",{className:"event__form-row",children:[(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Event ID"}),(0,Fs.jsx)("input",{type:"text",value:q.quotationId||c.id||"",readOnly:!0})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Quotation ID"}),Array.isArray(ee)&&ee.length>0?(0,Fs.jsxs)("select",{value:q.quotationRef||"",onChange:e=>de(e.target.value),children:[(0,Fs.jsx)("option",{value:"",children:"-- Select existing quotation (optional) --"}),ee.map(e=>(0,Fs.jsxs)("option",{value:String(e.id),children:[e.id," - ",e.clientName||e.clientEmail||""]},e.id))]}):(0,Fs.jsx)("div",{className:"event__form-note",children:"No quotations available"})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Order Type"}),(0,Fs.jsxs)("select",{value:q.orderType,onChange:e=>U(T(T({},q),{},{orderType:e.target.value})),children:[(0,Fs.jsx)("option",{value:"own",children:"Own"}),(0,Fs.jsx)("option",{value:"suborder",children:"Suborder"})]})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Client Name *"}),(0,Fs.jsx)("input",{type:"text",placeholder:"Enter client name",value:q.clientName,onChange:e=>U(T(T({},q),{},{clientName:e.target.value}))})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Client Phone *"}),(0,Fs.jsx)("input",{type:"tel",placeholder:"+1 234-567-8900",value:q.clientPhone,onChange:e=>U(T(T({},q),{},{clientPhone:e.target.value}))})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Client Email"}),(0,Fs.jsx)("input",{type:"email",placeholder:"client@email.com",value:q.clientEmail,onChange:e=>U(T(T({},q),{},{clientEmail:e.target.value}))})]})]})}),(0,Fs.jsxs)("div",{className:"event__form-section",children:[(0,Fs.jsxs)("div",{className:"event__form-section-header",children:[(0,Fs.jsx)("h3",{children:"Services & Schedule"}),(0,Fs.jsxs)("button",{className:"btn-secondary",onClick:xe,children:[(0,Fs.jsx)(ms,{})," Add Service"]})]}),q.services.map((e,t)=>(0,Fs.jsxs)("div",{className:"event__service-item",children:[(0,Fs.jsxs)("div",{className:"event__service-item-header",children:[(0,Fs.jsxs)("h4",{children:["Service ",t+1]}),q.services.length>1&&(0,Fs.jsx)("button",{className:"event__remove-service",onClick:()=>be(t),title:"Remove service",children:(0,Fs.jsx)(Ps,{})})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Service Type *"}),e&&e.typeEditable?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("input",{list:"service-options-edit-".concat(t),value:e.name||"",onChange:e=>je(t,"name",e.target.value,!0),placeholder:"Edit service name"}),(0,Fs.jsx)("datalist",{id:"service-options-edit-".concat(t),children:(J.length>0?J.map(e=>e.name):H).map(e=>(0,Fs.jsx)("option",{value:e},e))})]}):J.length>0?(0,Fs.jsxs)("select",{value:e.name,onChange:e=>je(t,"name",e.target.value,!1),children:[(0,Fs.jsx)("option",{value:"",children:"Select a service"}),J.map(e=>(0,Fs.jsx)("option",{value:e.name,children:e.name},e.id||e.name))]}):(0,Fs.jsxs)("select",{value:e.name,onChange:e=>je(t,"name",e.target.value,!1),children:[(0,Fs.jsx)("option",{value:"",children:"Select a service"}),H.map(e=>(0,Fs.jsx)("option",{value:e,children:e},e))]})]}),(0,Fs.jsxs)("div",{className:"event__form-row",children:[(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Date *"}),(0,Fs.jsxs)("div",{className:"event__form-input-with-flag",children:[(0,Fs.jsx)("input",{type:"date",value:e.date,onChange:e=>je(t,"date",e.target.value)}),t>0&&(0,Fs.jsxs)("label",{className:"event__same-as-above",children:[(0,Fs.jsx)("input",{type:"checkbox",checked:!!e.sameAsAbove,onChange:e=>_e(t,e.target.checked)}),(0,Fs.jsx)("span",{children:"Same date/time/location as above"})]})]})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Time"}),(0,Fs.jsxs)("div",{className:"event__form-input-with-flag",children:[(0,Fs.jsx)("input",{type:"time",value:e.time,onChange:e=>je(t,"time",e.target.value)}),t>0&&(0,Fs.jsxs)("label",{className:"event__same-as-above",style:{visibility:"hidden",pointerEvents:"none"},children:[(0,Fs.jsx)("input",{type:"checkbox",disabled:!0}),(0,Fs.jsx)("span",{children:"Same as above"})]})]})]})]}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Location"}),(0,Fs.jsxs)("div",{className:"event__form-input-with-flag",children:[(0,Fs.jsx)("input",{type:"text",placeholder:"Enter event location",value:e.location,onChange:e=>je(t,"location",e.target.value)}),t>0&&(0,Fs.jsxs)("label",{className:"event__same-as-above",style:{visibility:"hidden",pointerEvents:"none"},children:[(0,Fs.jsx)("input",{type:"checkbox",disabled:!0}),(0,Fs.jsx)("span",{children:"Same as above"})]})]})]}),(0,Fs.jsx)("div",{className:"event__form-row",children:(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Status"}),(0,Fs.jsxs)("select",{value:e.status,onChange:e=>je(t,"status",e.target.value),children:[(0,Fs.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,Fs.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,Fs.jsx)("option",{value:"completed",children:"Completed"}),(0,Fs.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Notes"}),(0,Fs.jsx)("textarea",{placeholder:"Additional notes for this service",value:e.notes,onChange:e=>je(t,"notes",e.target.value),rows:2})]})]},t))]}),(0,Fs.jsxs)("div",{className:"event__form-section",children:[(0,Fs.jsx)("h3",{children:"Team Assignment"}),(0,Fs.jsxs)("div",{className:"event__form-group",children:[(0,Fs.jsx)("label",{children:"Team Members"}),(0,Fs.jsx)("div",{className:"event__team-list event__team-list--selectable",children:0===$.length?(0,Fs.jsx)("div",{className:"event__muted",children:"No team members found. Add team members on the Team page."}):$.map(e=>{const t=Array.isArray(q.team)&&q.team.includes(e);return(0,Fs.jsxs)("label",{className:"event__team-label ".concat(t?"is-checked":""),children:[(0,Fs.jsx)("input",{type:"checkbox",checked:t,onChange:t=>{const n=Array.isArray(q.team)?[...q.team]:[];if(t.target.checked)n.push(e);else{const t=n.indexOf(e);t>-1&&n.splice(t,1)}U(T(T({},q),{},{team:n}))}}),(0,Fs.jsx)("span",{className:"event__team-label-text",children:e})]},e)})})]})]}),(0,Fs.jsxs)("div",{className:"event__form-actions",children:[(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>{c&&U({quotationId:c.id,quotationRef:c.quotationRef||"",clientName:c.clientName,clientEmail:c.clientEmail,clientPhone:c.clientPhone,team:Array.isArray(c.team)?[...c.team]:[],services:c.services.map(e=>T({},e)),notes:c.notes}),l(!1)},children:"Cancel"}),(0,Fs.jsxs)("button",{className:"btn-primary",onClick:async()=>{const n=e.map(e=>e.id===c.id?T(T({},e),{},{quotationRef:q.quotationRef||"",orderType:q.orderType,clientName:q.clientName,clientEmail:q.clientEmail,clientPhone:q.clientPhone,status:q.eventStatus||Pe(q.services.map(e=>T({},e||{}))),team:Array.isArray(q.team)?q.team.filter(Boolean):[],services:q.services.map(e=>{const t=e||{},{sameAsDateAbove:n,sameAsTimeAbove:a,sameAsLocationAbove:r,sameAsAbove:i,typeEditable:s}=t;return O(t,uu)}),date:(q.services&&q.services.length>0?q.services[0].date:e.date)||e.createdDate||"",time:(q.services&&q.services.length>0?q.services[0].time:e.time)||"",notes:q.notes}):e);t(n);try{Vn.setJSONAndSync(yn,n)}catch(Fu){}try{const a=Dt.getToken();if(a){const r=await fetch("".concat(un,"/events/").concat(encodeURIComponent(c.id)),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n.find(e=>e.id===c.id))});if(r.ok){const n=await r.json(),a=e.map(e=>e.id===n.id?n:e);t(a);try{Vn.setJSONAndSync(yn,a)}catch(Fu){}}else{const e=await r.text().catch(()=>"");wl("Unable to update event on server: ".concat(r.status," ").concat(r.statusText," ").concat(e))}}}catch(Fu){console.warn("Failed to update event on server",Fu),wl("Event updated locally but failed to sync with server.")}l(!1),s(!1),d(null);try{Z(Y(c&&c.id))}catch(Fu){}},disabled:!q.clientName||!q.clientPhone,children:[(0,Fs.jsx)(zi,{})," Save Changes"]})]})]}):(0,Fs.jsxs)("div",{className:"event__view",children:[(0,Fs.jsxs)("div",{className:"event__view-header",children:[(0,Fs.jsx)("div",{className:"event__view-client",children:(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("h3",{children:(0,Fs.jsx)(cu,{text:c.clientName,query:u})}),c.clientPhone&&(0,Fs.jsx)("p",{children:(0,Fs.jsx)(cu,{text:c.clientPhone,query:u})}),(0,Fs.jsx)("p",{children:(0,Fs.jsx)(cu,{text:c.clientEmail,query:u})}),c.quotationRef&&(0,Fs.jsxs)("p",{children:[(0,Fs.jsx)("strong",{children:"Quotation:"})," ",(0,Fs.jsx)(cu,{text:c.quotationRef,query:u})]}),!c.quotationRef&&(0,Fs.jsxs)("p",{children:[(0,Fs.jsx)("strong",{children:"Quotation:"})," NA"]})]})}),(0,Fs.jsxs)("div",{className:"event__view-header-controls",children:[(0,Fs.jsxs)("span",{className:"event__status event__status--".concat(c.status),children:[Ee(c.status),c.status.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")]}),!o&&(0,Fs.jsxs)("button",{className:"btn-primary",onClick:()=>{try{const e=X(Y(c&&c.id));e&&"object"===typeof e&&U(e)}catch(Fu){}l(!0)},children:[(0,Fs.jsx)(Hi,{})," Edit"]})]})]}),(0,Fs.jsxs)("div",{className:"event__view-section",children:[(0,Fs.jsxs)("h4",{children:[(0,Fs.jsx)(Li,{})," Services (",c.services.length,")"]}),(0,Fs.jsx)("div",{className:"event__view-services",children:[...c.services].sort((e,t)=>(e.date?new Date(e.date):new Date(0))-(t.date?new Date(t.date):new Date(0))).map((e,t)=>{const n=e&&("completed"===e.status||"cancelled"===e.status);return(0,Fs.jsxs)("div",{className:"event__view-service",children:[(0,Fs.jsxs)("div",{className:"event__view-service-header",children:[(0,Fs.jsx)("h5",{className:n?"event__service-name--struck":"",children:e.name}),(0,Fs.jsx)("div",{className:"event__view-service-status",children:(0,Fs.jsxs)("span",{className:"event__status event__status--".concat(e.status),children:[Ee(e.status),e.status.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")]})})]}),(0,Fs.jsxs)("div",{className:"event__view-service-details",children:[(0,Fs.jsxs)("div",{className:"event__view-service-detail",children:[(0,Fs.jsx)(Ti,{}),(0,Fs.jsx)("span",{className:n?"event__date--struck":"",children:Us(e.date)})]}),(0,Fs.jsxs)("div",{className:"event__view-service-detail",children:[(0,Fs.jsx)(Fi,{}),(0,Fs.jsx)("span",{className:n?"event__time--struck":"",children:e.time})]}),(0,Fs.jsxs)("div",{className:"event__view-service-detail",children:[(0,Fs.jsx)(ns,{}),(0,Fs.jsx)("span",{className:n?"event__location--struck":"",children:e.location})]})]}),e.notes&&(0,Fs.jsxs)("div",{className:"event__view-service-notes",children:[(0,Fs.jsx)("strong",{children:"Notes:"})," ",e.notes]})]},t)})})]}),c.team&&c.team.length>0&&(0,Fs.jsxs)("div",{className:"event__view-section",children:[(0,Fs.jsxs)("h4",{children:[(0,Fs.jsx)(Ds,{})," Team Members"]}),(0,Fs.jsx)("div",{className:"event__services",children:c.team.map((e,t)=>(0,Fs.jsxs)("span",{className:"event__service-tag",children:[(0,Fs.jsx)(Ds,{})," ",e]},t))})]}),(0,Fs.jsx)("div",{className:"event__view-section",children:(0,Fs.jsxs)("div",{className:"event__view-info-grid",children:[(0,Fs.jsx)("div",{className:"event__view-info-item",children:(0,Fs.jsxs)("label",{children:["Created Date:",(0,Fs.jsx)("span",{children:Hs(c.createdDate)})]})}),(0,Fs.jsx)("div",{className:"event__view-info-item",children:(0,Fs.jsxs)("label",{children:["Order Type:",(0,Fs.jsx)("span",{className:"event__order-type event__order-type--".concat((c.orderType||"n/a").toString().toLowerCase()),children:Ae(c.orderType||"N/A")})]})})]})})]})})]})},fu=Vn.getJSON(gn,[]),vu={name:"",role:"",phone:"",email:"",avatar:null,payments:[]},gu=()=>{const[e,t]=(0,r.useState)(fu),[n,a]=(0,r.useState)(!1),[i,s]=(0,r.useState)(null),[o,l]=(0,r.useState)(vu),[c,d]=(0,r.useState)({}),u=ou(),[h,m]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),[v,g]=(0,r.useState)({eventId:"",eventName:"",amount:"",date:(new Date).toISOString().split("T")[0],status:"pending",notes:""}),[y,x]=(0,r.useState)({}),[b,j]=(0,r.useState)([]),[_,w]=(0,r.useState)([]),[N,S]=(0,r.useState)(1),k=e=>{if(!e&&0!==e)return"\u2014";try{const t=String(e);if(t.match(/^\d{4}-\d{1,2}-\d{1,2}$/)){const[e,n,a]=t.split("-");return"".concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"),"-").concat(e)}const n=new Date(e);if(!isFinite(n.getTime()))return t;const a=String(n.getDate()).padStart(2,"0"),r=String(n.getMonth()+1).padStart(2,"0"),i=n.getFullYear();return"".concat(a,"-").concat(r,"-").concat(i)}catch(Fu){return String(e)}},C=e=>String(e).replace(/[.*+?^${}()|[\\]\\\\]/g,"\\$&"),E=(e,t)=>{const n=String(t||"").trim();if(!n)return e;const a=String(null==e?"":e);if(!a)return a;try{const e=new RegExp("(".concat(C(n),")"),"ig"),t=new RegExp("^".concat(C(n),"$"),"i");return a.split(e).map((e,n)=>t.test(e)?(0,Fs.jsx)("span",{className:"search-highlight",children:e},n):e)}catch(Fu){return a}};(0,r.useEffect)(()=>{(async()=>{try{const e=Dt.getToken();if(!e)return void j([]);const t=await fetch("".concat(un,"/events"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)return void j([]);const n=await t.json();j(Array.isArray(n)?n:[])}catch(Fu){j([])}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{const e=Dt.getToken();if(!e)return;const n=await fetch("".concat(un,"/team"),{headers:{Authorization:"Bearer ".concat(e)}});if(!n.ok)return;const a=await n.json();if(Array.isArray(a))return void t(a)}catch(Fu){}try{const e=Vn.getJSON(gn,[]);t(Array.isArray(e)?e:[])}catch(Fu){t([])}})()},[]);const[P,A]=(0,r.useState)(!1),[O,L]=(0,r.useState)(null),[D,R]=(0,r.useState)(""),[I,z]=(0,r.useState)(""),F=()=>{l(vu),s(null),d({}),a(!0)},M=Xa();(0,r.useEffect)(()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.state)&&void 0!==e&&e.openAdd){F();try{window.history.replaceState({},document.title)}catch(Fu){}}},[]);const q=()=>{a(!1)},U=e=>{const{name:t,value:n}=e.target;l(e=>T(T({},e),{},{[t]:n}))},B=e=>{L(e),A(!0)},V=()=>{m(!1),f(null)},H=e=>{const{name:t,value:n}=e.target;if(g(e=>T(T({},e),{},{[t]:n})),"eventId"===t&&n){const e=b.find(e=>String(e.id)===String(n));e&&g(t=>T(T({},t),{},{eventName:e.clientName||"Event ".concat(e.quotationId||e.id)}))}};return(0,Fs.jsxs)("div",{className:"team",children:[(0,Fs.jsxs)("div",{className:"team__header",children:[(0,Fs.jsxs)("div",{children:[(0,Fs.jsxs)("h1",{className:"team__title",children:[(0,Fs.jsx)(Rs,{}),"Team"]}),(0,Fs.jsx)("p",{className:"team__subtitle",children:"Manage all your team members here"})]}),(0,Fs.jsx)("button",{className:"btn-primary",onClick:F,children:"+ Add Team Member"})]}),(0,Fs.jsx)("div",{className:"team__search",children:(0,Fs.jsx)("input",{type:"search",placeholder:"Search by name, role or phone...",value:I,onChange:e=>z(e.target.value)})}),(0,Fs.jsx)("div",{className:"team__grid",children:(()=>{const n=(I||"").trim().toLowerCase(),r=(e||[]).filter(e=>{if(!n)return!0;const t=String((null===e||void 0===e?void 0:e.name)||"").toLowerCase(),a=String((null===e||void 0===e?void 0:e.role)||"").toLowerCase(),r=String((null===e||void 0===e?void 0:e.phone)||"").toLowerCase();return t.includes(n)||a.includes(n)||r.includes(n)});return 0===r.length?(0,Fs.jsx)("div",{className:"team__empty",children:"No team members found."}):r.map(n=>(0,Fs.jsxs)("div",{className:"team-card",onClick:()=>B(n),children:[(0,Fs.jsx)("div",{className:"team-card__avatar",children:n.name?String(n.name).charAt(0):"?"}),(0,Fs.jsx)("h3",{className:"team-card__name",children:E(n.name,I)}),(0,Fs.jsx)("p",{className:"team-card__role",children:E(n.role,I)}),n.phone&&(0,Fs.jsx)("p",{className:"team-card__phone",children:E(n.phone,I)}),(0,Fs.jsx)("p",{className:"team-card__email",children:n.email}),(0,Fs.jsxs)("div",{className:"team-card__actions",children:[(0,Fs.jsx)("button",{className:"btn-primary btn-edit",onClick:e=>{e.stopPropagation(),(e=>{l(T({},e)),s(e._id),d({}),a(!0)})(n)},title:"Edit",children:(0,Fs.jsx)(Hi,{})}),(0,Fs.jsx)("button",{className:"btn-primary btn-view-payments",onClick:e=>{e.stopPropagation(),B(n)},title:"View payments - ".concat((null===n||void 0===n?void 0:n.name)||""),"aria-label":"View payments for ".concat((null===n||void 0===n?void 0:n.name)||"member"),children:(0,Fs.jsx)(vs,{})}),(0,Fs.jsx)("button",{className:"btn-primary btn-add-payment",onClick:e=>{e.stopPropagation(),(t=>{f(t),g({eventId:"",eventName:"",amount:"",date:(new Date).toISOString().split("T")[0],status:"pending",notes:""}),x({});try{const e=null===t||void 0===t?void 0:t._id,n=null===t||void 0===t?void 0:t.name,a=(b||[]).filter(t=>!!t&&(Array.isArray(t.team)&&t.team.length>0?t.team.includes(n)||t.team.includes(e)||t.team.includes(String(e)):Array.isArray(t.teamIds)&&t.teamIds.length>0?t.teamIds.includes(e)||t.teamIds.includes(String(e)):Array.isArray(t.memberIds)&&t.memberIds.length>0?t.memberIds.includes(e)||t.memberIds.includes(String(e)):!("string"!==typeof t.team||!n)&&t.team.split(",").map(e=>e.trim()).includes(n)));w(a)}catch(e){w([])}m(!0)})(n)},title:"Add Payment","aria-label":"Add payment for ".concat((null===n||void 0===n?void 0:n.name)||"member"),children:(0,Fs.jsx)(is,{})}),(0,Fs.jsx)("button",{className:"btn-primary btn-delete",onClick:a=>{a.stopPropagation(),(async n=>{if(!await u("Delete this team member?"))return;const r=e.find(e=>e._id===n);t(e=>e.filter(e=>e._id!==n)),(async()=>{try{const e=Dt.getToken();if(!e)return void t(e=>[...e,r]);(await fetch("".concat(un,"/team/").concat(encodeURIComponent(n)),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}})).ok||(t(e=>[...e,r]),console.error("Failed to delete team member"))}catch(a){t(e=>[...e,r]),console.error("Error deleting team member:",a)}})()})(n._id)},title:"Delete",children:(0,Fs.jsx)(As,{})})]})]},n._id))})()}),(0,Fs.jsx)(Ms,{isOpen:n,onClose:q,title:i?"Edit Team Member":"Add Team Member",size:"small",children:(0,Fs.jsxs)("div",{className:"team-form",children:[(0,Fs.jsx)("label",{className:"team-form__label",children:"Name"}),(0,Fs.jsx)("input",{name:"name",value:o.name,onChange:U,className:"team-form__input"}),c.name&&(0,Fs.jsx)("div",{className:"team-form__error",children:c.name}),(0,Fs.jsx)("label",{className:"team-form__label",children:"Phone"}),(0,Fs.jsx)("input",{name:"phone",value:o.phone,onChange:U,className:"team-form__input"}),c.phone&&(0,Fs.jsx)("div",{className:"team-form__error",children:c.phone}),(0,Fs.jsx)("label",{className:"team-form__label",children:"Email"}),(0,Fs.jsx)("input",{name:"email",value:o.email,onChange:U,className:"team-form__input"}),c.email&&(0,Fs.jsx)("div",{className:"team-form__error",children:c.email}),(0,Fs.jsx)("label",{className:"team-form__label",children:"Role"}),(0,Fs.jsx)("input",{name:"role",value:o.role,onChange:U,className:"team-form__input"}),c.role&&(0,Fs.jsx)("div",{className:"team-form__error",children:c.role}),(0,Fs.jsxs)("div",{className:"modal-actions",children:[(0,Fs.jsx)("button",{className:"btn-primary btn-cancel",onClick:q,children:"Cancel"}),(0,Fs.jsx)("button",{className:"btn-primary",onClick:()=>{const n=(()=>{const e={};return(!o.name||o.name.trim().length<2)&&(e.name="Name is required"),o.phone&&!/^\+?[0-9\s\-()]{6,20}$/.test(o.phone)&&(e.phone="Enter a valid phone number"),o.email&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(o.email)||(e.email="Valid email required"),(!o.role||o.role.trim().length<2)&&(e.role="Role is required"),e})();if(Object.keys(n).length)d(n);else{if(i){const n=e.map(e=>e._id===i?T(T({},e),o):e);t(n),(async()=>{try{const n=Dt.getToken();if(!n)return;const a=await fetch("".concat(un,"/team/").concat(encodeURIComponent(i)),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(T(T({},o),{},{_id:i}))});if(a.ok){const e=await a.json();t(t=>t.map(t=>t._id===i?e:t))}else t(e),console.error("Failed to update team member")}catch(Fu){t(e),console.error("Error updating team member:",Fu)}})()}else{const n="temp-".concat(Date.now()),a=T(T({},o),{},{_id:n}),r=[a,...e];t(r),(async()=>{try{const r=Dt.getToken();if(!r)return void t(e);const i=await fetch("".concat(un,"/team"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(a)});if(i.ok){const e=await i.json();t(t=>t.map(t=>t._id===n?e:t))}else t(e),console.error("Failed to create team member")}catch(Fu){t(e),console.error("Error creating team member:",Fu)}})()}a(!1)}},children:"Save"})]})]})}),(0,Fs.jsx)(Ms,{isOpen:h,onClose:V,title:"Add Payment - ".concat((null===p||void 0===p?void 0:p.name)||""),size:"small",children:(0,Fs.jsxs)("div",{className:"team-form",children:[(0,Fs.jsx)("label",{className:"team-form__label",children:"Event"}),(0,Fs.jsxs)("select",{name:"eventId",value:v.eventId,onChange:H,className:"team-form__input",children:[(0,Fs.jsx)("option",{value:"",children:"Select Event"}),0===_.length?(0,Fs.jsx)("option",{value:"",disabled:!0,children:"No events for this member"}):_.map(e=>{var t,n;return(0,Fs.jsxs)("option",{value:e.id,children:[e.clientName||"Event ".concat(e.quotationId||e.id)," - ",k(null===(t=e.services)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.date)||"No date"]},e.id)})]}),y.eventId&&(0,Fs.jsx)("div",{className:"team-form__error",children:y.eventId}),(0,Fs.jsx)("label",{className:"team-form__label",children:"Amount (\u20b9)"}),(0,Fs.jsx)("input",{type:"number",name:"amount",value:v.amount,onChange:H,className:"team-form__input",placeholder:"0",step:"1",min:"0"}),y.amount&&(0,Fs.jsx)("div",{className:"team-form__error",children:y.amount}),(0,Fs.jsx)("label",{className:"team-form__label",children:"Payment Date"}),(0,Fs.jsx)("input",{type:"date",name:"date",value:v.date,onChange:H,className:"team-form__input"}),y.date&&(0,Fs.jsx)("div",{className:"team-form__error",children:y.date}),(0,Fs.jsx)("label",{className:"team-form__label",children:"Status"}),(0,Fs.jsxs)("select",{name:"status",value:v.status,onChange:H,className:"team-form__input",children:[(0,Fs.jsx)("option",{value:"pending",children:"Pending"}),(0,Fs.jsx)("option",{value:"partial",children:"Partial"}),(0,Fs.jsx)("option",{value:"paid",children:"Paid"})]}),(0,Fs.jsx)("label",{className:"team-form__label",children:"Notes (Optional)"}),(0,Fs.jsx)("textarea",{name:"notes",value:v.notes,onChange:H,className:"team-form__input",rows:"3",placeholder:"Add any notes about this payment..."}),(0,Fs.jsxs)("div",{className:"modal-actions",children:[(0,Fs.jsx)("button",{className:"btn-primary",onClick:()=>{const n=(()=>{const e={};return v.eventId||(e.eventId="Please select an event"),(!v.amount||isNaN(v.amount)||Number(v.amount)<=0)&&(e.amount="Enter a valid amount"),v.date||(e.date="Payment date is required"),e})();if(Object.keys(n).length)return void x(n);const a={eventId:v.eventId,eventName:v.eventName,amount:parseFloat(v.amount),date:v.date,status:v.status,notes:v.notes},r=e.map(e=>{if(e._id===p._id){const t=Array.isArray(e.payments)?[...e.payments,a]:[a];return T(T({},e),{},{payments:t})}return e});t(r),L(e=>e&&e._id===(null===p||void 0===p?void 0:p._id)?r.find(e=>e._id===p._id):e),(async()=>{try{const n=Dt.getToken();if(!n)return;const a=r.find(e=>e._id===p._id);if(!a)return;(await fetch("".concat(un,"/team/").concat(encodeURIComponent(a._id)),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(a)})).ok||(t(e),console.error("Failed to save payment"))}catch(Fu){t(e),console.error("Error saving payment:",Fu)}})(),m(!1)},children:"Add Payment"}),(0,Fs.jsx)("button",{className:"btn-primary btn-cancel",onClick:V,children:"Cancel"})]})]})}),(0,Fs.jsx)(Ms,{isOpen:P,onClose:()=>{A(!1),L(null),S(1),R("")},title:"Payments - ".concat((null===O||void 0===O?void 0:O.name)||""),size:"large",children:(0,Fs.jsxs)("div",{className:"payments-viewer",children:[(0,Fs.jsxs)("div",{className:"payments-viewer__header",children:[(0,Fs.jsxs)("div",{className:"payments-viewer__stat",children:[(0,Fs.jsx)("div",{className:"label",children:"Total"}),(0,Fs.jsxs)("div",{className:"value",children:["\u20b9",Math.round((W=O,W&&W.payments&&Array.isArray(W.payments)?W.payments.reduce((e,t)=>e+(t.amount||0),0):0))]})]}),(0,Fs.jsxs)("div",{className:"payments-viewer__stat",children:[(0,Fs.jsx)("div",{className:"label",children:"Paid"}),(0,Fs.jsxs)("div",{className:"value paid",children:["\u20b9",Math.round((e=>e&&e.payments&&Array.isArray(e.payments)?e.payments.filter(e=>"paid"===e.status).reduce((e,t)=>e+(t.amount||0),0):0)(O))]})]}),(0,Fs.jsxs)("div",{className:"payments-viewer__stat",children:[(0,Fs.jsx)("div",{className:"label",children:"Pending"}),(0,Fs.jsxs)("div",{className:"value pending",children:["\u20b9",Math.round((e=>e&&e.payments&&Array.isArray(e.payments)?e.payments.filter(e=>"pending"===e.status||"partial"===e.status).reduce((e,t)=>e+(t.amount||0),0):0)(O))]})]})]}),(0,Fs.jsx)("div",{className:"payments-viewer__search",children:(0,Fs.jsx)("input",{type:"search",placeholder:"Search by anything...",value:D,onChange:e=>{R(e.target.value||""),S(1)}})}),(0,Fs.jsxs)("div",{className:"payments-table",children:[O&&(!O.payments||0===O.payments.length)&&(0,Fs.jsx)("p",{children:"No payments recorded for this member."}),O&&O.payments&&O.payments.length>0&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"payments-table-scrollable",children:(0,Fs.jsxs)("table",{children:[(0,Fs.jsx)("thead",{children:(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("th",{children:"Event ID"}),(0,Fs.jsx)("th",{children:"Event"}),(0,Fs.jsx)("th",{children:"Payment"}),(0,Fs.jsx)("th",{children:"Payment Date"}),(0,Fs.jsx)("th",{children:"Status"}),(0,Fs.jsx)("th",{children:"Notes"}),(0,Fs.jsx)("th",{children:"Actions"})]})}),(0,Fs.jsx)("tbody",{children:(()=>{const n=(D||"").trim().toLowerCase(),a=O.payments.slice().reverse().filter(e=>{if(!n)return!0;const t=String(e.eventId||"").toLowerCase(),a=String(e.eventName||"").toLowerCase(),r=String(e.amount||"").toLowerCase(),i=String(k(e.date)).toLowerCase();return t.includes(n)||a.includes(n)||r.includes(n)||i.includes(n)});Math.ceil(a.length/10);return a.slice(10*(N-1),10*N).map(n=>{const a=b.find(e=>String(e.id)===String(n.eventId)),r=n.eventId||(a?a.id:"\u2014"),i=n.eventName||(a?a.clientName||"Event ".concat(a.quotationId||a.id):"Unnamed Event");return(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("td",{children:E(r,D)}),(0,Fs.jsx)("td",{children:E(i,D)}),(0,Fs.jsxs)("td",{children:["\u20b9",E(Math.round(n.amount||0),D)]}),(0,Fs.jsx)("td",{children:E(k(n.date),D)}),(0,Fs.jsx)("td",{className:"payment-status status-".concat(n.status),children:n.status}),(0,Fs.jsx)("td",{children:E(n.notes||"",D)}),(0,Fs.jsxs)("td",{children:["paid"!==n.status&&(0,Fs.jsx)("button",{className:"btn-status-change",onClick:()=>((n,a,r)=>{const i=e.find(e=>e._id===n),s=e.map(e=>{if(e._id===n){const t=(e.payments||[]).map(e=>e.id===a?T(T({},e),{},{status:r}):e);return T(T({},e),{},{payments:t})}return e});t(s),L(e=>e&&e._id===n?s.find(e=>e._id===n):e),(async()=>{try{const e=Dt.getToken();if(!e)return void t(e=>e.map(e=>e._id===n?i:e));const a=s.find(e=>e._id===n);if(!a)return;(await fetch("".concat(un,"/team/").concat(encodeURIComponent(n)),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(a)})).ok||(t(e=>e.map(e=>e._id===n?i:e)),console.error("Failed to update payment status"))}catch(Fu){t(e=>e.map(e=>e._id===n?i:e)),console.error("Error updating payment status:",Fu)}})()})(O._id,n.id,"paid"),children:"Mark Paid"}),(0,Fs.jsx)("button",{className:"btn-delete-payment",onClick:()=>(async(n,a)=>{if(!await u("Delete this payment record?"))return;const r=e.find(e=>e._id===n),i=e.map(e=>{if(e._id===n){const t=(e.payments||[]).filter(e=>e.id!==a);return T(T({},e),{},{payments:t})}return e});t(i),L(e=>e&&e._id===n?i.find(e=>e._id===n)||null:e),(async()=>{try{const e=Dt.getToken();if(!e)return void t(e=>e.map(e=>e._id===n?r:e));const a=i.find(e=>e._id===n);if(!a)return;(await fetch("".concat(un,"/team/").concat(encodeURIComponent(n)),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(a)})).ok||(t(e=>e.map(e=>e._id===n?r:e)),console.error("Failed to delete payment"))}catch(Fu){t(e=>e.map(e=>e._id===n?r:e)),console.error("Error deleting payment:",Fu)}})()})(O._id,n.id),title:"Delete",children:(0,Fs.jsx)(As,{})})]})]},n.id)})})()})]})}),(()=>{const e=(D||"").trim().toLowerCase(),t=O.payments.slice().reverse().filter(t=>{if(!e)return!0;const n=String(t.eventId||"").toLowerCase(),a=String(t.eventName||"").toLowerCase(),r=String(t.amount||"").toLowerCase(),i=String(k(t.date)).toLowerCase();return n.includes(e)||a.includes(e)||r.includes(e)||i.includes(e)}),n=Math.ceil(t.length/10);return n>1?(0,Fs.jsxs)("div",{className:"pagination-controls",children:[(0,Fs.jsx)("button",{onClick:()=>S(Math.max(1,N-1)),disabled:1===N,children:"Previous"}),(0,Fs.jsxs)("span",{children:["Page ",N," of ",n]}),(0,Fs.jsx)("button",{onClick:()=>S(Math.min(n,N+1)),disabled:N===n,children:"Next"})]}):null})()]})]})]})})]});var W},yu=()=>{const[e,t]=(0,r.useState)(()=>{const e=Vn.getJSON(pn,null);return Array.isArray(e)?e:[]}),[n,a]=(0,r.useState)(!1),[i,s]=(0,r.useState)(null),[o,l]=(0,r.useState)("all"),[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)({name:"",category:"Photography",description:"",basePrice:"",deliverables:[],features:[]}),m=ou(),p=()=>{s(null),h({name:"",category:"Photography",description:"",basePrice:"",deliverables:[],features:[]}),a(!0)},f=Xa();(0,r.useEffect)(()=>{var e;if((async()=>{try{const e=Dt.getToken();if(!e)return;const n=await fetch("".concat(un,"/services"),{headers:{Authorization:"Bearer ".concat(e)}});if(!n.ok)return;const a=await n.json();Array.isArray(a)&&t(a)}catch(Fu){}})(),null!==f&&void 0!==f&&null!==(e=f.state)&&void 0!==e&&e.openAdd){p();try{window.history.replaceState({},document.title)}catch(Fu){}}},[]);const v=e=>{switch(e){case"Photography":return(0,Fs.jsx)(Li,{});case"Videography":return(0,Fs.jsx)(Is,{});case"Post-Production":return(0,Fs.jsx)(Hi,{});case"Commercial":return(0,Fs.jsx)(ds,{});default:return(0,Fs.jsx)(Zi,{})}},g=(()=>{const t=(c||"").toString().trim().toLowerCase();return e.filter(e=>{const n=(null===e||void 0===e?void 0:e.category)||"",a=((null===e||void 0===e?void 0:e.name)||"").toString().toLowerCase(),r=((null===e||void 0===e?void 0:e.description)||"").toString().toLowerCase(),i="all"===o||n===o,s=""===t||a.includes(t)||r.includes(t);return i&&s})})();return(0,r.useEffect)(()=>{try{Vn.setJSONAndSync(pn,e)}catch(Fu){}},[e]),(0,Fs.jsxs)("div",{className:"services",children:[(0,Fs.jsxs)("div",{className:"services__header",children:[(0,Fs.jsxs)("div",{className:"services__title-section",children:[(0,Fs.jsxs)("h1",{className:"services__title",children:[(0,Fs.jsx)(Ui,{}),"Services & Packages"]}),(0,Fs.jsx)("p",{className:"services__subtitle",children:"Manage your photography and videography service offerings"})]}),(0,Fs.jsxs)("button",{className:"btn-primary",onClick:p,children:[(0,Fs.jsx)(ms,{}),"Add New Service"]})]}),(0,Fs.jsxs)("div",{className:"services__toolbar",children:[(0,Fs.jsxs)("div",{className:"services__search",children:[(0,Fs.jsx)(xs,{}),(0,Fs.jsx)("input",{type:"text",placeholder:"Search services...",value:c,onChange:e=>d(e.target.value)})]}),(0,Fs.jsx)("div",{className:"services__filters",children:(0,Fs.jsxs)("div",{className:"services__filter",children:[(0,Fs.jsx)("label",{children:"Category:"}),(0,Fs.jsx)("select",{value:o,onChange:e=>l(e.target.value),children:["all","Photography","Videography","Post-Production","Commercial"].map(e=>(0,Fs.jsx)("option",{value:e,children:"all"===e?"All Categories":e},e))})]})})]}),(0,Fs.jsxs)("div",{className:"services__stats",children:[(0,Fs.jsxs)("div",{className:"services__stat-card",children:[(0,Fs.jsx)("div",{className:"services__stat-icon services__stat-icon--indigo",children:(0,Fs.jsx)(Ai,{className:"services__stat-svg--indigo"})}),(0,Fs.jsxs)("div",{className:"services__stat-info",children:[(0,Fs.jsx)("h3",{children:e.length}),(0,Fs.jsx)("p",{children:"Total Services"})]})]}),(0,Fs.jsxs)("div",{className:"services__stat-card",children:[(0,Fs.jsx)("div",{className:"services__stat-icon services__stat-icon--sky",children:(0,Fs.jsx)(ys,{className:"services__stat-svg--sky"})}),(0,Fs.jsxs)("div",{className:"services__stat-info",children:[(0,Fs.jsx)("h3",{children:Number(e.reduce((e,t)=>e+(Number(t.basePrice)||0),0)).toLocaleString("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0})}),(0,Fs.jsx)("p",{children:"Total Value"})]})]})]}),(0,Fs.jsx)("div",{className:"services__content",children:0===g.length?(0,Fs.jsxs)("div",{className:"services__empty",children:[(0,Fs.jsx)(Ui,{}),(0,Fs.jsx)("h3",{children:"No services found"}),(0,Fs.jsx)("p",{children:"Try adjusting your filters or add a new service"})]}):(0,Fs.jsx)("div",{className:"services__grid",children:g.map(e=>(0,Fs.jsxs)("div",{className:"services__card",children:[(0,Fs.jsxs)("div",{className:"services__card-header",children:[(0,Fs.jsx)("div",{className:"services__card-icon",children:v(e.category)}),(0,Fs.jsxs)("div",{className:"services__card-actions",children:[(0,Fs.jsx)("button",{className:"services__action-btn services__action-btn--edit",onClick:()=>(e=>{s(e),h({name:e.name,category:e.category,description:e.description,basePrice:e.basePrice,deliverables:[...e.deliverables||[]],features:[...e.features||[]]}),a(!0)})(e),title:"Edit",children:(0,Fs.jsx)(Hi,{})}),(0,Fs.jsx)("button",{className:"services__action-btn services__action-btn--delete",onClick:()=>(async e=>{await m("Are you sure you want to delete this service?")&&(t(t=>t.filter(t=>t.id!==e)),(async()=>{try{const t=Dt.getToken();if(!t)return;await fetch("".concat(un,"/services/").concat(encodeURIComponent(e)),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})}catch(Fu){}})())})(e.id),title:"Delete",children:(0,Fs.jsx)(As,{})})]})]}),(0,Fs.jsxs)("div",{className:"services__card-body",children:[(0,Fs.jsx)("span",{className:"services__category",children:e.category}),(0,Fs.jsx)("h3",{className:"services__card-title",children:e.name}),e.description?(0,Fs.jsx)("p",{className:"services__description",children:e.description}):null,(0,Fs.jsx)("div",{className:"services__meta"})]}),(0,Fs.jsx)("div",{className:"services__card-footer",children:(0,Fs.jsxs)("div",{className:"services__price",children:[(0,Fs.jsx)("span",{className:"services__price-label",children:"Starting at"}),(0,Fs.jsx)("span",{className:"services__price-value",children:Number(e.basePrice).toLocaleString("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0})})]})})]},e.id))})}),(0,Fs.jsx)(Ms,{isOpen:n,title:i?"Edit Service":"Add New Service",onClose:()=>a(!1),children:(0,Fs.jsxs)("div",{className:"services__form",children:[(0,Fs.jsxs)("div",{className:"services__form-group",children:[(0,Fs.jsx)("label",{children:"Service Name *"}),(0,Fs.jsx)("input",{type:"text",placeholder:"e.g., Wedding Photography",value:u.name,onChange:e=>h(T(T({},u),{},{name:e.target.value}))})]}),(0,Fs.jsxs)("div",{className:"services__form-row",children:[(0,Fs.jsxs)("div",{className:"services__form-group",children:[(0,Fs.jsx)("label",{children:"Category *"}),(0,Fs.jsxs)("select",{value:u.category,onChange:e=>h(T(T({},u),{},{category:e.target.value})),children:[(0,Fs.jsx)("option",{value:"Photography",children:"Photography"}),(0,Fs.jsx)("option",{value:"Videography",children:"Videography"}),(0,Fs.jsx)("option",{value:"Post-Production",children:"Post-Production"}),(0,Fs.jsx)("option",{value:"Commercial",children:"Commercial"})]})]}),(0,Fs.jsxs)("div",{className:"services__form-group",children:[(0,Fs.jsx)("label",{children:"Base Price (\u20b9) *"}),(0,Fs.jsx)("input",{type:"number",placeholder:"0",value:u.basePrice,onChange:e=>h(T(T({},u),{},{basePrice:parseFloat(e.target.value)||""}))})]})]}),(0,Fs.jsxs)("div",{className:"services__form-group",children:[(0,Fs.jsx)("label",{children:"Description (optional)"}),(0,Fs.jsx)("textarea",{placeholder:"Brief description of the service (optional)",value:u.description,onChange:e=>h(T(T({},u),{},{description:e.target.value})),rows:3})]}),(0,Fs.jsxs)("div",{className:"services__form-actions",children:[(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>a(!1),children:"Cancel"}),(0,Fs.jsx)("button",{className:"btn-primary",onClick:()=>{if(i)t(e=>e.map(e=>e.id===i.id?T(T({},e),{},{name:u.name,description:u.description,basePrice:u.basePrice}):e)),(async()=>{try{const e=Dt.getToken(),t=T(T({},i),{},{name:u.name,description:u.description,basePrice:u.basePrice});if(!e)return;await fetch("".concat(un,"/services/").concat(encodeURIComponent(i.id)),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)})}catch(Fu){}})();else{const n={id:Math.max(0,...e.map(e=>Number(e.id)||0))+1,name:u.name,category:u.category,description:u.description,basePrice:u.basePrice,deliverables:u.deliverables||[],features:u.features||[]};t(e=>[...e,n]),(async()=>{try{const e=Dt.getToken();if(!e)return;const a=await fetch("".concat(un,"/services"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(n)});if(a.ok){const e=await a.json();t(t=>t.map(t=>t.id===n.id?e:t))}}catch(Fu){}})()}a(!1);try{Vn.setJSONAndSync(pn,e)}catch(Fu){}},disabled:!u.name||!u.basePrice,children:i?"Update":"Save"})]})]})})]})},xu=n.p+"static/media/qr.713d72fa1a9b63f745e5.jpg";const bu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const a=(new Date).getFullYear(),r="QT-".concat(a,"-"),i=new Set;if(Array.isArray(e))for(const l of e){const e=l&&l.id?String(l.id):"";e&&i.add(e)}function s(){const e=Math.pow(10,t),n=Math.floor(Math.random()*e);return String(n).padStart(t,"0")}for(let l=0;l<n;l++){const e=s(),t="".concat(r).concat(e);if(!i.has(t))return t}const o=String(Date.now()).slice(-t);return"".concat(r).concat(o)},ju="photoflow_quotation_draft",_u=()=>{const{company:e,bank:t}=k(e=>e.settings),[n,a]=(0,r.useState)([]),[i,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,h]=(0,r.useState)(null),[m,p]=(0,r.useState)(""),[f,v]=(0,r.useState)("all"),[g,y]=(0,r.useState)(""),[x,b]=(0,r.useState)(""),[j,_]=(0,r.useState)("date"),[N,S]=(0,r.useState)("desc"),[C,E]=(0,r.useState)("table"),[P,A]=(0,r.useState)(!1),[O,L]=(0,r.useState)({number:!0,id:!0,services:!0,amount:!0,date:!0,status:!0}),D=(0,r.useRef)(null),R=(0,r.useRef)(null),[I,z]=(0,r.useState)(1),[F,M]=(0,r.useState)(10),[q,U]=(0,r.useState)({clientName:"",clientEmail:"",clientPhone:"",services:[],items:[{service:"",description:"",quantity:1,price:0}],additionalCharges:[],terms:[]}),[B,V]=(0,r.useState)([]),[H,W]=(0,r.useState)({}),J=ou();(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{const e=Vn.getJSON(pn,null);if(Array.isArray(e)&&e.length>0){const t=e.map(e=>({id:e.id,name:e.name,price:Number(e.basePrice)||Number(e.price)||0}));V(t)}}catch(Fu){}try{const t=await Vn.syncFromServer(pn);if(e&&Array.isArray(t)&&t.length>0){const e=t.map(e=>({id:e.id,name:e.name,price:Number(e.basePrice)||Number(e.price)||0}));V(e)}}catch(Fu){}try{const e=Vn.getJSON(bn,[]);if(Array.isArray(e)&&e.length>0){const t={};e.forEach(e=>{const n=e.group||"Uncategorized";t[n]||(t[n]=[]),t[n].push(e)}),W(t)}}catch(Fu){}try{const t=await Vn.syncFromServer(bn);if(e&&Array.isArray(t)&&t.length>0){const e={};t.forEach(t=>{const n=t.group||"Uncategorized";e[n]||(e[n]=[]),e[n].push(t)}),W(e)}}catch(Fu){}})(),()=>{e=!1}},[]),(0,r.useEffect)(()=>{const e=e=>{try{const t=e&&e.detail?e.detail:null;if(!t||"/quotations"!==t.path)return;const a=t.state||{};if(a.openCreate&&Q(),a.openViewId){const e=a.openViewId,t=n.find(t=>t.id===e);t?$(t):de.current=e}}catch(Fu){}};return window.addEventListener("ui:notification",e),()=>window.removeEventListener("ui:notification",e)},[n]),(0,r.useEffect)(()=>{function e(e){if(!P)return;const t=e.target;D.current&&D.current.contains(t)||R.current&&R.current.contains(t)||A(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[P]),(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{const t=await Vn.syncFromServer(fn);e&&Array.isArray(t)&&t.length>0&&a(t)}catch(Fu){}})(),()=>{e=!1}},[]);const Q=()=>{const e={clientName:"",clientEmail:"",clientPhone:"",services:[],items:[{service:"",description:"",quantity:1,price:0}],additionalCharges:[],terms:[]},t=le(ju);t&&"object"===typeof t&&t.formData?U(T(T({},e),t.formData)):U(e),h(null),s(!0)},$=e=>{d(e),l(!0)},K=async e=>{if(!await J("Are you sure you want to delete this quotation?"))return;try{const t=Dt.getToken();t&&await fetch("".concat(un,"/quotations/").concat(encodeURIComponent(e)),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})}catch(Fu){console.warn("quotation delete failed",Fu)}const t=n.filter(t=>t.id!==e);a(t);try{Vn.setJSONAndSync(fn,t)}catch(Fu){}},Y=e=>{try{let t=(e.clientPhone||"").toString().replace(/\D/g,"");if(!t)return void wl("No phone number available for this client.");10===t.length&&(t="91"+t);const n=parseFloat(e.totalAmount)||0,a="Hello ".concat(e.clientName||"",", here is your quotation ").concat(e.id," for \u20b9").concat(n.toLocaleString("en-IN"),"."),r="https://wa.me/".concat(t,"?text=").concat(encodeURIComponent(a));window.open(r,"_blank")}catch(Fu){try{window.open("https://web.whatsapp.com/","_blank")}catch(t){console.error(t)}}},G=e=>{try{const t=(e.clientEmail||"").trim();if(!t)return void wl("No email address available for this client.");const n="Quotation ".concat(e.id),a=parseFloat(e.totalAmount)||0,r="Hello ".concat(e.clientName||"",",\n\nPlease find your quotation ").concat(e.id," for \u20b9").concat(a.toLocaleString("en-IN"),".\n\nRegards,"),i="mailto:".concat(encodeURIComponent(t),"?subject=").concat(encodeURIComponent(n),"&body=").concat(encodeURIComponent(r));window.location.href=i}catch(Fu){console.error("send email error",Fu);try{window.open("mailto:","_self")}catch(t){}}},X=n=>{try{const a=Array.isArray(n.items)?n.items.filter(e=>e&&e.service&&""!==e.service.toString().trim()):[],r=a.length>0?a.map(e=>"\n        <tr>\n          <td>".concat(e.service||"","</td>\n          <td>").concat(e.description||"",'</td>\n          <td style="text-align:center">').concat(e.quantity||"",'</td>\n          <td style="text-align:right">\u20b9').concat((parseFloat(e.price)||0).toLocaleString("en-IN"),'</td>\n          <td style="text-align:right">\u20b9').concat(((parseFloat(e.price)||0)*(parseFloat(e.quantity)||0)).toLocaleString("en-IN"),"</td>\n        </tr>")).join(""):"",i=Array.isArray(n.additionalCharges)?n.additionalCharges:[],s=i.length>0?i.map(e=>"\n        <tr>\n          <td></td>\n          <td>".concat(e.description||"Additional charge",'</td>\n          <td></td>\n          <td style="text-align:right"></td>\n          <td style="text-align:right">\u20b9').concat((parseFloat(e.amount)||0).toLocaleString("en-IN"),"</td>\n        </tr>")).join(""):"",o=a.reduce((e,t)=>e+(parseFloat(t.price)||0)*(parseFloat(t.quantity)||0),0),l=o+i.reduce((e,t)=>e+(parseFloat(t.amount)||0),0),c=e=>{if(0===e)return"zero";const t=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],a=e=>{let r="";return e>=1e7&&(r+=a(Math.floor(e/1e7))+" crore ",e%=1e7),e>=1e5&&(r+=a(Math.floor(e/1e5))+" lakh ",e%=1e5),e>=1e3&&(r+=a(Math.floor(e/1e3))+" thousand ",e%=1e3),e>=100&&(r+=a(Math.floor(e/100))+" hundred ",e%=100),e>0&&(r+=e<20?t[e]+" ":n[Math.floor(e/10)]+(e%10?" "+t[e%10]:"")+" "),r.trim()};return a(e).replace(/\s+/g," ").trim()},d=Math.floor(l),u=Math.round(100*(l-d)),h=c(d)||"zero",m=u?c(u):"",p="".concat(h," rupees").concat(u?" and "+m+" paise":""," only"),f=p.charAt(0).toUpperCase()+p.slice(1),v='<!doctype html>\n      <html>\n      <head>\n        <meta charset="utf-8" />\n        <title>Quotation '.concat(n.id,'</title>\n        <style>\n          body{font-family:Arial,Helvetica,sans-serif;color:#111;padding:24px}\n          h1{color:#6366f1;margin:0 0 8px}\n          .quote-header { display:flex; justify-content:space-between; align-items:flex-start; gap:16px }\n          .quote-left { flex:1 }\n          .quote-left p { margin:4px 0; color:#374151 }\n          .company-block { width:260px; text-align:right; display:flex; flex-direction:column; align-items:flex-end; gap:6px }\n          .company-logo { width:64px; height:64px; display:block }\n          .company-name { font-weight:700; color:#1f2937 }\n          .company-contact { font-size:0.9rem; color:#6b7280 }\n          table{width:100%;border-collapse:collapse;margin-top:12px}\n          th,td{border:1px solid #ddd;padding:8px}\n          th{background:#f3f4f6;text-align:left}\n          .right{text-align:right}\n        </style>\n      </head>\n      <body>\n        <div class="quote-header">\n          <div class="quote-left">\n            <h1>Quotation ').concat(n.id,"</h1>\n            <p><strong>Client:</strong> ").concat(n.clientName||"","</p>\n            <p><strong>Phone:</strong> ").concat(n.clientPhone||"","</p>\n            <p><strong>Email:</strong> ").concat(n.clientEmail||"","</p>\n            <p><strong>Date:</strong> ").concat(Us(n.date)||"",'</p>\n          </div>\n          <div class="company-block">\n            ').concat(e.logoPreview?'\n            <img src="'.concat(e.logoPreview,'" alt="Company Logo" class="company-logo" style="width:64px;height:64px;border-radius:4px;object-fit:cover" />\n            '):'\n            <div class="company-logo">\n              \x3c!-- inline placeholder SVG logo --\x3e\n              <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <rect width="24" height="24" rx="4" fill="#6366f1" />\n                <path d="M6 12h12" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              </svg>\n            </div>\n            ','\n            <div class="company-name">').concat(e.name||hn,'</div>\n            <div class="company-contact">\n              ').concat(e.phone?"Phone: ".concat(e.phone,"<br/>"):"Phone: +91 12345 67890<br/>","\n              ").concat(e.email?"Email: ".concat(e.email):"Email: info@example.com","\n              ").concat(e.address?"<br/>".concat(e.address):"",'\n            </div>\n          </div>\n        </div>\n\n        <table>\n          <thead>\n            <tr>\n              <th>Service</th>\n              <th>Description</th>\n              <th>Qty</th>\n              <th class="right">Unit</th>\n              <th class="right">Line Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            ').concat(r,'\n            <tr>\n              <td colspan="4" style="text-align:right;font-weight:700">Subtotal</td>\n              <td style="text-align:right;font-weight:700">\u20b9').concat(o.toLocaleString("en-IN"),"</td>\n            </tr>\n            ").concat(i.length>0?'\n            <tr>\n              <td style="font-weight:700">Additional Charges</td>\n            </tr>\n            '.concat(s,"\n            "):"",'\n            <tr>\n              <td colspan="4" style="text-align:right;font-weight:900">Total</td>\n              <td style="text-align:right;font-weight:900">\u20b9').concat(l.toLocaleString("en-IN"),'</td>\n            </tr>\n          </tbody>\n        </table>\n  <div style="margin-top:12px;font-weight:600;text-align:right">Amount (in words): ').concat(f,"</div>\n        \n        ").concat(n.terms&&n.terms.length>0?'\n        <div style="margin-top:24px">\n          <h3 style="font-size:1.1rem;color:#1f2937;margin:0 0 8px">Terms & Conditions</h3>\n          <ul style="margin:0;padding-left:20px;color:#374151">\n            '.concat(n.terms.map(e=>'<li style="margin-bottom:4px">'.concat(e,"</li>")).join(""),"\n          </ul>\n        </div>\n        "):"",'\n\n        \x3c!-- Signature blocks --\x3e\n        <div style="margin-top:36px; display:flex; gap:24px;">\n          <div style="flex:1; text-align:left;">\n            <div style="height:72px; border-bottom:1px solid #ddd"></div>\n            <div style="margin-top:8px; font-weight:600">Client Signature</div>\n            <div style="color:#374151">').concat(n.clientSignature||"",'</div>\n          </div>\n          <div style="flex:1; text-align:right;">\n            <div style="height:72px; border-bottom:1px solid #ddd"></div>\n            <div style="margin-top:8px; font-weight:600">Authorized Signatory</div>\n            <div style="color:#374151">').concat(e.name||hn||"",'</div>\n            <div style="color:#374151; margin-top:4px; font-size:0.95rem">').concat(e.phone?"Phone: ".concat(e.phone):"Phone: +91 12345 67890",'</div>\n            <div style="color:#374151; font-size:0.95rem">').concat(e.email?"Email: ".concat(e.email):"Email: info@example.com",'</div>\n          </div>\n        </div>\n        <br/>\n        <br/>\n        <br/>\n        <br/>\n\n        \x3c!-- Payment details: Bank (left) and UPI (right) --\x3e\n        <div style="margin-top:24px; display:flex; justify-content:space-between;">\n          <div style="width:100%; border:1px solid #e5e7eb; border-radius:8px; padding:12px; background:#fafafa;">\n            <div style="display:flex; gap:24px; align-items:flex-start; justify-content:space-between;">\n          \x3c!-- Bank details --\x3e\n          <div style="flex:1; background:#ffffff; padding:12px;">\n            <h3 style="margin:0 0 8px; color:#1f2937; font-size:1rem">Payment Details</h3>\n            <br/>\n            <p style="margin:4px 0"><strong>Bank:</strong> ').concat(t.bankName||"ABC Bank",'</p>\n            <p style="margin:4px 0"><strong>Account Name:</strong> ').concat(t.accountHolder||e.name||hn||"",'</p>\n            <p style="margin:4px 0"><strong>Account Number:</strong> ').concat(t.accountNumber||"123456789012",'</p>\n            <p style="margin:4px 0"><strong>Branch:</strong> ').concat(t.branch||"Main Branch",'</p>\n            <p style="margin:4px 0"><strong>IFSC:</strong> ').concat(t.ifsc||"ABCD0123456","</p>\n            ").concat(t.address?'<p style="margin:4px 0"><strong>Address:</strong> '.concat(t.address,"</p>"):"",'\n            <p style="margin:4px 0"><strong>Note:</strong> After the successful payment, please inform us with the Quotation ID (').concat(n.id,') as the payment reference.</p>\n          </div>\n\n          \x3c!-- UPI details with QR placeholder --\x3e\n          <div style="width:220px; text-align:center; background:#ffffff; padding:12px; border-radius:6px; border:1px solid #e5e7eb;">\n            <h3 style="margin:0 0 8px; color:#1f2937; font-size:1rem">UPI</h3>\n            <p style="margin:4px 0; font-weight:600;">UPI ID: ').concat(t.upiId||"photographer@upi",'</p>\n            <div style="margin-top:8px; display:flex; justify-content:center;">\n              ').concat(t.upiQrPreview?'\n              <img src="'.concat(t.upiQrPreview,'" alt="UPI QR" style="width:140px;height:140px;border-radius:6px;object-fit:cover;border:1px solid #e5e7eb" />\n              '):'\n              <img src="'.concat(xu,'" alt="UPI QR" style="width:140px;height:140px;border-radius:6px;object-fit:cover;border:1px solid #e5e7eb" />\n              '),'\n            </div>\n            <div style="margin-top:8px; font-size:0.85rem; color:#6b7280">Scan or use the UPI ID to pay</div>\n            </div>\n          </div>\n        </div>\n      </body>\n      </html>'),g=window.open("","_blank");if(!g)return void wl("Popup blocked. Please allow popups for this site to download the PDF.");g.document.open(),g.document.write(v),g.document.close(),g.focus(),setTimeout(()=>{try{g.print()}catch(Fu){console.error(Fu)}},500)}catch(Fu){console.error("download error",Fu),wl("Unable to prepare the quotation for download.")}},Z=async(e,t)=>{const r=n.map(n=>n.id===e?T(T({},n),{},{status:t}):n);a(r);try{Vn.setJSONAndSync(fn,r)}catch(Fu){}try{const n=Dt.getToken();n&&await fetch("".concat(un,"/quotations/").concat(encodeURIComponent(e)),{method:"PUT",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({status:t})})}catch(Fu){console.warn("Failed to persist quotation status",Fu),wl("Status updated locally but failed to save to server.")}},ee=(e,t,n)=>{U(a=>{const r=Array.isArray(a.items)?[...a.items]:[];for(;r.length<=e;)r.push({service:"",description:"",quantity:1,price:0});if(r[e][t]="quantity"===t?""===n?"":parseInt(n,10)||0:"price"===t?""===n?"":parseFloat(n)||0:n,"service"===t){const t=n&&""!==n.toString().trim(),a=e===r.length-1;t&&a&&r.push({service:"",description:"",quantity:1,price:0})}return T(T({},a),{},{items:r})})},te=()=>(Array.isArray(q.items)?q.items:[]).filter(e=>e&&e.service&&""!==e.service.toString().trim()).reduce((e,t)=>e+(parseFloat(t.quantity)||0)*(parseFloat(t.price)||0),0),ne=()=>te()+(q.additionalCharges||[]).reduce((e,t)=>e+(parseFloat(t.amount)||0),0),ae=(e,t,n)=>{const a=[...q.additionalCharges||[]];a[e]=T(T({},a[e]),{},"amount"===t?{[t]:""===n?"":parseFloat(n)||0}:{[t]:n}),U(T(T({},q),{},{additionalCharges:a}))},re=e=>{const t=q.terms||[],n=(H[e]||[]).map(e=>e.content);return n.length>0&&n.every(e=>t.includes(e))},ie=w(),se=e=>e?"".concat(ju,"_").concat(String(e)):ju,oe=e=>{const t={formData:q};sessionStorage.setItem(e,JSON.stringify(t))},le=e=>{try{const t=sessionStorage.getItem(e);return t?JSON.parse(t):null}catch(Fu){return null}};(0,r.useEffect)(()=>{if(i&&q){(q.clientName||q.clientEmail||q.clientPhone||q.services.length>0||q.items.some(e=>e.service||e.description||e.price>0)||q.additionalCharges.length>0||q.terms.length>0)&&oe(ju)}},[q,i]);const ce=Xa(),de=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e,t;if(null!==ce&&void 0!==ce&&null!==(e=ce.state)&&void 0!==e&&e.openCreate){Q();try{window.history.replaceState({},document.title)}catch(Fu){}}if(null!==ce&&void 0!==ce&&null!==(t=ce.state)&&void 0!==t&&t.openViewId){const e=ce.state.openViewId,t=n.find(t=>t.id===e);t?$(t):de.current=e;try{window.history.replaceState({},document.title)}catch(Fu){}}},[]),(0,r.useEffect)(()=>{if(de.current){const e=de.current,t=n.find(t=>t.id===e);if(t){$(t),de.current=null;try{window.history.replaceState({},document.title)}catch(Fu){}}}},[n]);const ue=e=>{j===e?S("asc"===N?"desc":"asc"):(_(e),S("desc"))},he=()=>me.every(e=>O[e.key]),me=[{key:"id",label:"Quotation ID"},{key:"services",label:"Services"},{key:"amount",label:"Amount"},{key:"date",label:"Date"},{key:"status",label:"Status"}],pe=e=>{switch(e){case"pending":return"#fbbf24";case"approved":return"#10b981";case"rejected":return"#ef4444";default:return"#6b7280"}},fe=e=>{switch(e){case"pending":default:return(0,Fs.jsx)(Fi,{});case"approved":return(0,Fs.jsx)(zi,{});case"rejected":return(0,Fs.jsx)(Ps,{})}},ve=(()=>{const e=(m||"").toString().trim().toLowerCase();let t=n.filter(t=>{if(g||x){const e=t.date?new Date(t.date):null;if(!e)return!1;if(g){const t=new Date(g);if(t.setHours(0,0,0,0),e<t)return!1}if(x){const t=new Date(x);if(t.setHours(23,59,59,999),e>t)return!1}}const n=((null===t||void 0===t?void 0:t.clientName)||"").toString().toLowerCase(),a=((null===t||void 0===t?void 0:t.id)||"").toString().toLowerCase(),r=((null===t||void 0===t?void 0:t.date)||"").toString().toLowerCase(),i=t.date?Us(t.date).toString().toLowerCase():"",s=(Array.isArray(t.services)?t.services:[]).join(" ").toLowerCase(),o=t.totalAmount,l=void 0===o||null===o?NaN:Number(o);let c=!1;if(e){if(c=n.includes(e)||a.includes(e)||r.includes(e)||i.includes(e)||s.includes(e),!c){const t=e.replace(/[^0-9.]/g,"");if(t){const e=parseFloat(t);Number.isNaN(e)||Number.isNaN(l)||(Math.abs(l-e)<.001||String(l).toLowerCase().includes(t))&&(c=!0)}}}else c=!0;const d="all"===f||t.status===f;return c&&d});return t.sort((e,t)=>{let n=0;switch(j){case"name":n=e.clientName.localeCompare(t.clientName);break;case"date":n=new Date(e.date)-new Date(t.date);break;case"amount":n=e.totalAmount-t.totalAmount;break;default:n=0}return"asc"===N?n:-n}),t})(),ge=Math.ceil(ve.length/F),ye=(I-1)*F,xe=ye+F,be=ve.slice(ye,xe);(0,r.useEffect)(()=>{z(1)},[m,f,g,x,j,N]);const je=e=>{z(e)},_e=n.filter(e=>"pending"===e.status).reduce((e,t)=>e+(parseFloat(t.totalAmount)||0),0),we=n.filter(e=>"approved"===e.status).reduce((e,t)=>e+(parseFloat(t.totalAmount)||0),0),Ne=n.filter(e=>"rejected"===e.status).length,Se=n.filter(e=>"rejected"===e.status).reduce((e,t)=>e+(parseFloat(t.totalAmount)||0),0);return(0,Fs.jsxs)("div",{className:"quotations",children:[(0,Fs.jsxs)("div",{className:"quotations__header",children:[(0,Fs.jsxs)("div",{className:"quotations__title-section",children:[(0,Fs.jsxs)("h1",{className:"quotations__title",children:[(0,Fs.jsx)(Ki,{}),"Quotations"]}),(0,Fs.jsx)("p",{className:"quotations__subtitle",children:"Manage and track client quotations"})]}),(0,Fs.jsxs)("div",{className:"quotations__header-actions",children:[(0,Fs.jsxs)("button",{className:"btn-primary quotations__export-btn",onClick:()=>{try{const e=Array.isArray(ve)&&ve.length>0?ve:n;if(!e||0===e.length)return void wl("No quotations to export");const t=["S/N","Client Name","Client Phone","Client Email"];me.forEach(e=>{O[e.key]&&t.push(e.label)});const a=e=>'"'+(void 0===e||null===e?"":String(e)).replace(/"/g,'""')+'"',r=e.map((e,t)=>{const n=[t+1,e.clientName||"",e.clientPhone||"",e.clientEmail||""];return me.forEach(t=>{if(O[t.key])switch(t.key){case"id":n.push(e.id||"");break;case"services":n.push(Array.isArray(e.services)?e.services.join("; "):e.services||"");break;case"amount":n.push(parseFloat(e.totalAmount)||0);break;case"date":n.push(Us(e.date)||"");break;case"status":n.push(e.status||"");break;default:n.push("")}}),n.map(a).join(",")}),i=[t.map(a).join(","),...r].join("\r\n"),s=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(s),l=document.createElement("a");l.href=o,l.download="quotations_export_".concat(Bs(new Date),".csv"),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)}catch(Fu){console.error("export error",Fu),wl("Unable to export quotations")}},title:"Export Quotations",style:{marginRight:8},children:[(0,Fs.jsx)(bs,{})," Export"]}),(0,Fs.jsxs)("button",{className:"btn-primary",onClick:Q,children:[(0,Fs.jsx)(ms,{}),"New Quotation"]})]})]}),(0,Fs.jsxs)("div",{className:"quotations__stats",children:[(0,Fs.jsxs)("div",{className:"quotations__stat-card",children:[(0,Fs.jsx)("div",{className:"quotations__stat-icon quotations__stat-icon--blue",children:(0,Fs.jsx)(Ki,{})}),(0,Fs.jsxs)("div",{className:"quotations__stat-info",children:[(0,Fs.jsx)("h3",{children:n.length}),(0,Fs.jsx)("p",{children:"Total Quotations"})]})]}),(0,Fs.jsxs)("div",{className:"quotations__stat-card",children:[(0,Fs.jsx)("div",{className:"quotations__stat-icon quotations__stat-icon--red",children:(0,Fs.jsx)(Ps,{})}),(0,Fs.jsxs)("div",{className:"quotations__stat-info",children:[(0,Fs.jsx)("h3",{children:Ne}),(0,Fs.jsx)("p",{children:"Rejected"})]})]}),(0,Fs.jsxs)("div",{className:"quotations__stat-card",children:[(0,Fs.jsx)("div",{className:"quotations__stat-icon quotations__stat-icon--red-light",children:(0,Fs.jsx)(ss,{})}),(0,Fs.jsxs)("div",{className:"quotations__stat-info",children:[(0,Fs.jsxs)("h3",{children:["\u20b9",Se.toLocaleString("en-IN")]}),(0,Fs.jsx)("p",{children:"Rejected Value"})]})]}),(0,Fs.jsxs)("div",{className:"quotations__stat-card",children:[(0,Fs.jsx)("div",{className:"quotations__stat-icon quotations__stat-icon--amber",children:(0,Fs.jsx)(Fi,{})}),(0,Fs.jsxs)("div",{className:"quotations__stat-info",children:[(0,Fs.jsx)("h3",{children:n.filter(e=>"pending"===e.status).length}),(0,Fs.jsx)("p",{children:"Pending"})]})]}),(0,Fs.jsxs)("div",{className:"quotations__stat-card",children:[(0,Fs.jsx)("div",{className:"quotations__stat-icon quotations__stat-icon--orange",children:(0,Fs.jsx)(ss,{})}),(0,Fs.jsxs)("div",{className:"quotations__stat-info",children:[(0,Fs.jsxs)("h3",{children:["\u20b9",_e.toLocaleString("en-IN")]}),(0,Fs.jsx)("p",{children:"Pending Value"})]})]}),(0,Fs.jsxs)("div",{className:"quotations__stat-card",children:[(0,Fs.jsx)("div",{className:"quotations__stat-icon quotations__stat-icon--green",children:(0,Fs.jsx)(zi,{})}),(0,Fs.jsxs)("div",{className:"quotations__stat-info",children:[(0,Fs.jsx)("h3",{children:n.filter(e=>"approved"===e.status).length}),(0,Fs.jsx)("p",{children:"Approved"})]})]}),(0,Fs.jsxs)("div",{className:"quotations__stat-card",children:[(0,Fs.jsx)("div",{className:"quotations__stat-icon quotations__stat-icon--green-light",children:(0,Fs.jsx)(ss,{})}),(0,Fs.jsxs)("div",{className:"quotations__stat-info",children:[(0,Fs.jsxs)("h3",{children:["\u20b9",we.toLocaleString("en-IN")]}),(0,Fs.jsx)("p",{children:"Approved Value"})]})]})]}),(0,Fs.jsxs)("div",{className:"quotations__toolbar",children:[(0,Fs.jsxs)("div",{className:"quotations__search",children:[(0,Fs.jsx)(xs,{}),(0,Fs.jsx)("input",{type:"text",placeholder:"Search quotations by ID, Name or Date...",value:m,onChange:e=>p(e.target.value)})]}),(0,Fs.jsxs)("div",{className:"quotations__toolbar-right",children:[(0,Fs.jsxs)("div",{className:"quotations__date-range",children:[(0,Fs.jsx)("label",{children:"From"}),(0,Fs.jsx)("input",{type:"date",value:g,onChange:e=>y(e.target.value)}),(0,Fs.jsx)("label",{children:"To"}),(0,Fs.jsx)("input",{type:"date",value:x,onChange:e=>b(e.target.value)})]}),(0,Fs.jsxs)("div",{className:"quotations__filter",children:[(0,Fs.jsx)(Yi,{}),(0,Fs.jsxs)("select",{value:f,onChange:e=>v(e.target.value),children:[(0,Fs.jsx)("option",{value:"all",children:"All Status"}),(0,Fs.jsx)("option",{value:"pending",children:"Pending"}),(0,Fs.jsx)("option",{value:"approved",children:"Approved"}),(0,Fs.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),"table"===C&&(0,Fs.jsxs)("div",{className:"quotations__column-selector",children:[(0,Fs.jsx)("button",{ref:R,className:"quotations__column-btn",onClick:()=>A(!P),title:"Column Preferences",children:(0,Fs.jsx)(Mi,{})}),P&&(0,Fs.jsxs)("div",{ref:D,className:"quotations__column-menu",children:[(0,Fs.jsxs)("div",{className:"quotations__column-menu-header",children:[(0,Fs.jsx)("span",{children:"Show Columns"}),(0,Fs.jsx)("button",{onClick:()=>A(!1),children:(0,Fs.jsx)(Ps,{})})]}),(0,Fs.jsxs)("div",{className:"quotations__column-menu-items",children:[(0,Fs.jsxs)("label",{className:"quotations__column-menu-item quotations__column-menu-item--select-all",children:[(0,Fs.jsx)("input",{type:"checkbox",checked:he(),onChange:e=>(e=>{const t={};me.forEach(n=>{t[n.key]=e}),L(t)})(e.target.checked)}),he()?(0,Fs.jsx)(Ii,{}):(0,Fs.jsx)(Cs,{}),(0,Fs.jsx)("span",{children:(0,Fs.jsx)("strong",{children:"Select All"})})]}),(0,Fs.jsx)("div",{className:"quotations__column-menu-divider"}),me.map(e=>(0,Fs.jsxs)("label",{className:"quotations__column-menu-item",children:[(0,Fs.jsx)("input",{type:"checkbox",checked:O[e.key],onChange:()=>{return t=e.key,void L(T(T({},O),{},{[t]:!O[t]}));var t}}),O[e.key]?(0,Fs.jsx)(Ii,{}):(0,Fs.jsx)(Cs,{}),(0,Fs.jsx)("span",{children:e.label})]},e.key))]})]})]}),(0,Fs.jsxs)("div",{className:"quotations__view-toggle",children:[(0,Fs.jsx)("button",{className:"quotations__view-btn ".concat("table"===C?"active":""),onClick:()=>E("table"),title:"Table View",children:(0,Fs.jsx)(ts,{})}),(0,Fs.jsx)("button",{className:"quotations__view-btn ".concat("grid"===C?"active":""),onClick:()=>E("grid"),title:"Grid View",children:(0,Fs.jsx)(Es,{})})]})]})]}),(0,Fs.jsx)("div",{className:"quotations__content",children:0===ve.length?(0,Fs.jsxs)("div",{className:"quotations__empty",children:[(0,Fs.jsx)(Ki,{}),(0,Fs.jsx)("h3",{children:"No quotations found"}),(0,Fs.jsx)("p",{children:"Create your first quotation to get started"})]}):"table"===C?(0,Fs.jsx)("div",{className:"quotations__table-container",children:(0,Fs.jsxs)("table",{className:"quotations__table",children:[(0,Fs.jsx)("thead",{children:(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("th",{style:{width:60},children:"No."}),O.id&&(0,Fs.jsx)("th",{children:"Quotation ID"}),(0,Fs.jsxs)("th",{className:"quotations__sortable-header quotations__clickable",onClick:()=>ue("name"),children:["Client "," ","name"===j?"asc"===N?(0,Fs.jsx)(Ss,{}):(0,Fs.jsx)(Ns,{}):(0,Fs.jsx)(ks,{className:"quotations__sort-icon-muted"})]}),O.services&&(0,Fs.jsx)("th",{children:"Services"}),O.amount&&(0,Fs.jsxs)("th",{className:"quotations__sortable-header quotations__clickable",onClick:()=>ue("amount"),children:["Amount "," ","amount"===j?"asc"===N?(0,Fs.jsx)(Ss,{}):(0,Fs.jsx)(Ns,{}):(0,Fs.jsx)(ks,{className:"quotations__sort-icon-muted"})]}),O.date&&(0,Fs.jsxs)("th",{className:"quotations__sortable-header",onClick:()=>ue("date"),style:{cursor:"pointer"},children:["Date "," ","date"===j?"asc"===N?(0,Fs.jsx)(Ss,{}):(0,Fs.jsx)(Ns,{}):(0,Fs.jsx)(ks,{className:"quotations__sort-icon-muted"})]}),O.status&&(0,Fs.jsx)("th",{children:"Status"}),(0,Fs.jsx)("th",{children:"Actions"})]})}),(0,Fs.jsx)("tbody",{children:be.map((e,t)=>(0,Fs.jsxs)("tr",{onClick:()=>$(e),role:"button",tabIndex:0,onKeyPress:t=>{"Enter"!==t.key&&" "!==t.key||$(e)},style:{cursor:"pointer"},children:[(0,Fs.jsx)("td",{children:(0,Fs.jsx)("span",{className:"quotations__number",children:t+1})}),O.id&&(0,Fs.jsx)("td",{children:(0,Fs.jsx)("span",{className:"quotations__id",children:(0,Fs.jsx)(cu,{text:e.id,query:m})})}),(0,Fs.jsx)("td",{children:(0,Fs.jsx)("div",{className:"quotations__client",children:(0,Fs.jsxs)("div",{className:"quotations__client-info",children:[(0,Fs.jsx)("div",{className:"quotations__client-name",children:(0,Fs.jsx)(cu,{text:e.clientName,query:m})}),(0,Fs.jsx)("div",{className:"quotations__client-phone",children:(0,Fs.jsx)(cu,{text:e.clientPhone,query:m})}),(0,Fs.jsx)("div",{className:"quotations__client-email",children:(0,Fs.jsx)(cu,{text:e.clientEmail,query:m})})]})})}),O.services&&(0,Fs.jsx)("td",{children:(0,Fs.jsxs)("div",{className:"quotations__services",children:[e.services.slice(0,2).map((e,t)=>(0,Fs.jsx)("span",{className:"quotations__service-tag",children:(0,Fs.jsx)(cu,{text:e,query:m})},t)),e.services.length>2&&(0,Fs.jsxs)("span",{className:"quotations__service-more",children:["+",e.services.length-2]})]})}),O.amount&&(0,Fs.jsx)("td",{children:(0,Fs.jsx)("span",{className:"quotations__amount",children:(0,Fs.jsx)(cu,{text:"\u20b9".concat(e.totalAmount.toLocaleString("en-IN")),query:m})})}),O.date&&(0,Fs.jsx)("td",{children:(0,Fs.jsx)("span",{className:"quotations__date",children:(0,Fs.jsx)(cu,{text:Us(e.date),query:m})})}),O.status&&(0,Fs.jsx)("td",{children:(0,Fs.jsxs)("span",{className:"quotations__status quotations__status--".concat(e.status," quotations__status--badge"),children:[fe(e.status),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})}),(0,Fs.jsx)("td",{children:(0,Fs.jsxs)("div",{className:"quotations__actions",children:[(0,Fs.jsx)("button",{className:"quotations__action-btn quotations__action-btn--view",onClick:t=>{t.stopPropagation(),$(e)},title:"View",children:(0,Fs.jsx)($i,{})}),(0,Fs.jsx)("button",{className:"quotations__action-btn quotations__action-btn--download",title:"Download PDF",onClick:t=>{t.stopPropagation(),X(e)},children:(0,Fs.jsx)(Vi,{})}),(0,Fs.jsx)("button",{className:"quotations__action-btn quotations__action-btn--whatsapp",title:"Send WhatsApp",onClick:t=>{t.stopPropagation(),Y(e)},children:(0,Fs.jsx)(_i,{})}),(0,Fs.jsx)("button",{className:"quotations__action-btn quotations__action-btn--email",title:"Send Email",onClick:t=>{t.stopPropagation(),G(e)},children:(0,Fs.jsx)(Ji,{})}),(0,Fs.jsx)("button",{className:"quotations__action-btn quotations__action-btn--delete",onClick:t=>{t.stopPropagation(),K(e.id)},title:"Delete",children:(0,Fs.jsx)(As,{})})]})})]},e.id))})]})}):(0,Fs.jsx)("div",{className:"quotations__grid",children:be.map((e,t)=>(0,Fs.jsxs)("div",{className:"quotations__card",children:[(0,Fs.jsxs)("div",{className:"quotations__card-header",children:[(0,Fs.jsxs)("span",{className:"quotations__card-no",children:["#",t+1]}),(0,Fs.jsx)("span",{className:"quotations__card-id",children:e.id}),(0,Fs.jsxs)("span",{className:"quotations__status quotations__status--".concat(e.status," quotations__status--badge"),children:[fe(e.status),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})]}),(0,Fs.jsxs)("div",{className:"quotations__card-client",children:[(0,Fs.jsx)("div",{className:"quotations__client-avatar quotations__client-avatar--large",children:e.clientName.charAt(0)}),(0,Fs.jsxs)("div",{className:"quotations__card-client-info",children:[(0,Fs.jsx)("h3",{children:e.clientName}),(0,Fs.jsx)("p",{children:e.clientEmail})]})]}),(0,Fs.jsx)("div",{className:"quotations__card-services",children:e.services.map((e,t)=>(0,Fs.jsx)("span",{className:"quotations__service-tag",children:(0,Fs.jsx)(cu,{text:e,query:m})},t))}),(0,Fs.jsxs)("div",{className:"quotations__card-details",children:[(0,Fs.jsxs)("div",{className:"quotations__card-detail",children:[(0,Fs.jsx)(ss,{}),(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("label",{children:"Amount"}),(0,Fs.jsx)("span",{children:(0,Fs.jsx)(cu,{text:"\u20b9".concat(e.totalAmount.toLocaleString("en-IN")),query:m})})]})]}),(0,Fs.jsxs)("div",{className:"quotations__card-detail",children:[(0,Fs.jsx)(Ti,{}),(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("label",{children:"Date"}),(0,Fs.jsx)("span",{children:(0,Fs.jsx)(cu,{text:Us(e.date),query:m})})]})]})]}),(0,Fs.jsxs)("div",{className:"quotations__card-actions",children:[(0,Fs.jsxs)("button",{className:"quotations__action-btn quotations__action-btn--view",onClick:()=>$(e),title:"View",children:[(0,Fs.jsx)($i,{})," View"]}),(0,Fs.jsx)("button",{className:"quotations__action-btn quotations__action-btn--download",title:"Download PDF",onClick:()=>X(e),children:(0,Fs.jsx)(Vi,{})}),(0,Fs.jsx)("button",{className:"quotations__action-btn quotations__action-btn--whatsapp",title:"Send WhatsApp",onClick:()=>Y(e),children:(0,Fs.jsx)(_i,{})}),(0,Fs.jsx)("button",{className:"quotations__action-btn quotations__action-btn--email",title:"Send Email",onClick:()=>G(e),children:(0,Fs.jsx)(Ji,{})}),(0,Fs.jsx)("button",{className:"quotations__action-btn quotations__action-btn--delete",onClick:()=>K(e.id),title:"Delete",children:(0,Fs.jsx)(As,{})})]})]},e.id))})}),ve.length>0&&(0,Fs.jsxs)("div",{className:"quotations__pagination",children:[(0,Fs.jsxs)("div",{className:"quotations__pagination-info",children:["Showing ",ye+1," to ",Math.min(xe,ve.length)," of ",ve.length," quotations"]}),(0,Fs.jsxs)("div",{className:"quotations__pagination-controls",children:[(0,Fs.jsxs)("div",{className:"quotations__pagination-rows",children:[(0,Fs.jsx)("label",{children:"Rows per page:"}),(0,Fs.jsxs)("select",{value:F,onChange:e=>{return t=Number(e.target.value),M(t),void z(1);var t},children:[(0,Fs.jsx)("option",{value:10,children:"10"}),(0,Fs.jsx)("option",{value:25,children:"25"}),(0,Fs.jsx)("option",{value:50,children:"50"}),(0,Fs.jsx)("option",{value:100,children:"100"})]})]}),(0,Fs.jsxs)("div",{className:"quotations__pagination-buttons",children:[(0,Fs.jsx)("button",{className:"quotations__pagination-btn",onClick:()=>je(1),disabled:1===I,title:"First Page",children:(0,Fs.jsx)(wi,{})}),(0,Fs.jsx)("button",{className:"quotations__pagination-btn",onClick:()=>je(I-1),disabled:1===I,title:"Previous Page",children:(0,Fs.jsx)(Si,{})}),(0,Fs.jsx)("div",{className:"quotations__pagination-pages",children:(()=>{const e=[];let t=Math.max(1,I-Math.floor(2.5)),n=Math.min(ge,t+5-1);n-t<4&&(t=Math.max(1,n-5+1)),t>1&&(e.push((0,Fs.jsx)("button",{className:"quotations__pagination-btn",onClick:()=>je(1),children:"1"},1)),t>2&&e.push((0,Fs.jsx)("span",{className:"quotations__pagination-ellipsis",children:"..."},"ellipsis1")));for(let a=t;a<=n;a++)e.push((0,Fs.jsx)("button",{className:"quotations__pagination-btn ".concat(I===a?"active":""),onClick:()=>je(a),children:a},a));return n<ge&&(n<ge-1&&e.push((0,Fs.jsx)("span",{className:"quotations__pagination-ellipsis",children:"..."},"ellipsis2")),e.push((0,Fs.jsx)("button",{className:"quotations__pagination-btn",onClick:()=>je(ge),children:ge},ge))),e})()}),(0,Fs.jsx)("button",{className:"quotations__pagination-btn",onClick:()=>je(I+1),disabled:I===ge,title:"Next Page",children:(0,Fs.jsx)(ki,{})}),(0,Fs.jsx)("button",{className:"quotations__pagination-btn",onClick:()=>je(ge),disabled:I===ge,title:"Last Page",children:(0,Fs.jsx)(Ni,{})})]})]})]}),(0,Fs.jsx)(Ms,{isOpen:i,title:u?"Edit Quotation":"Create New Quotation",headerActions:u?null:(0,Fs.jsx)("button",{className:"btn-secondary modal__reset",onClick:()=>{U({clientName:"",clientEmail:"",clientPhone:"",services:[],items:[{service:"",description:"",quantity:1,price:0}],additionalCharges:[],terms:[]});try{e=se(),sessionStorage.removeItem(e)}catch(Fu){}var e},type:"button",children:"Reset"}),onClose:()=>{oe(ju),s(!1)},size:"large",children:(0,Fs.jsxs)("div",{className:"quotations__form",children:[(0,Fs.jsx)("div",{className:"quotations__form-section",children:(0,Fs.jsxs)("div",{className:"quotations__form-row quotations__form-row--3col",children:[(0,Fs.jsxs)("div",{className:"quotations__form-group",children:[(0,Fs.jsx)("label",{children:"Client Name *"}),(0,Fs.jsx)("input",{type:"text",placeholder:"Enter client name",value:q.clientName,onChange:e=>{const t=(e.target.value||"").replace(/[^A-Za-z\s]/g,"");U(T(T({},q),{},{clientName:t}))},pattern:"[A-Za-z ]+"})]}),(0,Fs.jsxs)("div",{className:"quotations__form-group",children:[(0,Fs.jsx)("label",{children:"Client Phone *"}),(0,Fs.jsx)("input",{type:"tel",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Enter numbers only",value:q.clientPhone,onChange:e=>{const t=(e.target.value||"").toString().replace(/\D/g,"");U(T(T({},q),{},{clientPhone:t}))}})]}),(0,Fs.jsxs)("div",{className:"quotations__form-group",children:[(0,Fs.jsx)("label",{children:"Client Email"}),(0,Fs.jsx)("input",{type:"email",placeholder:"client@email.com",value:q.clientEmail,onChange:e=>U(T(T({},q),{},{clientEmail:(e.target.value||"").trim()}))})]})]})}),(0,Fs.jsxs)("div",{className:"quotations__form-section",children:[(0,Fs.jsxs)("div",{className:"quotations__form-section-header",children:[(0,Fs.jsx)("h3",{children:"Services"}),(0,Fs.jsxs)("button",{className:"btn-secondary",onClick:()=>{U(T(T({},q),{},{items:[...q.items,{service:"",description:"",quantity:1,price:0}]}))},children:[(0,Fs.jsx)(ms,{})," Add Item"]})]}),q.items.map((e,t)=>(0,Fs.jsxs)("div",{className:"quotations__line-item",children:[(0,Fs.jsxs)("div",{className:"quotations__line-item-row",children:[(0,Fs.jsxs)("div",{className:"quotations__form-group quotations__form-group--wide",children:[(0,Fs.jsx)("label",{children:"Service"}),B.length>0?(0,Fs.jsxs)("select",{value:e.service,onChange:e=>((e,t)=>{const n=B.find(e=>e.name===t);n&&U(a=>{const r=Array.isArray(a.items)?[...a.items]:[];for(;r.length<=e;)r.push({service:"",description:"",quantity:1,price:0});const i=r[e].service;r[e]=T(T({},r[e]),{},{service:t,price:n.price});const s=t&&""!==t.toString().trim(),o=e===r.length-1;return!s||!o||i&&""!==i.toString().trim()||r.push({service:"",description:"",quantity:1,price:0}),T(T({},a),{},{items:r})})})(t,e.target.value),children:[(0,Fs.jsx)("option",{value:"",children:"Select a service"}),B.map(e=>(0,Fs.jsx)("option",{value:e.name,children:e.name},e.id||e.name))]}):(0,Fs.jsx)("input",{type:"text",placeholder:"Enter service name",value:e.service,onChange:e=>ee(t,"service",e.target.value)})]}),e.service&&""!==e.service.toString().trim()?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("div",{className:"quotations__form-group",children:[(0,Fs.jsx)("label",{children:"Quantity"}),(0,Fs.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:e=>ee(t,"quantity",e.target.value)})]}),(0,Fs.jsxs)("div",{className:"quotations__form-group",children:[(0,Fs.jsx)("label",{children:"Price (\u20b9)"}),(0,Fs.jsx)("input",{type:"number",min:"0",value:e.price,onChange:e=>ee(t,"price",e.target.value)})]}),(0,Fs.jsxs)("div",{className:"quotations__form-group",children:[(0,Fs.jsx)("label",{children:"Total"}),(0,Fs.jsxs)("div",{className:"quotations__line-total",children:["\u20b9",((parseFloat(e.quantity)||0)*(parseFloat(e.price)||0)).toLocaleString("en-IN")]})]})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("div",{className:"quotations__form-group quotations__form-group--placeholder",children:[(0,Fs.jsx)("label",{children:"Quantity"}),(0,Fs.jsx)("div",{className:"quotations__line-total",children:"\u2014"})]}),(0,Fs.jsxs)("div",{className:"quotations__form-group quotations__form-group--placeholder",children:[(0,Fs.jsx)("label",{children:"Price (\u20b9)"}),(0,Fs.jsx)("div",{className:"quotations__line-total",children:"\u2014"})]}),(0,Fs.jsxs)("div",{className:"quotations__form-group quotations__form-group--placeholder",children:[(0,Fs.jsx)("label",{children:"Total"}),(0,Fs.jsx)("div",{className:"quotations__line-total",children:"\u2014"})]})]}),q.items.length>1&&(0,Fs.jsx)("button",{className:"quotations__remove-item",onClick:()=>(e=>{U(T(T({},q),{},{items:q.items.filter((t,n)=>n!==e)}))})(t),title:"Remove item",children:(0,Fs.jsx)(Ps,{})})]}),(0,Fs.jsxs)("div",{className:"quotations__form-group",children:[(0,Fs.jsx)("label",{children:"Description (optional)"}),(0,Fs.jsx)("input",{type:"text",placeholder:"Additional details about this service",value:e.description,onChange:e=>ee(t,"description",e.target.value)})]})]},t)),(0,Fs.jsxs)("div",{className:"quotations__summary",children:[(0,Fs.jsxs)("div",{className:"quotations__summary-row",children:[(0,Fs.jsx)("span",{children:"Subtotal:"}),(0,Fs.jsxs)("span",{children:["\u20b9",te().toLocaleString("en-IN")]})]}),(q.additionalCharges||[]).length>0&&(0,Fs.jsx)("div",{className:"quotations__additional-charges",children:(q.additionalCharges||[]).map((e,t)=>(0,Fs.jsxs)("div",{className:"quotations__charge-row",children:[(0,Fs.jsxs)("div",{className:"quotations__form-group quotations__charge-desc quotations__charge-desc--flex1",children:[(0,Fs.jsx)("label",{children:"Charge"}),(0,Fs.jsx)("input",{type:"text",placeholder:"Charge description",value:e.description,onChange:e=>ae(t,"description",e.target.value)})]}),(0,Fs.jsxs)("div",{className:"quotations__form-group quotations__charge-amount quotations__charge-amount--fixed",children:[(0,Fs.jsx)("label",{children:"Amount"}),(0,Fs.jsx)("input",{type:"number",min:"0",value:e.amount,onChange:e=>ae(t,"amount",e.target.value)})]}),(0,Fs.jsx)("div",{className:"quotations__charge-actions",children:(0,Fs.jsx)("button",{type:"button",onClick:()=>(e=>{const t=(q.additionalCharges||[]).filter((t,n)=>n!==e);U(T(T({},q),{},{additionalCharges:t}))})(t),className:"quotations__remove-item","aria-label":"Remove charge",children:(0,Fs.jsx)(Ps,{})})})]},t))}),(0,Fs.jsx)("div",{className:"quotations__add-charge-row",children:(0,Fs.jsx)("button",{type:"button",onClick:()=>{U(T(T({},q),{},{additionalCharges:[...q.additionalCharges||[],{description:"",amount:0}]}))},className:"btn-secondary",children:"+ Add Charge"})}),(0,Fs.jsxs)("div",{className:"quotations__summary-row quotations__summary-total",children:[(0,Fs.jsx)("span",{children:"Total:"}),(0,Fs.jsxs)("span",{children:["\u20b9",ne().toLocaleString("en-IN")]})]}),(0,Fs.jsxs)("div",{className:"quotations__form-group quotations__terms-section",style:{marginTop:"1.5rem"},children:[(0,Fs.jsx)("label",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"0.75rem",display:"block"},children:"Terms & Conditions"}),0===Object.keys(H).length?(0,Fs.jsxs)("div",{style:{padding:"1.5rem",background:"#f9fafb",border:"2px dashed #e5e7eb",borderRadius:"8px",textAlign:"center",color:"#6b7280"},children:[(0,Fs.jsx)("p",{style:{margin:"0 0 0.5rem 0"},children:"No terms and conditions available."}),(0,Fs.jsx)("p",{style:{margin:0,fontSize:"14px"},children:"Go to the Policy page to add your terms and conditions."})]}):(0,Fs.jsx)("div",{className:"quotations__policy-groups",children:Object.entries(H).sort((e,t)=>{let[n]=e,[a]=t;return n.localeCompare(a)}).map(e=>{let[t,n]=e;return(0,Fs.jsxs)("div",{className:"quotations__policy-group",style:{marginBottom:"1rem",border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden"},children:[(0,Fs.jsxs)("div",{style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",padding:"0.75rem 1rem",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},children:[(0,Fs.jsxs)("label",{style:{margin:0,color:"#ffffff",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"14px"},children:[(0,Fs.jsx)("input",{type:"checkbox",checked:re(t),ref:e=>{e&&(e.indeterminate=(e=>{const t=q.terms||[],n=(H[e]||[]).map(e=>e.content),a=n.filter(e=>t.includes(e)).length;return a>0&&a<n.length})(t))},onChange:e=>((e,t)=>{const n=q.terms||[],a=(H[e]||[]).map(e=>e.content);if(t){const e=[...new Set([...n,...a])];U(T(T({},q),{},{terms:e}))}else{const e=n.filter(e=>!a.includes(e));U(T(T({},q),{},{terms:e}))}})(t,e.target.checked),style:{cursor:"pointer",width:"16px",height:"16px",accentColor:"#ffffff"}}),(0,Fs.jsxs)("span",{children:["\ud83d\udccb ",t]})]}),(0,Fs.jsxs)("span",{style:{background:"rgba(255, 255, 255, 0.2)",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"12px",fontWeight:"500",color:"#ffffff"},children:[n.length," term",1!==n.length?"s":""]})]}),(0,Fs.jsx)("div",{style:{padding:"0.75rem 1rem",background:"#ffffff"},children:n.map((e,t)=>(0,Fs.jsxs)("label",{style:{display:"flex",alignItems:"flex-start",padding:"0.5rem",marginBottom:t===n.length-1?0:"0.5rem",cursor:"pointer",borderRadius:"4px",transition:"background 0.2s",background:(q.terms||[]).includes(e.content)?"#f0fdf4":"transparent"},onMouseEnter:t=>{(q.terms||[]).includes(e.content)||(t.currentTarget.style.background="#f9fafb")},onMouseLeave:t=>{(q.terms||[]).includes(e.content)||(t.currentTarget.style.background="transparent")},children:[(0,Fs.jsx)("input",{type:"checkbox",checked:(q.terms||[]).includes(e.content),onChange:()=>(e=>{const t=q.terms||[];t.includes(e)?U(T(T({},q),{},{terms:t.filter(t=>t!==e)})):U(T(T({},q),{},{terms:[...t,e]}))})(e.content),style:{marginTop:"0.25rem",marginRight:"0.75rem",cursor:"pointer",flexShrink:0,width:"16px",height:"16px",accentColor:"#10b981"}}),(0,Fs.jsx)("span",{style:{fontSize:"14px",color:"#374151",lineHeight:"1.5"},children:e.content})]},e.id))})]},t)})}),(q.terms||[]).length>0&&(0,Fs.jsxs)("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"6px",fontSize:"14px",color:"#166534"},children:[(0,Fs.jsx)("strong",{children:q.terms.length})," term",1!==q.terms.length?"s":""," selected"]})]})]})]}),(0,Fs.jsxs)("div",{className:"quotations__form-actions",children:[!u&&(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>{try{oe(se())}catch(Fu){}try{s(!1)}catch(Fu){}try{wl("\u26a0\ufe0f your form saved temporarily, please complete and submit soon.")}catch(Fu){}},type:"button",children:"Save Draft"}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>s(!1),children:"Cancel"}),(0,Fs.jsx)("button",{className:"btn-primary",onClick:async()=>{const e=(q.clientName||"").toString().replace(/[^A-Za-z\s]/g,"").trim(),t=(q.clientPhone||"").toString().replace(/\D/g,""),r=(q.clientEmail||"").toString().trim();if(!e)return void wl("Please provide a valid client name (letters and spaces only).");if(!t)return void wl("Please provide a valid client phone (numbers only).");if(r){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))return void wl("Please provide a valid email address.")}const i={clientName:e,clientEmail:r,clientPhone:t,items:Array.isArray(q.items)?q.items.filter(e=>e&&e.service&&""!==e.service.toString().trim()):[],services:(Array.isArray(q.items)?q.items.filter(e=>e&&e.service&&""!==e.service.toString().trim()):[]).map(e=>e.service),additionalCharges:q.additionalCharges||[],terms:q.terms||[],totalAmount:ne(),status:"pending",date:Bs(new Date)};try{const e=Dt.getToken();if(e)if(u){const t=await fetch("".concat(un,"/quotations/").concat(encodeURIComponent(u)),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(i)});if(t.ok){const e=await t.json(),r=n.map(t=>t.id===u?e:t);a(r);try{Vn.setJSONAndSync(fn,r)}catch(Fu){}}else{const e=n.map(e=>e.id===u?T(T(T({},e),i),{},{id:e.id}):e);a(e);try{Vn.setJSONAndSync(fn,e)}catch(Fu){}}h(null)}else{const t=T({id:bu(n)},i),r=await fetch("".concat(un,"/quotations"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(t)});if(r.ok){const e=await r.json(),t=[e,...n];a(t);try{Vn.setJSONAndSync(fn,t)}catch(Fu){}try{ie(rn({title:"Quotation created",message:"".concat(e.id," \u2014 ").concat(e.clientName||"No client"),type:"info",timestamp:(new Date).toISOString(),path:"/quotations",data:{openViewId:e.id}}))}catch(Fu){}}else{const e=T({id:bu(n)},i),t=[e,...n];a(t);try{Vn.setJSONAndSync(fn,t)}catch(Fu){}try{ie(rn({title:"Quotation created",message:"".concat(e.id," \u2014 ").concat(e.clientName||"No client"),type:"info",timestamp:(new Date).toISOString(),path:"/quotations",data:{openViewId:e.id}}))}catch(Fu){}}}else if(u){const e=n.map(e=>e.id===u?T(T(T({},e),i),{},{id:e.id}):e);a(e);try{Vn.setJSONAndSync(fn,e)}catch(Fu){}h(null)}else{const e=T({id:bu(n)},i),t=[e,...n];a(t);try{Vn.setJSONAndSync(fn,t)}catch(Fu){}try{ie(rn({title:"Quotation created",message:"".concat(e.id," \u2014 ").concat(e.clientName||"No client"),type:"info",timestamp:(new Date).toISOString(),path:"/quotations",data:{openViewId:e.id}}))}catch(Fu){}}}catch(Fu){if(console.warn("persist quotation failed",Fu),u){const e=n.map(e=>e.id===u?T(T(T({},e),i),{},{id:e.id}):e);a(e);try{Vn.setJSONAndSync(fn,e)}catch(o){}h(null)}else{const e=T({id:bu(n)},i),t=[e,...n];a(t);try{Vn.setJSONAndSync(fn,t)}catch(o){}try{ie(rn({title:"Quotation created",message:"".concat(e.id," \u2014 ").concat(e.clientName||"No client"),type:"info",timestamp:(new Date).toISOString(),path:"/quotations",data:{openViewId:e.id}}))}catch(o){}}}s(!1)},disabled:!q.clientName||!q.clientPhone||q.items.every(e=>!e.service),children:"Create Quotation"})]})]})}),o&&c&&(0,Fs.jsx)(Ms,{isOpen:!0,title:"Quotation ".concat(c.id),onClose:()=>l(!1),children:(0,Fs.jsxs)("div",{className:"quotations__view",children:[(0,Fs.jsxs)("div",{className:"quotations__view-header",children:[(0,Fs.jsxs)("div",{className:"quotations__view-header-top",children:[(0,Fs.jsx)("div",{className:"quotations__view-status-left",children:(0,Fs.jsxs)("span",{className:"quotations__status quotations__status--".concat(c.status),style:{background:"".concat(pe(c.status),"20"),color:pe(c.status)},children:[fe(c.status),c.status.charAt(0).toUpperCase()+c.status.slice(1)]})}),(0,Fs.jsx)("div",{}),(0,Fs.jsx)("div",{className:"quotations__view-top-actions",children:(0,Fs.jsxs)("button",{className:"btn-secondary",onClick:()=>(e=>{const t=e.items&&e.items.length>0?e.items:(e.services||[]).map(e=>{const t=B.find(t=>t.name===e)||{};return{service:e,description:"",quantity:1,price:t.price||0}});U({clientName:e.clientName||"",clientEmail:e.clientEmail||"",clientPhone:e.clientPhone||"",services:e.services||[],items:t,additionalCharges:e.additionalCharges||[],terms:e.terms||[]}),h(e.id),l(!1),s(!0)})(c),title:"Edit quotation",children:[(0,Fs.jsx)(Hi,{})," Edit"]})})]}),(0,Fs.jsxs)("div",{className:"quotations__view-client-row",children:[(0,Fs.jsxs)("div",{className:"quotations__view-client",children:[(0,Fs.jsx)("h3",{children:(0,Fs.jsx)(cu,{text:c.clientName,query:m})}),(0,Fs.jsx)("p",{children:(0,Fs.jsx)(cu,{text:c.clientPhone,query:m})}),(0,Fs.jsx)("p",{children:(0,Fs.jsx)(cu,{text:c.clientEmail,query:m})})]}),(0,Fs.jsxs)("div",{className:"quotations__view-date-right",children:[(0,Fs.jsx)("label",{children:"Date"}),(0,Fs.jsx)("span",{children:(0,Fs.jsx)(cu,{text:Us(c.date),query:m})})]})]})]}),(0,Fs.jsxs)("div",{className:"quotations__view-section",children:[(0,Fs.jsx)("h4",{children:"Services"}),(0,Fs.jsx)("div",{className:"quotations__view-items",children:(()=>{const e=Array.isArray(c.items)?c.items.filter(e=>e&&e.service&&""!==e.service.toString().trim()):[];return e.length>0?(0,Fs.jsxs)("table",{className:"quotations__items-table",children:[(0,Fs.jsx)("thead",{children:(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("th",{children:"Service"}),(0,Fs.jsx)("th",{className:"quotations__item-qty",children:"Qty"}),(0,Fs.jsx)("th",{className:"quotations__item-unit",children:"Unit Price (\u20b9)"}),(0,Fs.jsx)("th",{className:"quotations__item-line",children:"Line Total (\u20b9)"})]})}),(0,Fs.jsx)("tbody",{children:e.map((e,t)=>{const n=parseFloat(e.quantity)||0,a=parseFloat(e.price)||0,r=n*a;return(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("td",{children:(0,Fs.jsx)(cu,{text:e.service||e.description||"Service",query:m})}),(0,Fs.jsx)("td",{className:"quotations__item-qty",children:n}),(0,Fs.jsx)("td",{className:"quotations__item-unit",children:(0,Fs.jsx)(cu,{text:"\u20b9".concat(a.toLocaleString("en-IN")),query:m})}),(0,Fs.jsx)("td",{className:"quotations__item-line",children:(0,Fs.jsx)(cu,{text:"\u20b9".concat(r.toLocaleString("en-IN")),query:m})})]},t)})})]}):(0,Fs.jsx)("ul",{className:"quotations__view-services",children:Array.isArray(c.services)&&c.services.length>0?c.services.map((e,t)=>(0,Fs.jsx)("li",{children:(0,Fs.jsx)(cu,{text:e,query:m})},t)):(0,Fs.jsx)("li",{children:"No services listed"})})})()})]}),c.additionalCharges&&c.additionalCharges.length>0&&(0,Fs.jsxs)("div",{className:"quotations__view-section",children:[(0,Fs.jsx)("h4",{children:"Additional Charges"}),(0,Fs.jsx)("ul",{className:"quotations__view-charges",children:c.additionalCharges.map((e,t)=>(0,Fs.jsxs)("li",{children:[(0,Fs.jsx)("span",{className:"quotations__charge-desc",children:(0,Fs.jsx)(cu,{text:e.description||"Charge",query:m})}),(0,Fs.jsx)("span",{className:"quotations__charge-amount",children:(0,Fs.jsx)(cu,{text:"\u20b9".concat((parseFloat(e.amount)||0).toLocaleString("en-IN")),query:m})})]},t))})]}),(0,Fs.jsxs)("div",{className:"quotations__view-section",children:[(0,Fs.jsx)("h4",{children:"Total Amount"}),(0,Fs.jsx)("div",{className:"quotations__view-amount",children:(0,Fs.jsx)(cu,{text:"\u20b9".concat(c.totalAmount.toLocaleString("en-IN")),query:m})})]}),"pending"===c.status&&(0,Fs.jsxs)("div",{className:"quotations__view-actions",children:[(0,Fs.jsxs)("button",{className:"btn-success",onClick:()=>{Z(c.id,"approved"),l(!1)},children:[(0,Fs.jsx)(zi,{})," Approve"]}),(0,Fs.jsxs)("button",{className:"btn-danger",onClick:()=>{Z(c.id,"rejected"),l(!1)},children:[(0,Fs.jsx)(Ps,{})," Reject"]})]})]})})]})},wu="photoflow_billing_draft",Nu=()=>{const{company:e,bank:t}=k(e=>e.settings),n=w(),[a,i]=(0,r.useState)([]),[s,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),[p,f]=(0,r.useState)(""),[v,g]=(0,r.useState)("all"),[y,x]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),[_,N]=(0,r.useState)("amount"),[S,C]=(0,r.useState)("desc"),[E,P]=(0,r.useState)("table"),[A,O]=(0,r.useState)(!1),[L,D]=(0,r.useState)({id:!0,quotationId:!0,services:!0,amount:!0,paid:!0,balance:!0,status:!0}),R=(0,r.useRef)(null),I=ou(),z=(0,r.useRef)(null),[F,M]=(0,r.useState)(1),[q,U]=(0,r.useState)(10),[B,V]=(0,r.useState)({amount:0,paymentMethod:"Bank Transfer",paymentDate:Bs(new Date),reference:"",notes:""}),[H,W]=(0,r.useState)([]),[J,Q]=(0,r.useState)([]),[$,K]=(0,r.useState)([]),[Y,G]=(0,r.useState)(""),[X,Z]=(0,r.useState)(""),[ee,te]=(0,r.useState)(!1),[ne,ae]=(0,r.useState)(-1),re=(0,r.useRef)(null),ie=(0,r.useRef)(null);(0,r.useEffect)(()=>{function e(e){if(!A)return;const t=e.target;R.current&&R.current.contains(t)||z.current&&z.current.contains(t)||O(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[A]),(0,r.useEffect)(()=>{try{const e=Vn.getJSON(pn,null);if(Array.isArray(e)&&e.length>0){const t=e.map(e=>({id:e.id,name:e.name,price:Number(e.basePrice)||0}));W(t)}}catch(Fu){}(async()=>{try{const e=await Vn.syncFromServer(pn);if(Array.isArray(e)&&e.length>0){const t=e.map(e=>({id:e.id,name:e.name,price:Number(e.basePrice)||Number(e.price)||0}));W(t)}}catch(Fu){}})(),(async()=>{try{const e=await Vn.syncFromServer(fn);Array.isArray(e)&&e.length>0&&Q(e)}catch(Fu){}try{De()}catch(Fu){}})()},[]),(0,r.useEffect)(()=>{const e=e=>{try{const t=e&&e.detail?e.detail:null;if(!t||"/billing"!==t.path)return;const n=t.state||{};if(n.openCreate&&u(!0),n.openViewId){const e=n.openViewId,t=a.find(t=>t.id===e);t?Ne(t):oe.current=e}}catch(Fu){}};return window.addEventListener("ui:notification",e),()=>window.removeEventListener("ui:notification",e)},[a]),(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{const t=await Vn.syncFromServer(xn);e&&Array.isArray(t)&&t.length>0&&i(t)}catch(Fu){}})(),()=>{e=!1}},[]);const se=Xa(),oe=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e,t;if(null!==se&&void 0!==se&&null!==(e=se.state)&&void 0!==e&&e.openCreate){u(!0);try{window.history.replaceState({},document.title)}catch(Fu){}}if(null!==se&&void 0!==se&&null!==(t=se.state)&&void 0!==t&&t.openViewId){const e=se.state.openViewId,t=a.find(t=>t.id===e);t?Ne(t):oe.current=e;try{window.history.replaceState({},document.title)}catch(Fu){}}},[]),(0,r.useEffect)(()=>{if(oe.current){const e=oe.current,t=a.find(t=>t.id===e);if(t){Ne(t),oe.current=null;try{window.history.replaceState({},document.title)}catch(Fu){}}}},[a]);const le=e=>{m(e),V({amount:e.amount-e.paid,paymentMethod:"Bank Transfer",paymentDate:Bs(new Date),reference:"",notes:""}),o(!0)},ce=()=>"INV-".concat(Date.now().toString().slice(-6)),[de,ue]=(0,r.useState)(""),[he,me]=(0,r.useState)({clientName:"",clientEmail:"",clientPhone:"",items:[{service:"",description:"",quantity:1,price:0}],additionalCharges:[],issueDate:Bs(new Date),quotationId:""}),pe=e=>e?"".concat(wu,"_").concat(String(e)):wu,fe=e=>{const t={newInvoiceData:he,previewInvoiceId:de};sessionStorage.setItem(e,JSON.stringify(t))},ve=e=>{sessionStorage.removeItem(e)},ge=()=>({clientName:"",clientEmail:"",clientPhone:"",items:[{service:"",description:"",quantity:1,price:0}],additionalCharges:[],issueDate:Bs(new Date),quotationId:""});(0,r.useEffect)(()=>{if(d&&he){(he.clientName||he.clientEmail||he.clientPhone||he.items.some(e=>e.service||e.description||e.price>0)||he.additionalCharges.length>0||he.quotationId)&&fe(wu)}},[he,d]);const ye=e=>{if(!e)return void me(T(T({},he),{},{quotationId:""}));const t=Array.isArray(J)&&J.length>0?J:Re(),n=Array.isArray(t)?t.find(t=>String(t.id||t.quotationId||t.ref)===String(e)):null;if(!n)return void me(T(T({},he),{},{quotationId:e}));const a=String(n.id||n.quotationId||n.ref),r=Array.isArray(n.items)&&n.items.length>0?n.items.map(e=>({service:e.service||"",description:e.description||"",quantity:e.quantity||1,price:e.price||0})):Array.isArray(n.services)?n.services.map(e=>({service:e,description:"",quantity:1,price:0})):[];me(T(T({},he),{},{quotationId:a,clientName:n.clientName||he.clientName,clientEmail:n.clientEmail||he.clientEmail,clientPhone:n.clientPhone||he.clientPhone,items:r.length>0?r:he.items,additionalCharges:Array.isArray(n.additionalCharges)?n.additionalCharges:he.additionalCharges}))},xe=(e,t,n)=>{const a=[...he.items];a[e][t]="quantity"===t?""===n?"":parseInt(n,10)||0:"price"===t?""===n?"":parseFloat(n)||0:n,me(T(T({},he),{},{items:a}))},be=()=>he.items.reduce((e,t)=>e+(parseFloat(t.quantity)||0)*(parseFloat(t.price)||0),0),je=e=>{const t=(e.clientPhone||e.client_phone||"").toString();if(!t)return void wl("No phone number available for this invoice.");const n=t.replace(/\D/g,"");if(!n)return void wl("No valid phone number available for this invoice.");const a="Hello ".concat(e.clientName||"",", this is regarding invoice ").concat(e.id,". Amount due: \u20b9").concat((e.amount||0).toLocaleString("en-IN"),". Please contact us if you have any questions."),r="https://wa.me/".concat(n,"?text=").concat(encodeURIComponent(a));try{window.open(r,"_blank")}catch(i){console.error(i)}},_e=()=>be()+(he.additionalCharges||[]).reduce((e,t)=>e+(parseFloat(t.amount)||0),0),we=(e,t,n)=>{const a=[...he.additionalCharges||[]];a[e]=T(T({},a[e]),{},"amount"===t?{[t]:""===n?"":parseFloat(n)||0}:{[t]:n}),me(T(T({},he),{},{additionalCharges:a}))},Ne=e=>{m(e),c(!0)},Se=async e=>{if(!await I("Are you sure you want to delete this invoice?"))return;try{const t=Dt.getToken();t&&await fetch("".concat(un,"/billing/").concat(encodeURIComponent(e)),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})}catch(Fu){console.warn("invoice delete failed",Fu)}const t=a.filter(t=>t.id!==e);i(t);try{Vn.setJSONAndSync(xn,t)}catch(Fu){}},ke=n=>{try{const a=Array.isArray(n.items)&&n.items.length>0?n.items:[],r=a.length>0?a.map(e=>"\n        <tr>\n          <td>".concat(e.service||"","</td>\n          <td>").concat(e.description||"",'</td>\n          <td style="text-align:center">').concat(e.quantity||"",'</td>\n          <td style="text-align:right">\u20b9').concat((parseFloat(e.price)||0).toLocaleString("en-IN"),'</td>\n          <td style="text-align:right">\u20b9').concat(((parseFloat(e.price)||0)*(parseFloat(e.quantity)||0)).toLocaleString("en-IN"),"</td>\n        </tr>")).join(""):"",i=Array.isArray(n.additionalCharges)?n.additionalCharges:[],s=i.length>0?i.map(e=>"\n        <tr>\n          <td></td>\n          <td>".concat(e.description||"Additional charge",'</td>\n          <td></td>\n          <td style="text-align:right"></td>\n          <td style="text-align:right">\u20b9').concat((parseFloat(e.amount)||0).toLocaleString("en-IN"),"</td>\n        </tr>")).join(""):"",o=a.reduce((e,t)=>e+(parseFloat(t.price)||0)*(parseFloat(t.quantity)||0),0),l=o+i.reduce((e,t)=>e+(parseFloat(t.amount)||0),0),c=e=>{if(0===e)return"zero";const t=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],a=e=>{let r="";return e>=1e7&&(r+=a(Math.floor(e/1e7))+" crore ",e%=1e7),e>=1e5&&(r+=a(Math.floor(e/1e5))+" lakh ",e%=1e5),e>=1e3&&(r+=a(Math.floor(e/1e3))+" thousand ",e%=1e3),e>=100&&(r+=a(Math.floor(e/100))+" hundred ",e%=100),e>0&&(r+=e<20?t[e]+" ":n[Math.floor(e/10)]+(e%10?" "+t[e%10]:"")+" "),r.trim()};return a(e).replace(/\s+/g," ").trim()},d=Math.floor(l),u=Math.round(100*(l-d)),h=c(d)||"zero",m=u?c(u):"",p="".concat(h," rupees").concat(u?" and "+m+" paise":""," only"),f=p.charAt(0).toUpperCase()+p.slice(1),v='<!doctype html>\n      <html>\n      <head>\n        <meta charset="utf-8" />\n        <title>Invoice '.concat(n.id,'</title>\n        <style>\n          body{font-family:Arial,Helvetica,sans-serif;color:#111;padding:24px}\n          h1{color:#6366f1;margin:0 0 8px}\n          .invoice-header { display:flex; justify-content:space-between; align-items:flex-start; gap:16px }\n          .invoice-left { flex:1 }\n          .invoice-left p { margin:4px 0; color:#374151 }\n          .company-block { width:260px; text-align:right; display:flex; flex-direction:column; align-items:flex-end; gap:6px }\n          .company-logo { width:64px; height:64px; display:block }\n          .company-name { font-weight:700; color:#1f2937 }\n          .company-contact { font-size:0.9rem; color:#6b7280 }\n          table{width:100%;border-collapse:collapse;margin-top:12px}\n          th,td{border:1px solid #ddd;padding:8px}\n          th{background:#f3f4f6;text-align:left}\n          .right{text-align:right}\n        </style>\n      </head>\n      <body>\n        <div class="invoice-header">\n          <div class="invoice-left">\n            <h1>Invoice ').concat(n.id,"</h1>\n            <p><strong>Client:</strong> ").concat(n.clientName||"","</p>\n            <p><strong>Phone:</strong> ").concat(n.clientPhone||"","</p>\n            <p><strong>Email:</strong> ").concat(n.clientEmail||"",'</p>\n            <div style="display:flex; justify-content:space-between; align-items:center; gap:16px;">\n              <p style="margin:0;"><strong>Issue Date:</strong> ').concat(Us(n.issueDate)||"","</p>\n              ").concat(n.quotationId?'<p style="margin:0;"><strong>Quotation ID:</strong> '.concat(n.quotationId,"</p>"):"",'\n            </div>\n          </div>\n          <div class="company-block">\n            ').concat(e.logoPreview?'\n            <img src="'.concat(e.logoPreview,'" alt="Company Logo" class="company-logo" style="width:64px;height:64px;border-radius:4px;object-fit:cover" />\n            '):'\n            <div class="company-logo">\n              \x3c!-- inline placeholder SVG logo --\x3e\n              <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <rect width="24" height="24" rx="4" fill="#6366f1" />\n                <path d="M6 12h12" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              </svg>\n            </div>\n            ','\n            <div class="company-name">').concat(e.name||hn,'</div>\n            <div class="company-contact">\n              ').concat(e.phone?"Phone: ".concat(e.phone,"<br/>"):"Phone: +91 12345 67890<br/>","\n              ").concat(e.email?"Email: ".concat(e.email):"Email: info@example.com","\n              ").concat(e.address?"<br/>".concat(e.address):"",'\n            </div>\n          </div>\n        </div>\n\n        <table>\n          <thead>\n            <tr>\n              <th>Service</th>\n              <th>Description</th>\n              <th>Qty</th>\n              <th class="right">Unit</th>\n              <th class="right">Line Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            ').concat(r,'\n            <tr>\n              <td colspan="4" style="text-align:right;font-weight:700">Subtotal</td>\n              <td style="text-align:right;font-weight:700">\u20b9').concat(o.toLocaleString("en-IN"),"</td>\n            </tr>\n            ").concat(i.length>0?'\n            <tr>\n              <td style="font-weight:700">Additional Charges</td>\n            </tr>\n            '.concat(s,"\n            "):"",'\n            <tr>\n              <td colspan="4" style="text-align:right;font-weight:900">Total</td>\n              <td style="text-align:right;font-weight:900">\u20b9').concat(l.toLocaleString("en-IN"),'</td>\n            </tr>\n          </tbody>\n        </table>\n        <div style="margin-top:12px;font-weight:600;text-align:right">Amount (in words): ').concat(f,'</div>\n\n        \x3c!-- Signature blocks --\x3e\n        <div style="margin-top:36px; display:flex; gap:24px;">\n          <div style="flex:1; text-align:left;">\n            <div style="height:72px; border-bottom:1px solid #ddd"></div>\n            <div style="margin-top:8px; font-weight:600">Client Signature</div>\n            <div style="color:#374151">').concat(n.clientSignature||"",'</div>\n          </div>\n          <div style="flex:1; text-align:right;">\n            <div style="height:72px; border-bottom:1px solid #ddd"></div>\n            <div style="margin-top:8px; font-weight:600">Authorized Signatory</div>\n            <div style="color:#374151">').concat(e.name||hn||"",'</div>\n            <div style="color:#374151; margin-top:4px; font-size:0.95rem">').concat(e.phone?"Phone: ".concat(e.phone):"Phone: +91 12345 67890",'</div>\n            <div style="color:#374151; font-size:0.95rem">').concat(e.email?"Email: ".concat(e.email):"Email: info@example.com",'</div>\n          </div>\n        </div>\n        <br/>\n        <br/>\n        <br/>\n        <br/>\n\n        \x3c!-- Payment details: Bank (left) and UPI (right) --\x3e\n        <div style="margin-top:24px; display:flex; justify-content:space-between;">\n          <div style="width:100%; border:1px solid #e5e7eb; border-radius:8px; padding:12px; background:#fafafa;">\n            <div style="display:flex; gap:24px; align-items:flex-start; justify-content:space-between;">\n          \x3c!-- Bank details --\x3e\n          <div style="flex:1; background:#ffffff; padding:12px;">\n            <h3 style="margin:0 0 8px; color:#1f2937; font-size:1rem">Payment Details</h3>\n            <br/>\n            <p style="margin:4px 0"><strong>Bank:</strong> ').concat(t.bankName||"ABC Bank",'</p>\n            <p style="margin:4px 0"><strong>Account Name:</strong> ').concat(t.accountHolder||e.name||hn||"",'</p>\n            <p style="margin:4px 0"><strong>Account Number:</strong> ').concat(t.accountNumber||"123456789012",'</p>\n            <p style="margin:4px 0"><strong>Branch:</strong> ').concat(t.branch||"Main Branch",'</p>\n            <p style="margin:4px 0"><strong>IFSC:</strong> ').concat(t.ifsc||"ABCD0123456","</p>\n            ").concat(t.address?'<p style="margin:4px 0"><strong>Address:</strong> '.concat(t.address,"</p>"):"",'\n            <p style="margin:4px 0"><strong>Note:</strong> After the successful payment, please inform us with the Invoice ID (').concat(n.id,') as the payment reference.</p>\n          </div>\n\n          \x3c!-- UPI details with QR placeholder --\x3e\n          <div style="width:220px; text-align:center; background:#ffffff; padding:12px; border-radius:6px; border:1px solid #e5e7eb;">\n            <h3 style="margin:0 0 8px; color:#1f2937; font-size:1rem">UPI</h3>\n            <p style="margin:4px 0; font-weight:600;">UPI ID: ').concat(t.upiId||"photographer@upi",'</p>\n            <div style="margin-top:8px; display:flex; justify-content:center;">\n              ').concat(t.upiQrPreview?'\n              <img src="'.concat(t.upiQrPreview,'" alt="UPI QR" style="width:140px;height:140px;border-radius:6px;object-fit:cover;border:1px solid #e5e7eb" />\n              '):'\n              <img src="'.concat(xu,'" alt="UPI QR" style="width:140px;height:140px;border-radius:6px;object-fit:cover;border:1px solid #e5e7eb" />\n              '),'\n            </div>\n            <div style="margin-top:8px; font-size:0.85rem; color:#6b7280">Scan or use the UPI ID to pay</div>\n            </div>\n          </div>\n        </div>\n      </body>\n      </html>'),g=window.open("","_blank");if(!g)return void wl("Popup blocked. Please allow popups for this site to download the PDF.");g.document.open(),g.document.write(v),g.document.close(),g.focus(),setTimeout(()=>{try{g.print()}catch(Fu){console.error(Fu)}},500)}catch(Fu){console.error("download error",Fu),wl("Unable to prepare the invoice for download.")}},Ce=e=>{_===e?C("asc"===S?"desc":"asc"):(N(e),C("desc"))},Ee=()=>Pe.every(e=>L[e.key]),Pe=[{key:"id",label:"Invoice ID"},{key:"quotationId",label:"Quotation ID"},{key:"services",label:"Services"},{key:"amount",label:"Amount"},{key:"paid",label:"Paid"},{key:"balance",label:"Balance"},{key:"status",label:"Status"}],Ae=e=>{switch(e){case"paid":return(0,Fs.jsx)(zi,{});case"partial":case"pending":default:return(0,Fs.jsx)(Fi,{});case"overdue":return(0,Fs.jsx)(Qi,{})}},Te=e=>{if(!e)return"Bank Transfer";const t=String(e).toLowerCase().trim();return t.includes("upi")?"UPI":t.includes("cash")?"Cash":t.includes("cheque")?"Cheque":(t.includes("bank")||t.includes("transfer")||t.includes("account"),"Bank Transfer")},Oe={total:a.reduce((e,t)=>e+t.amount,0),paid:a.reduce((e,t)=>e+t.paid,0),pending:a.reduce((e,t)=>"paid"!==t.status?e+(t.amount-t.paid):e,0),overdue:a.filter(e=>"overdue"===e.status).length},Le=(()=>{const e=(p||"").toString().trim().toLowerCase();let t=a.filter(t=>{if(y||b){const e=t.issueDate?new Date(t.issueDate):null;if(!e)return!1;if(y){const t=new Date(y);if(t.setHours(0,0,0,0),e<t)return!1}if(b){const t=new Date(b);if(t.setHours(23,59,59,999),e>t)return!1}}const n=((null===t||void 0===t?void 0:t.clientName)||"").toString().toLowerCase(),a=((null===t||void 0===t?void 0:t.id)||"").toString().toLowerCase(),r=((null===t||void 0===t?void 0:t.issueDate)||"").toString().toLowerCase(),i=((null===t||void 0===t?void 0:t.quotationId)||"").toString().toLowerCase(),s=(Array.isArray(t.services)?t.services:Array.isArray(t.items)?t.items.map(e=>e.service||""):[]).join(" ").toLowerCase(),o=t.amount,l=void 0===o||null===o?NaN:Number(o);let c=!1;if(e){if(c=n.includes(e)||a.includes(e)||r.includes(e)||i.includes(e)||s.includes(e),!c){const t=e.replace(/[^0-9.]/g,"");if(t){const e=parseFloat(t);Number.isNaN(e)||Number.isNaN(l)||(Math.abs(l-e)<.001||String(l).toLowerCase().includes(t))&&(c=!0)}}}else c=!0;const d="all"===v||t.status===v;return c&&d});return t.sort((e,t)=>{let n=0;switch(_){case"name":n=e.clientName.localeCompare(t.clientName);break;case"amount":n=e.amount-t.amount;break;default:n=0}return"asc"===S?n:-n}),t})(),De=async()=>{G("");try{const e=await Vn.syncFromServer(fn);if(Array.isArray(e))return void K(e);K([])}catch(Fu){G("Could not load quotations"),console.warn("loadDropdownQuotations: failed",Fu),K([])}},Re=()=>$||[],Ie=Math.ceil(Le.length/q),ze=(F-1)*q,Fe=ze+q,Me=Le.slice(ze,Fe);(0,r.useEffect)(()=>{M(1)},[p,v,y,b,_,S]);const qe=e=>{M(e)};return(0,Fs.jsxs)("div",{className:"billing",children:[(0,Fs.jsxs)("div",{className:"billing__header",children:[(0,Fs.jsxs)("div",{className:"billing__title-section",children:[(0,Fs.jsxs)("h1",{className:"billing__title",children:[(0,Fs.jsx)(vs,{}),"Billing & Invoices"]}),(0,Fs.jsx)("p",{className:"billing__subtitle",children:"Manage and track client invoices and payments"})]}),(0,Fs.jsxs)("div",{className:"billing__header-actions",children:[(0,Fs.jsxs)("button",{className:"btn-primary billing__export-btn",onClick:()=>{try{const e=Array.isArray(Le)&&Le.length>0?Le:a;if(!e||0===e.length)return void wl("No invoices to export");const t=["S/N"];L.id&&t.push("Invoice ID"),L.quotationId&&t.push("Quotation ID"),t.push("Client Name","Client Phone","Client Email"),Pe.forEach(e=>{"id"!==e.key&&"quotationId"!==e.key&&L[e.key]&&t.push(e.label)});const n=e=>'"'+(void 0===e||null===e?"":String(e)).replace(/"/g,'""')+'"',r=e.map((e,t)=>{const a=[t+1];return L.id&&a.push(e.id||""),L.quotationId&&a.push(e.quotationId||""),a.push(e.clientName||"",e.clientPhone||"",e.clientEmail||""),Pe.forEach(t=>{if("id"!==t.key&&"quotationId"!==t.key&&L[t.key])switch(t.key){case"services":a.push(Array.isArray(e.services)?e.services.join("; "):e.services||"");break;case"amount":a.push(parseFloat(e.amount)||0);break;case"paid":a.push(parseFloat(e.paid)||0);break;case"balance":{const t=parseFloat(e.amount)||0,n=parseFloat(e.paid)||0;a.push(t-n);break}case"status":a.push(e.status||"");break;default:a.push("")}}),a.map(n).join(",")}),i=[t.map(n).join(","),...r].join("\r\n"),s=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(s),l=document.createElement("a");l.href=o;const c=Bs(new Date);l.download="invoices_export_".concat(c,".csv"),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)}catch(Fu){console.error("export error",Fu),wl("Unable to export invoices")}},title:"Export Invoices",children:[(0,Fs.jsx)(bs,{})," Export"]}),(0,Fs.jsxs)("button",{className:"btn-primary",onClick:()=>{try{const e=Vn.getJSON(fn,null)||Vn.getJSON(mn,null)||null;Array.isArray(e)?Q(e):e&&Array.isArray(e.quotations)&&Q(e.quotations)}catch(Fu){}try{De()}catch(Fu){}try{const e=(e=>{try{const t=sessionStorage.getItem(e);return t?JSON.parse(t):null}catch(Fu){return null}})(pe());if(e&&"object"===typeof e)return e.newInvoiceData&&me(e.newInvoiceData),e.previewInvoiceId&&ue(e.previewInvoiceId),void u(!0)}catch(Fu){}me({clientName:"",clientEmail:"",clientPhone:"",items:[{service:"",description:"",quantity:1,price:0}],additionalCharges:[],issueDate:Bs(new Date),quotationId:""}),ue(ce()),u(!0)},title:"Create New Bill",children:[(0,Fs.jsx)(ms,{})," New Bill"]})]})]}),(0,Fs.jsxs)("div",{className:"billing__stats",children:[(0,Fs.jsxs)("div",{className:"billing__stat-card",children:[(0,Fs.jsx)("div",{className:"billing__stat-icon billing__stat-icon--indigo",children:(0,Fs.jsx)(vs,{className:"billing__stat-svg--indigo"})}),(0,Fs.jsxs)("div",{className:"billing__stat-info",children:[(0,Fs.jsx)("h3",{children:a.length}),(0,Fs.jsx)("p",{children:"Total Invoices"})]})]}),(0,Fs.jsxs)("div",{className:"billing__stat-card",children:[(0,Fs.jsx)("div",{className:"billing__stat-icon billing__stat-icon--indigo",children:(0,Fs.jsx)(Ki,{className:"billing__stat-svg--indigo"})}),(0,Fs.jsxs)("div",{className:"billing__stat-info",children:[(0,Fs.jsxs)("h3",{children:["\u20b9",Oe.total.toLocaleString("en-IN")]}),(0,Fs.jsx)("p",{children:"Total Amount"})]})]}),(0,Fs.jsxs)("div",{className:"billing__stat-card",children:[(0,Fs.jsx)("div",{className:"billing__stat-icon billing__stat-icon--amber",children:(0,Fs.jsx)(Fi,{className:"billing__stat-svg--amber"})}),(0,Fs.jsxs)("div",{className:"billing__stat-info",children:[(0,Fs.jsxs)("h3",{children:["\u20b9",Oe.pending.toLocaleString("en-IN")]}),(0,Fs.jsx)("p",{children:"Pending Payment"})]})]}),(0,Fs.jsxs)("div",{className:"billing__stat-card",children:[(0,Fs.jsx)("div",{className:"billing__stat-icon billing__stat-icon--green",children:(0,Fs.jsx)(Di,{className:"billing__stat-svg--green"})}),(0,Fs.jsxs)("div",{className:"billing__stat-info",children:[(0,Fs.jsxs)("h3",{children:["\u20b9",Oe.paid.toLocaleString("en-IN")]}),(0,Fs.jsx)("p",{children:"Total Paid"})]})]})]}),(0,Fs.jsxs)("div",{className:"billing__toolbar",children:[(0,Fs.jsxs)("div",{className:"billing__search",children:[(0,Fs.jsx)(xs,{}),(0,Fs.jsx)("input",{type:"text",placeholder:"Search invoices by ID, Name, Date, Quotation ID, Service, or Amount...",value:p,onChange:e=>f(e.target.value)})]}),(0,Fs.jsxs)("div",{className:"billing__toolbar-right",children:[(0,Fs.jsxs)("div",{className:"billing__date-range",children:[(0,Fs.jsx)("label",{children:"From"}),(0,Fs.jsx)("input",{type:"date",value:y,onChange:e=>x(e.target.value)}),(0,Fs.jsx)("label",{children:"To"}),(0,Fs.jsx)("input",{type:"date",value:b,onChange:e=>j(e.target.value)})]}),(0,Fs.jsxs)("div",{className:"billing__filter",children:[(0,Fs.jsx)(Yi,{}),(0,Fs.jsxs)("select",{value:v,onChange:e=>g(e.target.value),children:[(0,Fs.jsx)("option",{value:"all",children:"All Status"}),(0,Fs.jsx)("option",{value:"pending",children:"Pending"}),(0,Fs.jsx)("option",{value:"partial",children:"Partial"}),(0,Fs.jsx)("option",{value:"paid",children:"Paid"}),(0,Fs.jsx)("option",{value:"overdue",children:"Overdue"})]})]}),"table"===E&&(0,Fs.jsxs)("div",{className:"billing__column-selector",children:[(0,Fs.jsx)("button",{ref:z,className:"billing__column-btn",onClick:()=>O(!A),title:"Column Preferences",children:(0,Fs.jsx)(Mi,{})}),A&&(0,Fs.jsxs)("div",{ref:R,className:"billing__column-menu",children:[(0,Fs.jsxs)("div",{className:"billing__column-menu-header",children:[(0,Fs.jsx)("span",{children:"Show Columns"}),(0,Fs.jsx)("button",{onClick:()=>O(!1),children:(0,Fs.jsx)(Ps,{})})]}),(0,Fs.jsxs)("div",{className:"billing__column-menu-items",children:[(0,Fs.jsxs)("label",{className:"billing__column-menu-item billing__column-menu-item--select-all",children:[(0,Fs.jsx)("input",{type:"checkbox",checked:Ee(),onChange:e=>(e=>{const t={};Pe.forEach(n=>{t[n.key]=e}),D(t)})(e.target.checked)}),Ee()?(0,Fs.jsx)(Ii,{}):(0,Fs.jsx)(Cs,{}),(0,Fs.jsx)("span",{children:(0,Fs.jsx)("strong",{children:"Select All"})})]}),(0,Fs.jsx)("div",{className:"billing__column-menu-divider"}),Pe.map(e=>(0,Fs.jsxs)("label",{className:"billing__column-menu-item",children:[(0,Fs.jsx)("input",{type:"checkbox",checked:L[e.key],onChange:()=>{return t=e.key,void D(T(T({},L),{},{[t]:!L[t]}));var t}}),L[e.key]?(0,Fs.jsx)(Ii,{}):(0,Fs.jsx)(Cs,{}),(0,Fs.jsx)("span",{children:e.label})]},e.key))]})]})]}),(0,Fs.jsxs)("div",{className:"billing__view-toggle",children:[(0,Fs.jsx)("button",{className:"billing__view-btn ".concat("table"===E?"active":""),onClick:()=>P("table"),title:"Table View",children:(0,Fs.jsx)(ts,{})}),(0,Fs.jsx)("button",{className:"billing__view-btn ".concat("grid"===E?"active":""),onClick:()=>P("grid"),title:"Grid View",children:(0,Fs.jsx)(Es,{})})]})]})]}),(0,Fs.jsx)("div",{className:"billing__content",children:0===Le.length?(0,Fs.jsxs)("div",{className:"billing__empty",children:[(0,Fs.jsx)(vs,{}),(0,Fs.jsx)("h3",{children:"No invoices found"}),(0,Fs.jsx)("p",{children:"Try adjusting your filters"})]}):"table"===E?(0,Fs.jsx)("div",{className:"billing__table-container",children:(0,Fs.jsxs)("table",{className:"billing__table",children:[(0,Fs.jsx)("thead",{children:(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("th",{children:"S/N"}),L.id&&(0,Fs.jsx)("th",{children:"Invoice ID"}),L.quotationId&&(0,Fs.jsx)("th",{children:"Quotation ID"}),(0,Fs.jsxs)("th",{className:"billing__sortable-header",onClick:()=>Ce("name"),children:["Client "," ","name"===_?"asc"===S?(0,Fs.jsx)(Ss,{}):(0,Fs.jsx)(Ns,{}):(0,Fs.jsx)(ks,{className:"billing__sort-icon--muted"})]}),L.services&&(0,Fs.jsx)("th",{children:"Services"}),L.amount&&(0,Fs.jsxs)("th",{className:"billing__sortable-header",onClick:()=>Ce("amount"),children:["Amount "," ","amount"===_?"asc"===S?(0,Fs.jsx)(Ss,{}):(0,Fs.jsx)(Ns,{}):(0,Fs.jsx)(ks,{className:"billing__sort-icon--muted"})]}),L.paid&&(0,Fs.jsx)("th",{children:"Paid"}),L.balance&&(0,Fs.jsx)("th",{children:"Balance"}),L.status&&(0,Fs.jsx)("th",{children:"Status"}),(0,Fs.jsx)("th",{children:"Actions"})]})}),(0,Fs.jsx)("tbody",{children:Me.map((e,t)=>(0,Fs.jsxs)("tr",{onClick:()=>Ne(e),role:"button",tabIndex:0,onKeyPress:t=>{"Enter"!==t.key&&" "!==t.key||Ne(e)},children:[(0,Fs.jsx)("td",{children:t+1}),L.id&&(0,Fs.jsx)("td",{children:(0,Fs.jsx)("span",{className:"billing__id",children:(0,Fs.jsx)(cu,{text:e.id,query:p})})}),L.quotationId&&(0,Fs.jsx)("td",{children:(0,Fs.jsx)("span",{className:"billing__quotation-id",children:(0,Fs.jsx)(cu,{text:e.quotationId||"",query:p})})}),(0,Fs.jsx)("td",{children:(0,Fs.jsx)("div",{className:"billing__client",children:(0,Fs.jsxs)("div",{className:"billing__client-info",children:[(0,Fs.jsx)("div",{className:"billing__client-name",children:(0,Fs.jsx)(cu,{text:e.clientName,query:p})}),(0,Fs.jsx)("div",{className:"billing__client-phone",children:(0,Fs.jsx)(cu,{text:e.clientPhone,query:p})}),(0,Fs.jsx)("div",{className:"billing__client-email",children:(0,Fs.jsx)(cu,{text:e.clientEmail,query:p})})]})})}),L.services&&(0,Fs.jsx)("td",{children:(0,Fs.jsxs)("div",{className:"billing__services",children:[e.services.slice(0,2).map((e,t)=>(0,Fs.jsx)("span",{className:"billing__service-tag",children:(0,Fs.jsx)(cu,{text:e,query:p})},t)),e.services.length>2&&(0,Fs.jsxs)("span",{className:"billing__service-more",children:["+",e.services.length-2]})]})}),L.amount&&(0,Fs.jsx)("td",{children:(0,Fs.jsxs)("span",{className:"billing__amount",children:["\u20b9",e.amount.toLocaleString("en-IN")]})}),L.paid&&(0,Fs.jsx)("td",{children:(0,Fs.jsxs)("span",{className:"billing__paid",children:["\u20b9",e.paid.toLocaleString("en-IN")]})}),L.balance&&(0,Fs.jsx)("td",{children:(0,Fs.jsxs)("span",{className:"billing__balance",children:["\u20b9",(e.amount-e.paid).toLocaleString("en-IN")]})}),L.status&&(0,Fs.jsx)("td",{children:(0,Fs.jsxs)("span",{className:"billing__status billing__status--".concat(e.status),children:[Ae(e.status),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})}),(0,Fs.jsx)("td",{children:(0,Fs.jsxs)("div",{className:"billing__actions",children:[(0,Fs.jsx)("button",{className:"billing__action-btn billing__action-btn--view",onClick:t=>{t.stopPropagation(),Ne(e)},title:"View",children:(0,Fs.jsx)($i,{})}),"paid"!==e.status&&(0,Fs.jsx)("button",{className:"billing__action-btn billing__action-btn--payment",onClick:t=>{t.stopPropagation(),le(e)},title:"Record Payment",children:(0,Fs.jsx)(ss,{})}),(0,Fs.jsx)("button",{className:"billing__action-btn billing__action-btn--download",onClick:t=>{t.stopPropagation(),ke(e)},title:"Download PDF",children:(0,Fs.jsx)(Vi,{})}),(0,Fs.jsx)("button",{className:"billing__action-btn billing__action-btn--whatsapp",title:"Send WhatsApp",onClick:t=>{t.stopPropagation(),je(e)},children:(0,Fs.jsx)(_i,{})}),(0,Fs.jsx)("button",{className:"billing__action-btn billing__action-btn--email",title:"Send Email",onClick:e=>{e.stopPropagation()},children:(0,Fs.jsx)(Ji,{})}),(0,Fs.jsx)("button",{className:"billing__action-btn billing__action-btn--delete",onClick:t=>{t.stopPropagation(),Se(e.id)},title:"Delete",children:(0,Fs.jsx)(As,{})})]})})]},e.id))})]})}):(0,Fs.jsx)("div",{className:"billing__grid",children:Me.map(e=>(0,Fs.jsxs)("div",{className:"billing__card",children:[(0,Fs.jsxs)("div",{className:"billing__card-header",children:[(0,Fs.jsx)("span",{className:"billing__card-id",children:(0,Fs.jsx)(cu,{text:e.id,query:p})}),(0,Fs.jsxs)("span",{className:"billing__status billing__status--".concat(e.status," billing__status--view"),children:[Ae(e.status),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})]}),(0,Fs.jsx)("div",{className:"billing__card-client",children:(0,Fs.jsxs)("div",{className:"billing__card-client-info",children:[(0,Fs.jsx)("h3",{children:(0,Fs.jsx)(cu,{text:e.clientName,query:p})}),(0,Fs.jsx)("p",{children:(0,Fs.jsx)(cu,{text:e.clientPhone,query:p})}),(0,Fs.jsx)("p",{children:(0,Fs.jsx)(cu,{text:e.clientEmail,query:p})})]})}),(0,Fs.jsx)("div",{className:"billing__card-services",children:e.services.map((e,t)=>(0,Fs.jsx)("span",{className:"billing__service-tag",children:(0,Fs.jsx)(cu,{text:e,query:p})},t))}),(0,Fs.jsxs)("div",{className:"billing__card-amounts",children:[(0,Fs.jsxs)("div",{className:"billing__card-amount-item",children:[(0,Fs.jsx)("label",{children:"Total Amount"}),(0,Fs.jsxs)("span",{className:"billing__amount-value",children:["\u20b9",e.amount.toLocaleString("en-IN")]})]}),(0,Fs.jsxs)("div",{className:"billing__card-amount-item",children:[(0,Fs.jsx)("label",{children:"Paid"}),(0,Fs.jsxs)("span",{className:"billing__paid-value",children:["\u20b9",e.paid.toLocaleString("en-IN")]})]}),(0,Fs.jsxs)("div",{className:"billing__card-amount-item billing__card-amount-balance",children:[(0,Fs.jsx)("label",{children:"Balance"}),(0,Fs.jsxs)("span",{className:"billing__balance-value",children:["\u20b9",(e.amount-e.paid).toLocaleString("en-IN")]})]})]}),(0,Fs.jsx)("div",{className:"billing__card-details",children:e.paymentMethod&&(0,Fs.jsxs)("div",{className:"billing__card-detail",children:[(0,Fs.jsx)(ss,{}),(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("label",{children:"Payment Method"}),(0,Fs.jsx)("span",{children:Te(e.paymentMethod)})]})]})}),(0,Fs.jsxs)("div",{className:"billing__card-actions",children:[(0,Fs.jsxs)("button",{className:"billing__action-btn billing__action-btn--view",onClick:()=>Ne(e),title:"View",children:[(0,Fs.jsx)($i,{})," View"]}),"paid"!==e.status&&(0,Fs.jsx)("button",{className:"billing__action-btn billing__action-btn--payment",onClick:()=>le(e),title:"Record Payment",children:(0,Fs.jsx)(ss,{})}),(0,Fs.jsx)("button",{className:"billing__action-btn billing__action-btn--download",onClick:()=>ke(e),title:"Download PDF",children:(0,Fs.jsx)(Vi,{})}),(0,Fs.jsx)("button",{className:"billing__action-btn billing__action-btn--whatsapp",title:"Send WhatsApp",onClick:()=>je(e),children:(0,Fs.jsx)(_i,{})}),(0,Fs.jsx)("button",{className:"billing__action-btn billing__action-btn--email",title:"Send Email",children:(0,Fs.jsx)(Ji,{})}),(0,Fs.jsx)("button",{className:"billing__action-btn billing__action-btn--delete",onClick:()=>Se(e.id),title:"Delete",children:(0,Fs.jsx)(As,{})})]})]},e.id))})}),Le.length>0&&(0,Fs.jsxs)("div",{className:"billing__pagination",children:[(0,Fs.jsxs)("div",{className:"billing__pagination-info",children:["Showing ",ze+1," to ",Math.min(Fe,Le.length)," of ",Le.length," invoices"]}),(0,Fs.jsxs)("div",{className:"billing__pagination-controls",children:[(0,Fs.jsxs)("div",{className:"billing__pagination-rows",children:[(0,Fs.jsx)("label",{children:"Rows per page:"}),(0,Fs.jsxs)("select",{value:q,onChange:e=>{return t=Number(e.target.value),U(t),void M(1);var t},children:[(0,Fs.jsx)("option",{value:10,children:"10"}),(0,Fs.jsx)("option",{value:25,children:"25"}),(0,Fs.jsx)("option",{value:50,children:"50"}),(0,Fs.jsx)("option",{value:100,children:"100"})]})]}),(0,Fs.jsxs)("div",{className:"billing__pagination-buttons",children:[(0,Fs.jsx)("button",{className:"billing__pagination-btn",onClick:()=>qe(1),disabled:1===F,title:"First Page",children:(0,Fs.jsx)(wi,{})}),(0,Fs.jsx)("button",{className:"billing__pagination-btn",onClick:()=>qe(F-1),disabled:1===F,title:"Previous Page",children:(0,Fs.jsx)(Si,{})}),(0,Fs.jsx)("div",{className:"billing__pagination-pages",children:(()=>{const e=[];let t=Math.max(1,F-Math.floor(2.5)),n=Math.min(Ie,t+5-1);n-t<4&&(t=Math.max(1,n-5+1)),t>1&&(e.push((0,Fs.jsx)("button",{className:"billing__pagination-btn",onClick:()=>qe(1),children:"1"},1)),t>2&&e.push((0,Fs.jsx)("span",{className:"billing__pagination-ellipsis",children:"..."},"ellipsis1")));for(let a=t;a<=n;a++)e.push((0,Fs.jsx)("button",{className:"billing__pagination-btn ".concat(F===a?"active":""),onClick:()=>qe(a),children:a},a));return n<Ie&&(n<Ie-1&&e.push((0,Fs.jsx)("span",{className:"billing__pagination-ellipsis",children:"..."},"ellipsis2")),e.push((0,Fs.jsx)("button",{className:"billing__pagination-btn",onClick:()=>qe(Ie),children:Ie},Ie))),e})()}),(0,Fs.jsx)("button",{className:"billing__pagination-btn",onClick:()=>qe(F+1),disabled:F===Ie,title:"Next Page",children:(0,Fs.jsx)(ki,{})}),(0,Fs.jsx)("button",{className:"billing__pagination-btn",onClick:()=>qe(Ie),disabled:F===Ie,title:"Last Page",children:(0,Fs.jsx)(Ni,{})})]})]})]}),s&&h&&(0,Fs.jsx)(Ms,{isOpen:!0,title:"Record Payment - ".concat(h.id),onClose:()=>o(!1),children:(0,Fs.jsxs)("div",{className:"billing__payment-form",children:[(0,Fs.jsxs)("div",{className:"billing__payment-summary",children:[(0,Fs.jsxs)("div",{className:"billing__payment-summary-row",children:[(0,Fs.jsx)("span",{children:"Total Amount:"}),(0,Fs.jsxs)("span",{children:["\u20b9",h.amount.toLocaleString("en-IN")]})]}),(0,Fs.jsxs)("div",{className:"billing__payment-summary-row",children:[(0,Fs.jsx)("span",{children:"Already Paid:"}),(0,Fs.jsxs)("span",{className:"billing__payment-paid",children:["\u20b9",h.paid.toLocaleString("en-IN")]})]}),(0,Fs.jsxs)("div",{className:"billing__payment-summary-row billing__payment-summary-balance",children:[(0,Fs.jsx)("span",{children:"Outstanding Balance:"}),(0,Fs.jsxs)("span",{children:["\u20b9",(h.amount-h.paid).toLocaleString("en-IN")]})]})]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Payment Amount (\u20b9) *"}),(0,Fs.jsx)("input",{type:"number",min:"0",max:h.amount-h.paid,value:B.amount,onChange:e=>V(T(T({},B),{},{amount:parseFloat(e.target.value)||0})),placeholder:"0.00"})]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Payment Method *"}),(0,Fs.jsxs)("select",{value:B.paymentMethod,onChange:e=>V(T(T({},B),{},{paymentMethod:e.target.value})),children:[(0,Fs.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"}),(0,Fs.jsx)("option",{value:"UPI",children:"UPI"}),(0,Fs.jsx)("option",{value:"Cash",children:"Cash"}),(0,Fs.jsx)("option",{value:"Cheque",children:"Cheque"})]})]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Payment Date *"}),(0,Fs.jsx)("input",{type:"date",value:B.paymentDate,onChange:e=>V(T(T({},B),{},{paymentDate:e.target.value}))})]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Reference Number"}),(0,Fs.jsx)("input",{type:"text",placeholder:"Transaction ID, Check number, etc.",value:B.reference,onChange:e=>V(T(T({},B),{},{reference:e.target.value}))})]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Notes"}),(0,Fs.jsx)("textarea",{placeholder:"Additional payment notes",value:B.notes,onChange:e=>V(T(T({},B),{},{notes:e.target.value})),rows:3})]}),(0,Fs.jsxs)("div",{className:"billing__form-actions",children:[(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>o(!1),children:"Cancel"}),(0,Fs.jsxs)("button",{className:"btn-primary",onClick:()=>{if(h){const e=parseFloat(B.amount)||0,t=(h.paid||0)+e,n=t>=h.amount?"paid":t>0?"partial":h.status,r=Te(B.paymentMethod),s={amount:e,date:B.paymentDate,method:r,reference:B.reference||"",notes:B.notes||"",recordedAt:(new Date).toISOString()},l=a.map(e=>e.id===h.id?T(T({},e),{},{paid:t,status:n,paymentMethod:r,payments:[...e.payments||[],s]}):e);i(l),m(e=>e?T(T({},e),{},{paid:t,status:n,paymentMethod:r,payments:[...e.payments||[],s]}):e),(async()=>{try{const e=Dt.getToken();if(e){const a={paid:t,status:n,paymentMethod:r,payments:l.find(e=>e.id===h.id).payments||[]};await fetch("".concat(un,"/billing/").concat(encodeURIComponent(h.id)),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(a)})}}catch(Fu){console.warn("Failed to persist payment to server",Fu),wl("Payment recorded locally but failed to save to server.")}})(),o(!1)}},disabled:!B.amount||B.amount<=0,children:[(0,Fs.jsx)(zi,{})," Record Payment"]})]})]})}),d&&(0,Fs.jsx)(Ms,{isOpen:!0,title:"Create Invoice",onClose:()=>{fe(wu),u(!1)},size:"large",headerActions:(0,Fs.jsx)("button",{type:"button",className:"btn-secondary",onClick:e=>{e.stopPropagation&&e.stopPropagation(),(()=>{try{me(ge())}catch(e){}try{ue(ce())}catch(e){}try{ve(pe())}catch(e){}try{Z("")}catch(e){}try{te(!1)}catch(e){}try{ae(-1)}catch(e){}})()},title:"Reset form",children:"Reset"}),children:(0,Fs.jsxs)("div",{className:"billing__form",children:[(0,Fs.jsxs)("div",{className:"billing__form-section",children:[(0,Fs.jsxs)("div",{className:"billing__form-row billing__form-row--3col",children:[(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Invoice ID"}),(0,Fs.jsx)("input",{type:"text",readOnly:!0,value:de||""})]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Quotation ID (optional)"}),(()=>{const e=Re()||[];if(Array.isArray(e)&&e.length>0){const t=e.filter(e=>(String(e.id||e.quotationId||e.ref)+(e.clientName?" - "+e.clientName:"")).toLowerCase().includes((X||"").toLowerCase())),n=(()=>{if(X)return X;if(he.quotationId){const t=e.find(e=>String(e.id||e.quotationId||e.ref)===String(he.quotationId));if(t)return String(t.id||t.quotationId||t.ref)+(t.clientName?" - "+t.clientName:"")}return""})();return(0,Fs.jsxs)("div",{style:{position:"relative"},children:[(0,Fs.jsx)("input",{ref:ie,className:"billing__quotation-input",type:"text",placeholder:"Search quotation by ID or client name",value:X||n,onChange:e=>{Z(e.target.value),te(!0),ae(-1)},onFocus:()=>{te(!0),ae(-1)},onKeyDown:e=>{const n=t.length-1;if("ArrowDown"===e.key)e.preventDefault(),ae(e=>Math.min(n,Math.max(0,e+1)));else if("ArrowUp"===e.key)e.preventDefault(),ae(e=>Math.max(0,e-1));else if("Enter"===e.key){if(e.preventDefault(),ne>=0&&t[ne]){const e=t[ne],n=String(e.id||e.quotationId||e.ref);ye(n),Z(String(n)+(e.clientName?" - "+e.clientName:"")),te(!1),ae(-1)}}else"Escape"===e.key&&te(!1)},onBlur:()=>{re.current=setTimeout(()=>te(!1),120)},onMouseDown:()=>{re.current&&(clearTimeout(re.current),re.current=null)}}),ee&&t.length>0&&(0,Fs.jsx)("ul",{className:"billing__quotation-dropdown",style:{position:"absolute",zIndex:40,top:"calc(100% + 6px)",left:0,right:0,maxHeight:220,overflow:"auto",background:"#fff",border:"1px solid #e5e7eb",borderRadius:6,padding:0,margin:0,listStyle:"none"},children:t.map((e,t)=>{const n=String(e.id||e.quotationId||e.ref)+(e.clientName?" - "+e.clientName:""),a=t===ne;return(0,Fs.jsx)("li",{onMouseDown:t=>{t.preventDefault();const a=String(e.id||e.quotationId||e.ref);ye(a),Z(n),te(!1),ae(-1)},onMouseEnter:()=>ae(t),style:{padding:"8px 10px",background:a?"#f3f4f6":"#fff",cursor:"pointer",borderBottom:"1px solid #f3f4f6"},children:(0,Fs.jsx)("div",{style:{fontSize:13,color:"#111"},children:n})},(e.id||e.quotationId||e.ref)+"-"+t)})}),(X||he.quotationId)&&(0,Fs.jsx)("button",{type:"button",className:"billing__quotation-clear",onMouseDown:e=>e.preventDefault(),onClick:()=>{Z(""),me(ge()),te(!1),ae(-1);try{ie.current&&ie.current.focus()}catch(e){}},"aria-label":"Clear quotation",children:(0,Fs.jsx)(Ps,{})})]})}return(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("input",{className:"billing__quotation-input",type:"text",value:he.quotationId,onChange:e=>me(T(T({},he),{},{quotationId:e.target.value})),placeholder:"QT-".concat((new Date).getFullYear(),"-0001")}),(0,Fs.jsxs)("div",{style:{marginTop:8,fontSize:13,color:"#374151"},children:[Y?(0,Fs.jsxs)("div",{style:{color:"#b91c1c"},children:["Error reading quotations: ",Y]}):(0,Fs.jsx)("div",{children:"No saved quotations were found."}),(0,Fs.jsxs)("div",{style:{marginTop:6,display:"flex",gap:8},children:[(0,Fs.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>{De(),wl("Reloaded quotations \u2014 check the dropdown or console.")},children:"Reload Quotations"}),(0,Fs.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>{window.location.href="/quotations"},children:"Open Quotations"})]})]})]})})()]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Issue Date"}),(0,Fs.jsx)("input",{type:"date",value:he.issueDate,onChange:e=>me(T(T({},he),{},{issueDate:e.target.value}))})]})]}),(0,Fs.jsxs)("div",{className:"billing__form-row billing__form-row--3col",children:[(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Client Name *"}),(0,Fs.jsx)("input",{type:"text",placeholder:"Enter client name",value:he.clientName,onChange:e=>{const t=(e.target.value||"").replace(/[^A-Za-z\s]/g,"");me(T(T({},he),{},{clientName:t}))},pattern:"[A-Za-z ]+"})]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Client Phone *"}),(0,Fs.jsx)("input",{type:"tel",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Enter numbers only",value:he.clientPhone,onChange:e=>{const t=(e.target.value||"").toString().replace(/\D/g,"");me(T(T({},he),{},{clientPhone:t}))}})]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Client Email"}),(0,Fs.jsx)("input",{type:"email",placeholder:"client@email.com",value:he.clientEmail,onChange:e=>me(T(T({},he),{},{clientEmail:(e.target.value||"").trim()}))})]})]})]}),(0,Fs.jsxs)("div",{className:"billing__form-section",children:[(0,Fs.jsxs)("div",{className:"billing__form-section-header",children:[(0,Fs.jsx)("h3",{children:"Services"}),(0,Fs.jsxs)("button",{className:"btn-secondary",onClick:()=>{me(T(T({},he),{},{items:[...he.items,{service:"",description:"",quantity:1,price:0}]}))},type:"button",children:[(0,Fs.jsx)(ms,{})," Add Item"]})]}),he.items.map((e,t)=>(0,Fs.jsxs)("div",{className:"billing__line-item",children:[(0,Fs.jsxs)("div",{className:"billing__line-item-row",children:[(0,Fs.jsxs)("div",{className:"billing__form-group billing__form-group--wide",children:[(0,Fs.jsx)("label",{children:"Service"}),H.length>0?(0,Fs.jsxs)("select",{value:e.service,onChange:e=>((e,t)=>{const n=H.find(e=>e.name===t);n&&(xe(e,"service",t),xe(e,"price",n.price))})(t,e.target.value),children:[(0,Fs.jsx)("option",{value:"",children:"Select a service"}),H.map(e=>(0,Fs.jsx)("option",{value:e.name,children:e.name},e.id||e.name))]}):(0,Fs.jsx)("input",{type:"text",placeholder:"Enter service name",value:e.service,onChange:e=>xe(t,"service",e.target.value)})]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Quantity"}),(0,Fs.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:e=>xe(t,"quantity",e.target.value)})]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Price (\u20b9)"}),(0,Fs.jsx)("input",{type:"number",min:"0",value:e.price,onChange:e=>xe(t,"price",e.target.value)})]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Total"}),(0,Fs.jsxs)("div",{className:"billing__line-total",children:["\u20b9",((parseFloat(e.quantity)||0)*(parseFloat(e.price)||0)).toLocaleString("en-IN")]})]}),he.items.length>1&&(0,Fs.jsx)("button",{className:"billing__remove-item",onClick:()=>(e=>{me(T(T({},he),{},{items:he.items.filter((t,n)=>n!==e)}))})(t),title:"Remove item",type:"button",children:(0,Fs.jsx)(Ps,{})})]}),(0,Fs.jsxs)("div",{className:"billing__form-group",children:[(0,Fs.jsx)("label",{children:"Description (optional)"}),(0,Fs.jsx)("input",{type:"text",placeholder:"Additional details about this service",value:e.description,onChange:e=>xe(t,"description",e.target.value)})]})]},t)),(0,Fs.jsxs)("div",{className:"billing__summary",children:[(0,Fs.jsxs)("div",{className:"billing__summary-row",children:[(0,Fs.jsx)("span",{children:"Subtotal:"}),(0,Fs.jsxs)("span",{children:["\u20b9",be().toLocaleString("en-IN")]})]}),(he.additionalCharges||[]).length>0&&(0,Fs.jsx)("div",{className:"billing__additional-charges",children:(he.additionalCharges||[]).map((e,t)=>(0,Fs.jsxs)("div",{className:"billing__charge-row",children:[(0,Fs.jsxs)("div",{className:"billing__form-group billing__charge-desc billing__charge-desc--flex1",children:[(0,Fs.jsx)("label",{children:"Charge"}),(0,Fs.jsx)("input",{type:"text",placeholder:"Charge description",value:e.description,onChange:e=>we(t,"description",e.target.value)})]}),(0,Fs.jsxs)("div",{className:"billing__form-group billing__charge-amount billing__charge-amount--fixed",children:[(0,Fs.jsx)("label",{children:"Amount"}),(0,Fs.jsx)("input",{type:"number",min:"0",value:e.amount,onChange:e=>we(t,"amount",e.target.value)})]}),(0,Fs.jsx)("div",{className:"billing__charge-actions",children:(0,Fs.jsx)("button",{type:"button",onClick:()=>(e=>{const t=(he.additionalCharges||[]).filter((t,n)=>n!==e);me(T(T({},he),{},{additionalCharges:t}))})(t),className:"billing__remove-item","aria-label":"Remove charge",children:(0,Fs.jsx)(Ps,{})})})]},t))}),(0,Fs.jsx)("div",{className:"billing__add-charge-row",children:(0,Fs.jsx)("button",{type:"button",onClick:()=>{me(T(T({},he),{},{additionalCharges:[...he.additionalCharges||[],{description:"",amount:0}]}))},className:"btn-secondary",children:"+ Add Charge"})}),(0,Fs.jsxs)("div",{className:"billing__summary-row billing__summary-total",children:[(0,Fs.jsx)("span",{children:"Total:"}),(0,Fs.jsxs)("span",{children:["\u20b9",_e().toLocaleString("en-IN")]})]})]})]}),(0,Fs.jsxs)("div",{className:"billing__form-actions",children:[(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>{try{fe(pe())}catch(Fu){}try{u(!1)}catch(Fu){}try{wl("\u26a0\ufe0f your form saved temporarily, please complete and submit soon.")}catch(Fu){}},type:"button",children:"Save Draft"}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>u(!1),type:"button",children:"Cancel"}),(0,Fs.jsxs)("button",{className:"btn-primary",onClick:async()=>{const e=(he.clientName||"").toString().replace(/[^A-Za-z\s]/g,"").trim(),t=(he.clientPhone||"").toString().replace(/\D/g,""),r=(he.clientEmail||"").toString().trim();if(!e)return void wl("Please provide a valid client name (letters and spaces only).");if(!t)return void wl("Please provide a valid client phone (numbers only).");if(r){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))return void wl("Please provide a valid email address.")}if(he.items.every(e=>!e.service))return void wl("Please add at least one service item");const s=_e(),o={id:de||ce(),clientName:e,clientEmail:r,clientPhone:t,services:he.items.map(e=>e.service).filter(Boolean),items:he.items,additionalCharges:he.additionalCharges||[],amount:s,paid:0,issueDate:he.issueDate,status:"pending",quotationId:he.quotationId||""};try{const e=Dt.getToken();if(e){const t=await fetch("".concat(un,"/billing"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(o)});if(t.ok){const e=await t.json();i([e,...a]);try{Vn.setJSONAndSync(xn,[e,...a])}catch(Fu){}}else{i([o,...a]);try{Vn.setJSONAndSync(xn,[o,...a])}catch(Fu){}}}else{i([o,...a]);try{Vn.setJSONAndSync(xn,[o,...a])}catch(Fu){}}}catch(Fu){console.warn("create invoice persist failed",Fu),i([o,...a]);try{Vn.setJSONAndSync(xn,[o,...a])}catch(l){}}try{n(rn({title:"Invoice created",message:"".concat(o.id," \u2014 ").concat(o.clientName||"No client"),type:"info",timestamp:(new Date).toISOString(),path:"/billing",data:{openViewId:o.id}}))}catch(Fu){}u(!1);try{ve(pe())}catch(Fu){}},disabled:!he.clientName||!he.clientPhone||he.items.every(e=>!e.service),type:"button",children:[(0,Fs.jsx)(zi,{})," Create Invoice"]})]})]})}),l&&h&&(0,Fs.jsx)(Ms,{isOpen:!0,title:"Invoice ".concat(h.id),onClose:()=>c(!1),children:(0,Fs.jsxs)("div",{className:"billing__invoice-view",children:[(0,Fs.jsxs)("div",{className:"billing__invoice-header",children:[(0,Fs.jsxs)("div",{className:"billing__invoice-client",children:[(0,Fs.jsx)("h3",{children:h.clientName}),(0,Fs.jsx)("p",{children:h.clientPhone}),(0,Fs.jsx)("p",{children:h.clientEmail})]}),(0,Fs.jsxs)("span",{className:"billing__status billing__status--".concat(h.status," billing__status--view"),children:[Ae(h.status),h.status.charAt(0).toUpperCase()+h.status.slice(1)]})]}),(0,Fs.jsx)("div",{className:"billing__invoice-section",children:(0,Fs.jsxs)("div",{className:"billing__invoice-row",children:[(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("label",{children:"Issue Date:"}),(0,Fs.jsx)("span",{children:Us(h.issueDate)})]}),(0,Fs.jsxs)("div",{style:{textAlign:"right"},children:[(0,Fs.jsx)("label",{children:"Quotation ID:"}),(0,Fs.jsx)("span",{children:h.quotationId})]})]})}),(0,Fs.jsxs)("div",{className:"billing__invoice-section",children:[(0,Fs.jsx)("h4",{children:"Services"}),(0,Fs.jsx)("ul",{className:"billing__invoice-services",children:h.services.map((e,t)=>(0,Fs.jsx)("li",{children:e},t))})]}),(0,Fs.jsx)("div",{className:"billing__invoice-section",children:(0,Fs.jsxs)("div",{className:"billing__invoice-totals",children:[(0,Fs.jsxs)("div",{className:"billing__invoice-total-row",children:[(0,Fs.jsx)("span",{children:"Total Amount:"}),(0,Fs.jsxs)("span",{children:["\u20b9",h.amount.toLocaleString("en-IN")]})]}),(0,Fs.jsxs)("div",{className:"billing__invoice-total-row",children:[(0,Fs.jsx)("span",{children:"Amount Paid:"}),(0,Fs.jsxs)("span",{className:"billing__payment-paid",children:["\u20b9",h.paid.toLocaleString("en-IN")]})]}),(0,Fs.jsxs)("div",{className:"billing__invoice-total-row billing__invoice-total-balance",children:[(0,Fs.jsx)("span",{children:"Balance Due:"}),(0,Fs.jsxs)("span",{children:["\u20b9",(h.amount-h.paid).toLocaleString("en-IN")]})]})]})}),(0,Fs.jsxs)("div",{className:"billing__invoice-section",children:[(0,Fs.jsx)("h4",{children:"Repayment History"}),h.payments&&h.payments.length>0?(0,Fs.jsx)("ul",{className:"billing__repayment-history",children:h.payments.slice().reverse().map((e,t)=>(0,Fs.jsxs)("li",{className:"billing__repayment-item",children:[(0,Fs.jsxs)("div",{className:"billing__repayment-row",children:[(0,Fs.jsxs)("span",{className:"billing__repayment-amount",children:["\u20b9",(parseFloat(e.amount)||0).toLocaleString("en-IN")]}),(0,Fs.jsx)("span",{className:"billing__repayment-date",children:Us(e.date||e.recordedAt||e.paymentDate)})]}),(0,Fs.jsxs)("div",{className:"billing__repayment-meta",children:[(0,Fs.jsx)("span",{className:"billing__repayment-method",children:Te(e.method||e.paymentMethod)}),e.reference&&(0,Fs.jsxs)("span",{className:"billing__repayment-ref",children:["Ref: ",e.reference]}),e.notes&&(0,Fs.jsx)("span",{className:"billing__repayment-notes",children:e.notes})]})]},t))}):(0,Fs.jsx)("p",{children:"No payments recorded yet."})]}),(0,Fs.jsxs)("div",{className:"billing__invoice-actions",children:["paid"!==h.status&&(0,Fs.jsxs)("button",{className:"btn-primary",onClick:()=>{c(!1),le(h)},children:[(0,Fs.jsx)(ss,{})," Record Payment"]}),(0,Fs.jsxs)("button",{className:"btn-secondary",onClick:()=>ke(h),children:[(0,Fs.jsx)(Vi,{})," Download PDF"]})]})]})})]})},Su=async e=>{try{return(await Xd.post("/chat/conversations",e)).data}catch(t){throw console.error("Error creating conversation:",t),t}},ku=async(e,t)=>{try{return(await Xd.put("/chat/conversations/".concat(e),t)).data}catch(n){throw console.error("Error updating conversation:",n),n}},Cu=async e=>{try{return(await Xd.delete("/chat/conversations/".concat(e))).data}catch(t){throw console.error("Error deleting conversation:",t),t}},Eu=async(e,t)=>{try{if(t&&t.media){const e=Array.isArray(t.media)?t.media:[t.media],a=e.filter(e=>e&&e._file).map(e=>e._file);if(a.length>0){var n;const r=new FormData;a.forEach(e=>r.append("files",e));const i=(null===(n=(await Xd.post("/uploads",r,{headers:{"Content-Type":"multipart/form-data"}})).data)||void 0===n?void 0:n.files)||[];let s=0;for(let t=0;t<e.length;t++){const n=e[t];if(n&&n._file){const e=i[s++]||{};n.url=e.url||n.url,n.name=e.originalName||n.name,n.size=e.size||n.size,delete n._file}}t.media=Array.isArray(t.media)?e:e[0]}}return(await Xd.post("/chat/conversations/".concat(e,"/messages"),t)).data}catch(a){throw console.error("Error creating message:",a),a}},Pu=()=>{var e,t,n;const[a,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(null),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1),[v,g]=(0,r.useState)(!1),[y,x]=(0,r.useState)(!1),[b,j]=(0,r.useState)([]),[_,w]=(0,r.useState)(""),[N,S]=(0,r.useState)(""),[k,C]=(0,r.useState)(null),[E,P]=(0,r.useState)(null),[A,O]=(0,r.useState)(""),[L,D]=(0,r.useState)([]),[R,I]=(0,r.useState)(!1),[z,F]=(0,r.useState)(!1),[M,q]=(0,r.useState)([]),[U,B]=(0,r.useState)(Date.now()),[V,H]=(0,r.useState)(!1),[W,J]=(0,r.useState)(!1),Q=(0,r.useRef)(null),$=(0,r.useRef)(null),K=(0,r.useRef)([]),[Y,G]=(0,r.useState)(!1),X=(0,r.useRef)(null),[Z,ee]=(0,r.useState)([]),[te,ne]=(0,r.useState)([]),[ae,re]=(0,r.useState)(""),[ie,se]=(0,r.useState)(""),[oe,le]=(0,r.useState)(""),[ce,de]=(0,r.useState)({}),[ue,he]=(0,r.useState)(!1),me=ou(),pe=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{try{const e=await Yd("/team");ee(e);const t=(await(async()=>{try{return(await Xd.get("/chat/conversations")).data}catch(e){throw console.error("Error fetching conversations:",e),e}})()).filter(t=>{var n;return"group"===t.type?null===(n=t.memberIds)||void 0===n?void 0:n.some(t=>0===t||e.some(e=>e.id===t)):e.some(e=>e.id===t.memberId)});ne(t)}catch(e){console.error("Error fetching data:",e);const t=Vn.getJSON(gn,[]);ee(t);const n=Vn.getJSON(jn,[]);ne(n)}})()},[]),(0,r.useEffect)(()=>{te.length>0&&Vn.setJSON(jn,te)},[te]),(0,r.useEffect)(()=>{Object.keys(ce).length>0&&Vn.setJSON(_n,ce)},[ce]),(0,r.useEffect)(()=>{if(!s)return;(async()=>{try{if(ce[s])return;const e=(await(async e=>{try{return(await Xd.get("/chat/conversations/".concat(e,"/messages"))).data}catch(t){throw console.error("Error fetching messages:",t),t}})(s)||[]).slice().sort((e,t)=>{const n=e=>{if(!e)return 0;if(e.createdAt){const t=Date.parse(e.createdAt);if(!isNaN(t))return t}if(e.timestamp){const t=Date.parse(e.timestamp);if(!isNaN(t))return t}if(e.time&&"string"===typeof e.time){const t=Date.parse(e.time);if(!isNaN(t))return t}return e.id?Number(e.id):0};return n(e)-n(t)});de(t=>T(T({},t),{},{[s]:e}))}catch(e){console.error("Failed to load messages:",e),de(e=>T(T({},e),{},{[s]:[]}))}})()},[s]),(0,r.useEffect)(()=>{const e=()=>{const e=Date.now();if(e-U>=864e5){ne(e=>e.map(e=>T(T({},e),{},{lastMessage:"group"===e.type?"Chat reset - start fresh":"",unread:0,time:"Now"})));const t={};te.forEach(e=>{t[e.id]=[{id:Date.now(),senderId:-1,sender:"System",content:"\ud83d\udd04 Chat has been automatically reset (24-hour cycle). Previous messages archived.",time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),createdAt:(new Date).toISOString(),isOwn:!1,isSystem:!0,read:!0}]}),de(t),Vn.setJSON(_n,t),B(e),H(!0),setTimeout(()=>H(!1),5e3)}};e();const t=setInterval(e,36e5);return()=>clearInterval(t)},[U,te,ce]);const fe=e=>{if(!e)return"";const t="string"===typeof e||"number"===typeof e?new Date(e):e;if(!(t instanceof Date)||isNaN(t))return"";const n=e=>String(e).padStart(2,"0"),a=n(t.getHours()),r=n(t.getMinutes()),i="".concat(a,":").concat(r);if((new Date).toDateString()===t.toDateString())return"Today ".concat(i);if(new Date(Date.now()-864e5).toDateString()===t.toDateString())return"Yesterday ".concat(i);try{const e=t.toLocaleDateString();return"".concat(e," ").concat(i)}catch(s){return"".concat(t.toISOString().split("T")[0]," ").concat(i)}},ve=e=>{try{const t=ce[e.id];if(t&&t.length>0){const e=t[t.length-1];if(e.createdAt)return fe(e.createdAt);if(e.timestamp)return fe(e.timestamp);if(e.time)return"Today ".concat(e.time.replace(":",":"))}const n=["lastMessageAt","lastActivityAt","updatedAt","lastUpdated","last_message_at","last_message_time","lastMessageCreatedAt","lastMessageTime","time"];for(const a of n){const t=e[a];if(!t)continue;if("string"===typeof t&&"now"===t.trim().toLowerCase())return"Now";const n=Date.parse(t);if(!isNaN(n))return fe(n);if("string"===typeof t&&/^\d{1,2}:\d{2}$/.test(t.trim()))return"Today ".concat(t.trim())}return e.time?e.time:""}catch(t){return""}},ge=e=>{try{const t=ce[e.id];if(t&&t.length>0){const e=t[t.length-1];if(e.content&&e.content.toString().trim())return e.content;if(e.media){const t=Array.isArray(e.media)?e.media[e.media.length-1]:e.media;if(t&&t.type){const e=(t.type||"").toString().toLowerCase();if("image"===e)return"Photo";if("video"===e)return"Video";if("audio"===e)return"Audio";if("file"===e)return t.name||"File"}return"Media"}return""}const n=(e.lastMessage||"").toString().trim();if(!n)return"";const a=n.toLowerCase();return["img","image","photo"].includes(a)?"Photo":"video"===a?"Video":"audio"===a?"Audio":"file"===a||"media"===a?"Media":n}catch(t){return e.lastMessage||""}},ye=te.find(e=>e.id===s),xe=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])||[]).slice().sort((e,t)=>{const n=e=>{if(!e)return 0;if(e.createdAt){const t=Date.parse(e.createdAt);if(!isNaN(t))return t}if(e.timestamp){const t=Date.parse(e.timestamp);if(!isNaN(t))return t}if(e.time&&"string"===typeof e.time){const t=Date.parse(e.time);if(!isNaN(t))return t}return e.id?Number(e.id):0};return n(e)-n(t)})}(ce[s]||[]),be="group"===(null===ye||void 0===ye?void 0:ye.type)&&(null===ye||void 0===ye||null===(e=ye.admins)||void 0===e?void 0:e.includes(0));(0,r.useEffect)(()=>{const e=pe.current;if(!e)return;const t=setTimeout(()=>{try{e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}catch(t){e.scrollTop=e.scrollHeight}},50);return()=>clearTimeout(t)},[s,xe.length]);const je=()=>{u(!1),m(null)},_e=async e=>{if(await me("Delete this message?"))try{await(async(e,t)=>{try{return(await Xd.delete("/chat/conversations/".concat(e,"/messages/").concat(t))).data}catch(n){throw console.error("Error deleting message:",n),n}})(s,e),de(t=>{const n=T(T({},t),{},{[s]:t[s].filter(t=>t.id!==e)});return Vn.setJSON(_n,n),n}),C(null)}catch(t){console.error("Failed to delete message:",t),wl("Failed to delete message. Please try again.")}},we=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=t?[t]:e&&e.media?Array.isArray(e.media)?e.media:[e.media]:[];if(!n||0===n.length)return wl("No media to download","error"),void C(null);n.forEach((e,t)=>{if(e&&e.url){const n=document.createElement("a");n.href=e.url,n.download=e.name||"media-".concat(Date.now(),"-").concat(t),n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}),wl("Downloaded ".concat(n.length," file(s)")),C(null)},Ne=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return void C({x:window.innerWidth/2,y:window.innerHeight/2,message:t});const a=e.getBoundingClientRect(),r=Math.min(240,Math.max(160,window.innerWidth-16));let i=a.left-r-8;i<8&&(i=a.right+8);const s=window.innerWidth-r-8;i>s&&(i=s),i<8&&(i=8);let o=a.top+8;const l=window.innerHeight-48;o>l&&(o=l),o<8&&(o=8),C({x:i,y:o,message:t,media:n})},Se=e=>{try{const t=pe.current||document,n='[data-msg-id="'.concat(e,'"]'),a=t.querySelector?t.querySelector(n):document.querySelector(n);if(!a)return void wl("Original message not found","info");a.scrollIntoView({behavior:"smooth",block:"center"}),a.classList.add("message--highlight"),setTimeout(()=>{a.classList.remove("message--highlight")},2200)}catch(t){console.error("jumpToOriginal error:",t)}},ke=e=>{D(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},Ce=()=>{I(!1),D([])},Ee=e=>{j(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};(0,r.useEffect)(()=>{const e=()=>{window.innerWidth>425&&ue&&he(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[ue]);const Pe=Z.filter(e=>0!==e.id).filter(e=>{const t=(ae||"").trim().toLowerCase();return!t||((e.name||"").toLowerCase().includes(t)||(e.role||"").toLowerCase().includes(t))}),Ae=Z.filter(e=>0!==e.id).filter(e=>{const t=(ie||"").trim().toLowerCase();return!t||((e.name||"").toLowerCase().includes(t)||(e.role||"").toLowerCase().includes(t))}),Te=("group"===(null===ye||void 0===ye?void 0:ye.type)?Z.filter(e=>!ye.memberIds.includes(e.id)):Z.filter(e=>0!==e.id)).filter(e=>{const t=(oe||"").trim().toLowerCase();return!t||((e.name||"").toLowerCase().includes(t)||(e.role||"").toLowerCase().includes(t))});return(0,Fs.jsxs)("div",{className:"chat ".concat(ue?"chat--mobile-main-visible":""),children:[V&&(0,Fs.jsxs)("div",{className:"chat__reset-notice",children:[(0,Fs.jsx)(Gi,{}),(0,Fs.jsx)("span",{children:"Chat has been automatically reset! Previous messages are archived."}),(0,Fs.jsx)("button",{onClick:()=>H(!1),children:(0,Fs.jsx)(Ps,{})})]}),(0,Fs.jsxs)("div",{className:"chat__sidebar",children:[(0,Fs.jsxs)("div",{className:"chat__sidebar-header",children:[(0,Fs.jsx)("h2",{children:"Team Chat"}),(0,Fs.jsxs)("div",{className:"header-actions",children:[(0,Fs.jsx)("button",{className:"btn-new-chat",onClick:()=>J(!0),title:"New Chat",children:(0,Fs.jsx)(Ds,{})}),(0,Fs.jsx)("button",{className:"btn-new-group",onClick:()=>f(!0),title:"New Group",children:(0,Fs.jsx)(Ls,{})})]})]}),(0,Fs.jsxs)("div",{className:"chat__search",children:[(0,Fs.jsx)(xs,{}),(0,Fs.jsx)("input",{type:"text",placeholder:"Search conversations...",value:A,onChange:e=>O(e.target.value)})]}),(0,Fs.jsx)("div",{className:"chat__conversations",children:0===Z.length?(0,Fs.jsxs)("div",{className:"chat__empty-state",children:[(0,Fs.jsx)(Rs,{size:48}),(0,Fs.jsx)("p",{children:"No team members yet"}),(0,Fs.jsx)("span",{children:"Add team members from the Team page to start chatting"})]}):0===te.length?(0,Fs.jsxs)("div",{className:"chat__empty-state",children:[(0,Fs.jsx)(Ds,{size:48}),(0,Fs.jsx)("p",{children:"No conversations yet"}),(0,Fs.jsx)("span",{children:"Click the + button to start a new chat or create a group"})]}):te.filter(e=>{const t=(A||"").toString().trim().toLowerCase();return((null===e||void 0===e?void 0:e.name)||"").toString().toLowerCase().includes(t)}).map(e=>(0,Fs.jsxs)("div",{className:"conversation-item ".concat(s===e.id?"conversation-item--active":""),onClick:()=>(e=>{const t="undefined"!==typeof window&&window.innerWidth<=425;o(e),t&&he(!0)})(e.id),children:[(0,Fs.jsxs)("div",{className:"conversation-item__avatar",children:["group"===e.type&&(0,Fs.jsx)(Rs,{className:"group-icon"}),e.name.charAt(0)]}),(0,Fs.jsxs)("div",{className:"conversation-item__content",children:[(0,Fs.jsxs)("h3",{children:[e.name,"group"===e.type&&(0,Fs.jsxs)("span",{className:"member-count",children:[" (",e.members,")"]})]}),(0,Fs.jsx)("p",{children:ge(e)})]}),(0,Fs.jsxs)("div",{className:"conversation-item__meta",children:[(0,Fs.jsx)("span",{className:"time",children:ve(e)||e.time}),e.unread>0&&(0,Fs.jsx)("span",{className:"unread-badge",children:e.unread}),(0,Fs.jsx)("button",{className:"conversation-item__delete",onClick:t=>{t.stopPropagation(),(async e=>{if(await me("Delete this conversation? This action cannot be undone.")){try{await Cu(e)}catch(t){console.error("Failed to delete conversation on backend:",t)}ne(t=>{const n=t.filter(t=>t.id!==e);var a;return Vn.setJSON(jn,n),s===e&&o((null===(a=n[0])||void 0===a?void 0:a.id)||null),n}),de(t=>{const n=T({},t);return Object.prototype.hasOwnProperty.call(n,e)&&delete n[e],Vn.setJSON(_n,n),n}),wl("Conversation deleted")}})(e.id)},title:"Delete conversation","aria-label":"Delete conversation ".concat(e.name),children:(0,Fs.jsx)(As,{})})]})]},e.id))})]}),(0,Fs.jsx)("div",{className:"chat__main",children:0===te.length?(0,Fs.jsxs)("div",{className:"chat__welcome",children:[(0,Fs.jsxs)("div",{className:"welcome-art","aria-hidden":!0,children:[(0,Fs.jsx)("div",{className:"bubble bubble--lg"}),(0,Fs.jsx)("div",{className:"bubble bubble--md"}),(0,Fs.jsx)("div",{className:"bubble bubble--sm"}),(0,Fs.jsx)("div",{className:"chat-illustration",children:(0,Fs.jsxs)("svg",{width:"260",height:"160",viewBox:"0 0 260 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("rect",{x:"0",y:"20",width:"220",height:"100",rx:"12",fill:"#EEF2FF"}),(0,Fs.jsx)("circle",{cx:"40",cy:"70",r:"26",fill:"#6366F1"}),(0,Fs.jsx)("rect",{x:"80",y:"48",width:"110",height:"12",rx:"6",fill:"#C7D2FE"}),(0,Fs.jsx)("rect",{x:"80",y:"70",width:"70",height:"12",rx:"6",fill:"#C7D2FE"}),(0,Fs.jsx)("rect",{x:"80",y:"92",width:"50",height:"8",rx:"4",fill:"#EDE9FE"})]})})]}),(0,Fs.jsxs)("div",{className:"welcome-content",children:[(0,Fs.jsx)("h1",{children:"Welcome to Team Chat"}),(0,Fs.jsx)("p",{children:"Connect with your team in one place. Start a direct message or create a group to collaborate instantly."}),(0,Fs.jsxs)("div",{className:"welcome-actions",children:[(0,Fs.jsx)("button",{className:"btn-primary",onClick:()=>J(!0),children:"Start a Chat"}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>f(!0),children:"Create a Group"})]}),(0,Fs.jsxs)("ul",{className:"welcome-features",children:[(0,Fs.jsx)("li",{children:"Private 24-hour auto-reset for privacy"}),(0,Fs.jsx)("li",{children:"Chat with individual team members"}),(0,Fs.jsx)("li",{children:"Create groups and manage members"})]})]})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("div",{className:"chat__header",children:[ue&&(0,Fs.jsx)("button",{className:"chat__back-btn",onClick:()=>he(!1),"aria-label":"Back to conversations",children:(0,Fs.jsx)(Ci,{})}),(0,Fs.jsxs)("div",{className:"chat__header-info",children:[(0,Fs.jsxs)("div",{children:[(0,Fs.jsxs)("h2",{children:[null===ye||void 0===ye?void 0:ye.name,"group"===(null===ye||void 0===ye?void 0:ye.type)]}),(0,Fs.jsx)("p",{children:"group"===(null===ye||void 0===ye?void 0:ye.type)?"".concat(ye.members," members"):"Active now"})]}),(0,Fs.jsxs)("div",{className:"chat__header-avatar",children:["group"===(null===ye||void 0===ye?void 0:ye.type)&&(0,Fs.jsx)(Rs,{className:"group-icon"}),null===ye||void 0===ye?void 0:ye.name.charAt(0)]})]}),(0,Fs.jsx)("div",{className:"chat__header-actions",children:"group"===(null===ye||void 0===ye?void 0:ye.type)&&(0,Fs.jsx)("button",{className:"btn-call",onClick:()=>{w(ye.name),S(ye.description||""),g(!0)},title:"Group Info",children:(0,Fs.jsx)(es,{})})})]}),(0,Fs.jsxs)("div",{className:"chat__reset-timer chat__reset-timer--sub",children:[(0,Fs.jsx)(Fi,{}),(0,Fs.jsxs)("span",{children:["Auto-reset in: ",(()=>{const e=864e5-(Date.now()-U);if(e<=0)return"Resetting soon...";const t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);return"".concat(t,"h ").concat(n,"m")})()]}),(0,Fs.jsx)("button",{className:"btn-info",title:"Chats automatically reset every 24 hours for privacy and storage management",children:(0,Fs.jsx)(es,{})})]}),(0,Fs.jsx)("div",{className:"chat__messages",ref:pe,onClick:()=>C(null),children:xe.map(e=>(0,Fs.jsxs)("div",{"data-msg-id":e.id,className:"message ".concat(e.isOwn?"message--own":""," ").concat(e.isSystem?"message--system":""," ").concat(L.includes(e.id)?"message--selected":""," ").concat(R?"message--selectable":""),onContextMenu:t=>!e.isSystem&&((e,t)=>{var n,a;e.preventDefault();const r=e.currentTarget||(null===(n=(a=e.target).closest)||void 0===n?void 0:n.call(a,".message"));Ne(r,t)})(t,e),onClick:()=>R&&!e.isSystem&&ke(e.id),children:[R&&!e.isSystem&&(0,Fs.jsx)("div",{className:"message__checkbox",children:(0,Fs.jsx)("input",{type:"checkbox",checked:L.includes(e.id),onChange:()=>ke(e.id),onClick:e=>e.stopPropagation(),"aria-label":"Select message ".concat(e.id)})}),!e.isOwn&&!e.isSystem&&"group"===(null===ye||void 0===ye?void 0:ye.type)&&(0,Fs.jsx)("div",{className:"message__sender",children:e.sender}),(0,Fs.jsxs)("div",{className:"message__content",children:[!(e.media&&(!Array.isArray(e.media)||e.media.length>0))&&(0,Fs.jsx)("button",{className:"message__ellipsis",onClick:t=>{t.stopPropagation();const n=t.currentTarget.closest(".message");Ne(n,e)},"aria-label":"Message actions",title:"Message actions",children:(0,Fs.jsx)(Wi,{})}),e.replyTo&&(0,Fs.jsxs)("div",{className:"message__reply-to",role:"button",tabIndex:0,onClick:t=>{var n;t.stopPropagation(),null!==(n=e.replyTo)&&void 0!==n&&n.id&&Se(e.replyTo.id)},onKeyDown:t=>{var n;"Enter"===t.key&&(t.stopPropagation(),null!==(n=e.replyTo)&&void 0!==n&&n.id&&Se(e.replyTo.id))},children:[(0,Fs.jsx)(gs,{}),(0,Fs.jsxs)("span",{className:"reply-preview",children:[e.replyTo.sender,": ",e.replyTo.content]})]}),e.forwarded&&(0,Fs.jsxs)("div",{className:"message__forwarded",children:[(0,Fs.jsx)(js,{})," Forwarded"]}),e.media&&(0,Fs.jsx)("div",{className:"message__media",children:(Array.isArray(e.media)?e.media:[e.media]).map(t=>(0,Fs.jsxs)("div",{className:"media-wrapper media-wrapper--".concat(t.type),children:["image"===t.type&&(0,Fs.jsxs)("div",{className:"media-inline media-inline--image",children:[(0,Fs.jsx)("img",{src:t.url,alt:t.name||"Image",onClick:e=>{e.stopPropagation(),window.open(t.url,"_blank")},style:{cursor:"pointer"}}),t.name&&(0,Fs.jsx)("span",{className:"media-caption",children:t.name})]}),"video"===t.type&&(0,Fs.jsxs)("div",{className:"media-inline media-inline--video",children:[(0,Fs.jsx)("video",{controls:!0,src:t.url,onClick:e=>e.stopPropagation(),children:"Your browser does not support video playback."}),t.name&&(0,Fs.jsx)("span",{className:"media-caption",children:t.name})]}),"audio"===t.type&&(0,Fs.jsxs)("div",{className:"media-inline media-inline--audio",children:[(0,Fs.jsxs)("div",{className:"audio-player-wrapper",children:[(0,Fs.jsx)(rs,{className:"audio-icon"}),(0,Fs.jsx)("audio",{controls:!0,src:t.url,onClick:e=>e.stopPropagation(),children:"Your browser does not support audio playback."})]}),t.name&&(0,Fs.jsx)("span",{className:"media-caption",children:t.name})]}),"file"===t.type&&(0,Fs.jsxs)("a",{href:t.url,download:t.name,className:"media-inline media-inline--file",onClick:e=>e.stopPropagation(),children:[(0,Fs.jsx)("div",{className:"file-icon-wrapper",children:(0,Fs.jsx)(ls,{})}),(0,Fs.jsxs)("div",{className:"file-info",children:[(0,Fs.jsx)("span",{className:"file-name",children:t.name||"Download file"}),t.size&&(0,Fs.jsxs)("span",{className:"file-size",children:[(t.size/1024).toFixed(1)," KB"]})]})]}),(0,Fs.jsx)("button",{className:"media__ellipsis",onClick:n=>{n.stopPropagation();const a=n.currentTarget.closest(".media-wrapper");Ne(a,e,t)},"aria-label":"Media actions",title:"Media actions",children:(0,Fs.jsx)(Wi,{})})]},t.id))}),e.content&&(0,Fs.jsxs)("p",{children:[e.content,e.edited&&(0,Fs.jsx)("span",{className:"message__edited",children:" (edited)"})]}),(0,Fs.jsxs)("div",{className:"message__footer",children:[(0,Fs.jsx)("span",{className:"message__time",children:e.createdAt?fe(e.createdAt):e.time?e.time.includes(":")?"Today ".concat(e.time.replace(":"," : ")):e.time:""}),e.isOwn&&(0,Fs.jsx)("span",{className:"message__status",children:e.read?(0,Fs.jsx)(Ri,{className:"read"}):(0,Fs.jsx)(zi,{})})]})]})]},e.id))}),R&&L.length>0&&(0,Fs.jsxs)("div",{className:"chat__selection-toolbar",children:[(0,Fs.jsxs)("div",{className:"toolbar-info",children:[(0,Fs.jsx)("button",{className:"btn-close",onClick:Ce,children:(0,Fs.jsx)(Ps,{})}),(0,Fs.jsxs)("span",{children:[L.length," selected"]})]}),(0,Fs.jsxs)("div",{className:"toolbar-actions",children:[(0,Fs.jsx)("button",{onClick:()=>{const e=xe.filter(e=>L.includes(e.id)).map(e=>"".concat(e.sender,": ").concat(e.content)).join("\n");navigator.clipboard.writeText(e).then(()=>{wl("Messages copied to clipboard"),Ce()}).catch(()=>{wl("Failed to copy messages","error")})},title:"Copy",children:(0,Fs.jsx)(zs,{})}),(0,Fs.jsx)("button",{onClick:()=>{const e=xe.filter(e=>L.includes(e.id));q(e),F(!0)},title:"Forward",children:(0,Fs.jsx)(js,{})}),(0,Fs.jsx)("button",{onClick:async()=>{if(await me("Delete ".concat(L.length," message(s)?")))try{for(const e of L)await fetch("".concat(un).concat(En,"/").concat(s,"/messages/").concat(e),{method:"DELETE"});de(e=>T(T({},e),{},{[s]:e[s].filter(e=>!L.includes(e.id))})),wl("Deleted ".concat(L.length," message(s)")),Ce()}catch(e){console.error("Delete error:",e),wl("Failed to delete messages","error")}},className:"btn-delete",title:"Delete",children:(0,Fs.jsx)(As,{})})]})]}),(0,Fs.jsxs)("div",{className:"chat__input-wrapper",children:[E&&(0,Fs.jsxs)("div",{className:"chat__reply-preview",children:[(0,Fs.jsxs)("div",{className:"reply-info",children:[(0,Fs.jsx)(gs,{}),(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("strong",{children:E.sender}),(0,Fs.jsx)("p",{children:E.content})]})]}),(0,Fs.jsx)("button",{onClick:()=>P(null),children:(0,Fs.jsx)(Ps,{})})]}),l.length>0&&(0,Fs.jsx)("div",{className:"chat__media-preview",children:l.map(e=>(0,Fs.jsxs)("div",{className:"media-item",children:["image"===e.type&&(0,Fs.jsx)("img",{src:e.url,alt:e.name}),"video"===e.type&&(0,Fs.jsxs)("div",{className:"media-item__video",children:[(0,Fs.jsx)(Is,{}),(0,Fs.jsx)("span",{children:e.name})]}),"audio"===e.type&&(0,Fs.jsxs)("div",{className:"media-item__audio",children:[(0,Fs.jsx)(rs,{}),(0,Fs.jsx)("audio",{controls:!0,src:e.url}),(0,Fs.jsx)("span",{children:e.name})]}),"file"===e.type&&(0,Fs.jsxs)("div",{className:"media-item__file",children:[(0,Fs.jsx)(ls,{}),(0,Fs.jsx)("span",{children:e.name})]}),(0,Fs.jsx)("button",{className:"media-item__remove",onClick:()=>{return t=e.id,void c(e=>e.filter(e=>e.id!==t));var t},type:"button",children:(0,Fs.jsx)(Ps,{})})]},e.id))}),(0,Fs.jsxs)("form",{className:"chat__input",onSubmit:async e=>{if(e.preventDefault(),s&&(a.trim()||l.length>0)){const e={id:Date.now(),conversationId:s,senderId:0,sender:"You",content:a,time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),createdAt:(new Date).toISOString(),isOwn:!0,read:!1,media:l.length>0?l.slice():null,replyTo:E};try{await Eu(s,e),de(t=>{const n=T(T({},t),{},{[s]:[...t[s]||[],e]});return Vn.setJSON(_n,n),n});const t={lastMessage:a||"Media",time:"Now"};await ku(s,t),ne(e=>{const n=e.map(e=>e.id===s?T(T({},e),t):e);return Vn.setJSON(jn,n),n}),i(""),c([]),P(null)}catch(t){console.error("Failed to send message:",t),wl("Failed to send message. Please try again.")}}},children:[(0,Fs.jsx)("button",{type:"button",className:"btn-attach",onClick:()=>Q.current&&Q.current.click(),title:"Attach file",children:(0,Fs.jsx)(ls,{})}),(0,Fs.jsx)("button",{type:"button",className:"btn-record ".concat(Y?"recording":""),onClick:()=>{Y?(()=>{try{const n=$.current;n&&"inactive"!==n.state&&n.stop();try{var e,t;null===(e=X.current)||void 0===e||null===(t=e.getTracks())||void 0===t||t.forEach(e=>e.stop())}catch(Fu){}}catch(n){console.error("Error stopping recorder",n)}finally{G(!1),$.current=null,X.current=null}})():(async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e);K.current=[],t.ondataavailable=e=>{e.data&&e.data.size>0&&K.current.push(e.data)},t.onstop=()=>{const e=new Blob(K.current,{type:"audio/webm"}),t=URL.createObjectURL(e),n={id:Date.now()+Math.random(),name:"voice-".concat((new Date).toISOString(),".webm"),type:"audio",url:t,size:e.size,_file:e};c(e=>[...e,n])},$.current=t,X.current=e,t.start(),G(!0)}catch(e){console.error("Microphone access denied or not available",e),wl("Unable to access microphone","error")}})()},title:Y?"Stop recording":"Record voice message",children:(0,Fs.jsx)(rs,{})}),(0,Fs.jsx)("input",{type:"text",placeholder:"Type a message...",value:a,onChange:e=>i(e.target.value)}),(0,Fs.jsx)("button",{type:"submit",className:"btn-send",children:(0,Fs.jsx)(os,{})})]}),(0,Fs.jsx)("input",{ref:Q,className:"chat__file-input",type:"file",multiple:!0,onChange:e=>{const t=Array.from(e.target.files).map(e=>({id:Date.now()+Math.random(),name:e.name,type:e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":e.type.startsWith("audio/")?"audio":"file",url:URL.createObjectURL(e),size:e.size,_file:e}));c(e=>[...e,...t]),e.target&&(e.target.value=null)},accept:"image/*,video/*,audio/*,application/*"})]})]})}),(0,Fs.jsx)(Ms,{isOpen:d,onClose:je,title:"".concat("video"===h?"Video":"Voice"," Call"),size:"medium",children:(0,Fs.jsxs)("div",{className:"call-modal",children:[(0,Fs.jsx)("div",{className:"call-modal__video",children:"video"===h?(0,Fs.jsxs)("div",{className:"video-placeholder",children:[(0,Fs.jsx)(Is,{}),(0,Fs.jsxs)("p",{children:["Video call with ",null===ye||void 0===ye?void 0:ye.name]})]}):(0,Fs.jsxs)("div",{className:"audio-placeholder",children:[(0,Fs.jsx)("div",{className:"audio-avatar",children:null===ye||void 0===ye?void 0:ye.name.charAt(0)}),(0,Fs.jsx)("h3",{children:null===ye||void 0===ye?void 0:ye.name}),(0,Fs.jsx)("p",{children:"Calling..."})]})}),(0,Fs.jsxs)("div",{className:"call-modal__controls",children:[(0,Fs.jsx)("button",{className:"btn-call-control btn-call-control--mute",title:"Mute",children:(0,Fs.jsx)(rs,{})}),"video"===h&&(0,Fs.jsx)("button",{className:"btn-call-control",title:"Toggle video",children:(0,Fs.jsx)(Is,{})}),(0,Fs.jsx)("button",{className:"btn-call-control btn-call-control--end",onClick:je,title:"End call",children:(0,Fs.jsx)(cs,{})})]})]})}),(0,Fs.jsx)(Ms,{isOpen:W,onClose:()=>J(!1),title:"Start New Chat",size:"small",children:(0,Fs.jsxs)("div",{className:"group-modal",children:[(0,Fs.jsxs)("div",{className:"modal-search",children:[(0,Fs.jsx)(xs,{}),(0,Fs.jsx)("input",{type:"text",placeholder:"Search by name or role...",value:ae,onChange:e=>re(e.target.value)})]}),(0,Fs.jsx)("div",{className:"member-list",children:0===Pe.length?(0,Fs.jsxs)("div",{className:"chat__empty-state",children:[(0,Fs.jsx)(Rs,{size:48}),(0,Fs.jsx)("p",{children:"No team members yet"}),(0,Fs.jsx)("span",{children:"Add team members from the Team page to start chatting"})]}):Pe.map(e=>{const t=te.some(t=>"individual"===t.type&&t.memberId===e.id);return(0,Fs.jsxs)("div",{className:"member-item ".concat(t?"member-item--existing":""),onClick:()=>{(async e=>{const t=te.find(t=>"individual"===t.type&&t.memberId===e);if(t)return void o(t.id);const n=Z.find(t=>t.id===e);if(!n)return void wl("Selected user is not available as a team member.");const a={id:Date.now(),name:n.name,type:"individual",lastMessage:"Start chatting",time:"Now",unread:0,memberId:e,online:n.online};try{await Su(a),ne(e=>{const t=[a,...e];return Vn.setJSON(jn,t),t}),de(e=>{const t=T(T({},e),{},{[a.id]:[]});return Vn.setJSON(_n,t),t}),o(a.id)}catch(r){console.error("Failed to create conversation:",r),wl("Failed to start chat. Please try again.")}})(e.id),J(!1)},children:[(0,Fs.jsxs)("div",{className:"member-avatar",children:[e.name.charAt(0),e.online&&(0,Fs.jsx)("span",{className:"online-dot"})]}),(0,Fs.jsxs)("div",{className:"member-info",children:[(0,Fs.jsx)("strong",{children:e.name}),(0,Fs.jsx)("span",{children:e.role})]}),t&&(0,Fs.jsx)("span",{className:"existing-badge",children:"Active"})]},e.id)})})]})}),(0,Fs.jsx)(Ms,{isOpen:p,onClose:()=>{f(!1),w(""),S(""),j([]),se("")},title:"Create New Group",size:"medium",children:(0,Fs.jsxs)("div",{className:"group-modal",children:[(0,Fs.jsxs)("div",{className:"group-modal__form",children:[(0,Fs.jsx)("label",{children:"Group Name *"}),(0,Fs.jsx)("input",{type:"text",placeholder:"Enter group name",value:_,onChange:e=>w(e.target.value)}),(0,Fs.jsx)("label",{children:"Description (Optional)"}),(0,Fs.jsx)("textarea",{placeholder:"Enter group description",value:N,onChange:e=>S(e.target.value),rows:3}),(0,Fs.jsxs)("label",{children:["Add Members * (",b.length," selected)"]}),(0,Fs.jsxs)("div",{className:"modal-search",children:[(0,Fs.jsx)(xs,{}),(0,Fs.jsx)("input",{type:"text",placeholder:"Search by name or role...",value:ie,onChange:e=>se(e.target.value)})]}),(0,Fs.jsx)("div",{className:"member-list",children:0===Ae.length?(0,Fs.jsxs)("div",{className:"chat__empty-state",children:[(0,Fs.jsx)(Rs,{size:48}),(0,Fs.jsx)("p",{children:"No members found"}),(0,Fs.jsx)("span",{children:"Try a different search or add members from the Team page"})]}):Ae.map(e=>(0,Fs.jsxs)("div",{className:"member-item ".concat(b.includes(e.id)?"member-item--selected":""),onClick:()=>Ee(e.id),children:[(0,Fs.jsxs)("div",{className:"member-avatar",children:[e.name.charAt(0),e.online&&(0,Fs.jsx)("span",{className:"online-dot"})]}),(0,Fs.jsxs)("div",{className:"member-info",children:[(0,Fs.jsx)("strong",{children:e.name}),(0,Fs.jsx)("span",{children:e.role})]}),b.includes(e.id)&&(0,Fs.jsx)(zi,{className:"check-icon"})]},e.id))})]}),(0,Fs.jsxs)("div",{className:"modal-actions",children:[(0,Fs.jsx)("button",{className:"btn-primary",onClick:async()=>{if(!_.trim()||0===b.length)return void wl("Please enter a group name and select at least one member");const e=b.filter(e=>Z.some(t=>t.id===e));if(0===e.length)return void wl("Selected members are no longer available. Please select team members.");const t=[...new Set([...e,0])],n={id:Date.now(),name:_,type:"group",lastMessage:"Group created",time:"Now",unread:0,members:t.length,memberIds:t,admins:[0],createdBy:0,description:N,icon:null};try{await Su(n),ne(e=>{const t=[n,...e];return Vn.setJSON(jn,t),t});const e={id:Date.now(),conversationId:n.id,senderId:-1,sender:"System",content:'Group "'.concat(_,'" created'),time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),createdAt:(new Date).toISOString(),isOwn:!1,isSystem:!0,read:!0};await Eu(n.id,e),de(t=>{const a=T(T({},t),{},{[n.id]:[e]});return Vn.setJSON(_n,a),a}),f(!1),w(""),S(""),j([]),o(n.id)}catch(a){console.error("Failed to create group:",a),wl("Failed to create group. Please try again.")}},children:"Create Group"}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>{f(!1),w(""),S(""),j([]),se("")},children:"Cancel"})]})]})}),(0,Fs.jsx)(Ms,{isOpen:v,onClose:()=>g(!1),title:"Group Info",size:"medium",children:(0,Fs.jsxs)("div",{className:"group-info-modal",children:[(0,Fs.jsxs)("div",{className:"group-info-header",children:[(0,Fs.jsx)("input",{type:"text",className:"group-name-input",value:_,onChange:e=>w(e.target.value),disabled:!be,placeholder:"Group name"}),(0,Fs.jsx)("textarea",{className:"group-description-input",value:N,onChange:e=>S(e.target.value),disabled:!be,placeholder:"Add group description",rows:2}),be&&(0,Fs.jsxs)("button",{className:"btn-save-info",onClick:async()=>{const e=T(T({},ye),{},{name:_||ye.name,description:N});try{await ku(s,{name:e.name,description:e.description}),ne(t=>{const n=t.map(t=>t.id===s?e:t);return Vn.setJSON(jn,n),n}),g(!1)}catch(t){console.error("Failed to update group info:",t),wl("Failed to update group info. Please try again.")}},children:[(0,Fs.jsx)(zi,{})," Save Changes"]})]}),(0,Fs.jsxs)("div",{className:"group-info-section",children:[(0,Fs.jsxs)("h3",{children:[(null===ye||void 0===ye||null===(t=ye.memberIds)||void 0===t?void 0:t.length)||0," Members",be&&(0,Fs.jsxs)("button",{className:"btn-add-member",onClick:()=>{g(!1),x(!0)},children:[(0,Fs.jsx)(Ls,{})," Add"]})]}),(0,Fs.jsx)("div",{className:"member-list",children:null===ye||void 0===ye||null===(n=ye.memberIds)||void 0===n?void 0:n.map(e=>{var t;const n=Z.find(t=>t.id===e)||{name:"You",role:"Admin",id:0},a=null===ye||void 0===ye||null===(t=ye.admins)||void 0===t?void 0:t.includes(e),r=be&&0!==e;return(0,Fs.jsxs)("div",{className:"member-item",children:[(0,Fs.jsxs)("div",{className:"member-avatar",children:[n.name.charAt(0),n.online&&(0,Fs.jsx)("span",{className:"online-dot"})]}),(0,Fs.jsxs)("div",{className:"member-info",children:[(0,Fs.jsxs)("strong",{children:[n.name,a&&(0,Fs.jsx)(Bi,{className:"admin-icon"})]}),(0,Fs.jsx)("span",{children:n.role})]}),r&&(0,Fs.jsx)("div",{className:"member-actions",children:(0,Fs.jsx)("button",{className:"btn-icon",onClick:t=>{const n=Z.find(t=>t.id===e);me("Remove ".concat((null===n||void 0===n?void 0:n.name)||"this member"," from the group?")).then(t=>{t&&(async e=>{if(!await me("Remove this member from the group?"))return;const t=T(T({},ye),{},{memberIds:ye.memberIds.filter(t=>t!==e),admins:ye.admins.filter(t=>t!==e),members:ye.memberIds.filter(t=>t!==e).length});try{await ku(s,{memberIds:t.memberIds,admins:t.admins,members:t.members}),ne(e=>{const n=e.map(e=>e.id===s?t:e);return Vn.setJSON(jn,n),n});const n=Z.find(t=>t.id===e),a={id:Date.now(),conversationId:s,senderId:-1,sender:"System",content:"You removed ".concat((null===n||void 0===n?void 0:n.name)||"member"),time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),createdAt:(new Date).toISOString(),isOwn:!1,isSystem:!0,read:!0};await Eu(s,a),de(e=>{const t=T(T({},e),{},{[s]:[...e[s]||[],a]});return Vn.setJSON(_n,t),t})}catch(n){console.error("Failed to remove member:",n),wl("Failed to remove member. Please try again.")}})(e)})},title:"Remove member",children:(0,Fs.jsx)(Os,{})})})]},e)})})]}),(0,Fs.jsx)("div",{className:"group-actions",children:be?(0,Fs.jsx)(Fs.Fragment,{children:(0,Fs.jsxs)("button",{className:"btn-danger",onClick:async()=>{if(await me("Delete this group? This action cannot be undone."))try{var e;await Cu(s),ne(e=>{const t=e.filter(e=>e.id!==s);return Vn.setJSON(jn,t),t}),de(e=>{const t=T({},e);return delete t[s],Vn.setJSON(_n,t),t}),o((null===(e=te[0])||void 0===e?void 0:e.id)||null)}catch(t){console.error("Failed to delete group:",t),wl("Failed to delete group. Please try again.")}},children:[(0,Fs.jsx)(As,{})," Delete Group"]})}):(0,Fs.jsxs)("button",{className:"btn-danger",onClick:async()=>{if(await me("Are you sure you want to leave this group?"))try{var e;await Cu(s),ne(e=>{const t=e.filter(e=>e.id!==s);return Vn.setJSON(jn,t),t}),o((null===(e=te[0])||void 0===e?void 0:e.id)||null)}catch(t){console.error("Failed to leave group:",t),wl("Failed to leave group. Please try again.")}},children:[(0,Fs.jsx)(ws,{})," Leave Group"]})})]})}),(0,Fs.jsx)(Ms,{isOpen:y,onClose:()=>{x(!1),j([]),le("")},title:"Add Members",size:"small",children:(0,Fs.jsxs)("div",{className:"group-modal",children:[(0,Fs.jsxs)("div",{className:"modal-search",children:[(0,Fs.jsx)(xs,{}),(0,Fs.jsx)("input",{type:"text",placeholder:"Search by name or role...",value:oe,onChange:e=>le(e.target.value)})]}),(0,Fs.jsx)("div",{className:"member-list",children:0===Te.length?(0,Fs.jsxs)("div",{className:"chat__empty-state",children:[(0,Fs.jsx)(Rs,{size:48}),(0,Fs.jsx)("p",{children:"No members found"}),(0,Fs.jsx)("span",{children:"Try a different search or add members from the Team page"})]}):Te.map(e=>(0,Fs.jsxs)("div",{className:"member-item ".concat(b.includes(e.id)?"member-item--selected":""),onClick:()=>Ee(e.id),children:[(0,Fs.jsxs)("div",{className:"member-avatar",children:[e.name.charAt(0),e.online&&(0,Fs.jsx)("span",{className:"online-dot"})]}),(0,Fs.jsxs)("div",{className:"member-info",children:[(0,Fs.jsx)("strong",{children:e.name}),(0,Fs.jsx)("span",{children:e.role})]}),b.includes(e.id)&&(0,Fs.jsx)(zi,{className:"check-icon"})]},e.id))}),(0,Fs.jsxs)("div",{className:"modal-actions",children:[(0,Fs.jsxs)("button",{className:"btn-primary",onClick:async()=>{const e=b.filter(e=>Z.some(t=>t.id===e)&&!ye.memberIds.includes(e));if(0===e.length)return wl("No valid members selected to add."),j([]),void x(!1);const t=T(T({},ye),{},{memberIds:[...new Set([...ye.memberIds,...e])],members:[...new Set([...ye.memberIds,...e])].length});try{await ku(s,{memberIds:t.memberIds,members:t.members}),ne(e=>{const n=e.map(e=>e.id===s?t:e);return Vn.setJSON(jn,n),n});const n=e.map(e=>{const t=Z.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.name)||"Unknown"}).join(", "),a={id:Date.now(),conversationId:s,senderId:-1,sender:"System",content:"You added ".concat(n),time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),createdAt:(new Date).toISOString(),isOwn:!1,isSystem:!0,read:!0};await Eu(s,a),de(e=>{const t=T(T({},e),{},{[s]:[...e[s]||[],a]});return Vn.setJSON(_n,t),t}),j([]),x(!1)}catch(n){console.error("Failed to add members:",n),wl("Failed to add members. Please try again.")}},disabled:0===b.length,children:["Add ",b.length>0&&"(".concat(b.length,")")]}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>{x(!1),j([]),le("")},children:"Cancel"})]})]})}),k&&(0,Fs.jsxs)("div",{className:"message-context-menu",style:{top:k.y,left:k.x},onClick:e=>e.stopPropagation(),children:[(0,Fs.jsxs)("button",{onClick:()=>{return e=k.message,P(e),void C(null);var e},children:[(0,Fs.jsx)(gs,{})," Reply"]}),(0,Fs.jsxs)("button",{onClick:()=>{return(e=k.message).content&&navigator.clipboard.writeText(e.content).then(()=>{wl("Message copied to clipboard")}).catch(()=>{wl("Failed to copy message","error")}),void C(null);var e},children:[(0,Fs.jsx)(zs,{})," Copy"]}),(0,Fs.jsxs)("button",{onClick:()=>{return e=k.message,q([e]),F(!0),void C(null);var e},children:[(0,Fs.jsx)(js,{})," Forward"]}),k.media?(0,Fs.jsxs)("button",{onClick:()=>we(k.message,k.media),children:[(0,Fs.jsx)(Vi,{})," Download"]}):k.message.media&&(0,Fs.jsxs)("button",{onClick:()=>we(k.message),children:[(0,Fs.jsx)(Vi,{})," Download Media"]}),(0,Fs.jsxs)("button",{onClick:()=>{(e=>{I(!0),D([e]);try{"undefined"!==typeof window&&window.innerWidth<=425&&he(!0)}catch(t){}})(k.message.id),C(null)},children:[(0,Fs.jsx)(Ii,{})," Select"]}),k.message.isOwn&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("hr",{}),(0,Fs.jsxs)("button",{className:"danger",onClick:()=>_e(k.message.id),children:[(0,Fs.jsx)(As,{})," Delete"]})]})]}),(0,Fs.jsx)(Ms,{isOpen:z,onClose:()=>{F(!1),q([])},title:"Forward Message",size:"small",children:(0,Fs.jsxs)("div",{className:"forward-modal",children:[(0,Fs.jsx)("p",{className:"forward-info",children:"Forward to:"}),(0,Fs.jsx)("div",{className:"conversation-list",children:te.filter(e=>e.id!==s).map(e=>(0,Fs.jsxs)("div",{className:"forward-conversation-item",onClick:()=>(async e=>{if(e&&0!==M.length)try{const t=[];for(const n of M){const a={id:Date.now()+Math.floor(1e3*Math.random()),conversationId:Number(e),senderId:0,content:n.content,time:(new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),createdAt:(new Date).toISOString(),isOwn:!0,read:!1,media:n.media||null,forwarded:!0,originalSender:n.sender},r=await Eu(e,a);de(t=>{const n=T(T({},t),{},{[e]:[...t[e]||[],r]});return Vn.setJSON(_n,n),n}),ne(t=>{const a=t.map(t=>t.id===Number(e)?T(T({},t),{},{lastMessage:n.content||(n.media?"Media":""),time:"Now"}):t);return Vn.setJSON(jn,a),a}),t.push(r)}wl("Forwarded ".concat(t.length," message(s)")),F(!1),q([]),Ce()}catch(t){console.error("Forward error:",t),wl("Failed to forward messages","error")}})(e.id),children:[(0,Fs.jsxs)("div",{className:"conversation-avatar",children:["group"===e.type&&(0,Fs.jsx)(Rs,{className:"group-icon"}),e.name.charAt(0)]}),(0,Fs.jsxs)("div",{className:"conversation-name",children:[(0,Fs.jsx)("strong",{children:e.name}),"group"===e.type&&(0,Fs.jsxs)("span",{className:"member-count",children:[" (",e.members,")"]})]})]},e.id))}),0===te.filter(e=>e.id!==s).length&&(0,Fs.jsxs)("div",{className:"chat__empty-state",children:[(0,Fs.jsx)(Rs,{size:48}),(0,Fs.jsx)("p",{children:"No other conversations"}),(0,Fs.jsx)("span",{children:"Create more conversations to forward messages"})]})]})})]})},Au=()=>{const e=w(),t=k(e=>e.settings);(0,r.useEffect)(()=>{e(Un())},[e]);const[n,a]=(0,r.useState)(null),[i,s]=(0,r.useState)(T({},t.profile)),[o,l]=(0,r.useState)(T({},t.company)),[c,d]=(0,r.useState)(T({},t.bank)),[u,h]=(0,r.useState)(t.notifications);(0,r.useEffect)(()=>{t&&(t.profile&&s(e=>T(T({},e),t.profile)),t.company&&l(e=>T(T({},e),t.company)),t.bank&&d(e=>T(T({},e),t.bank)),t.notifications&&h(e=>T(T({},e),t.notifications)))},[t.profile,t.company,t.bank,t.notifications]);const m=e=>a(e),p=()=>a(null),f=(e,t)=>{s(n=>T(T({},n),{},{[e]:t}))},v=(e,t)=>{l(n=>T(T({},n),{},{[e]:t}))},g=(e,t)=>{d(n=>T(T({},n),{},{[e]:t}))},y=(e,t)=>{h(n=>T(T({},n),{},{[e]:t}))},x=tr();return(0,Fs.jsxs)("div",{className:"settings",children:[(0,Fs.jsx)("h1",{className:"settings__title",children:"Settings"}),(0,Fs.jsxs)("div",{className:"settings__cards",children:[(0,Fs.jsxs)("div",{className:"settings__card",onClick:()=>m("profile"),role:"button",tabIndex:0,children:[(0,Fs.jsx)("h3",{children:"Your Profile"}),(0,Fs.jsx)("p",{children:"Manage your account settings and preferences."})]}),(0,Fs.jsxs)("div",{className:"settings__card",onClick:()=>m("company"),role:"button",tabIndex:0,children:[(0,Fs.jsx)("h3",{children:"Company Information"}),(0,Fs.jsx)("p",{children:"Manage your company details and business information."})]}),(0,Fs.jsxs)("div",{className:"settings__card",onClick:()=>m("bank"),role:"button",tabIndex:0,children:[(0,Fs.jsx)("h3",{children:"Bank Details"}),(0,Fs.jsx)("p",{children:"Configure your banking information for payments."})]}),(0,Fs.jsxs)("div",{className:"settings__card",onClick:()=>m("notifications"),role:"button",tabIndex:0,children:[(0,Fs.jsx)("h3",{children:"Notification Preferences"}),(0,Fs.jsx)("p",{children:"Configure how you receive notifications."})]}),(0,Fs.jsxs)("div",{className:"settings__card",onClick:()=>m("security"),role:"button",tabIndex:0,children:[(0,Fs.jsx)("h3",{children:"Security"}),(0,Fs.jsx)("p",{children:"Update your password and security settings."})]})]}),(0,Fs.jsxs)(Ms,{isOpen:"profile"===n,onClose:p,title:"Profile Settings",size:"medium",children:[(0,Fs.jsxs)("div",{className:"settings__profile-vertical",children:[(0,Fs.jsxs)("div",{className:"settings__avatar-center",children:[(0,Fs.jsx)("div",{className:"avatar-preview",children:i.avatarPreview?(0,Fs.jsx)("img",{src:i.avatarPreview,alt:"Avatar preview"}):(0,Fs.jsx)("div",{className:"avatar-placeholder",children:"No image"})}),(0,Fs.jsxs)("label",{className:"avatar-upload",children:[(0,Fs.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files&&e.target.files[0];if(!t)return;const n=new FileReader;n.onload=e=>{const n=e.target.result;s(e=>T(T({},e),{},{avatar:t,avatarPreview:n}))},n.readAsDataURL(t)}}),(0,Fs.jsx)("span",{children:"Upload photo"})]})]}),(0,Fs.jsxs)("div",{className:"settings__fields-vertical",children:[(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Full Name"}),(0,Fs.jsx)("input",{value:i.fullName,onChange:e=>f("fullName",e.target.value),type:"text",placeholder:"Enter your full name"})]}),(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Email"}),(0,Fs.jsx)("input",{value:i.email,onChange:e=>f("email",e.target.value),type:"email",placeholder:"Enter your email"})]}),(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Phone"}),(0,Fs.jsx)("input",{value:i.phone,onChange:e=>f("phone",e.target.value),type:"tel",placeholder:"Enter your phone number"})]}),(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Designation / Role"}),(0,Fs.jsx)("input",{value:i.designation,onChange:e=>f("designation",e.target.value),type:"text",placeholder:"Enter your designation or role"})]})]})]}),(0,Fs.jsxs)("div",{className:"settings__modal-footer",children:[(0,Fs.jsx)("div",{className:"settings__modal-left",children:(0,Fs.jsx)("button",{className:"btn",onClick:p,children:"Cancel"})}),(0,Fs.jsx)("div",{className:"settings__modal-right",children:(0,Fs.jsx)("button",{className:"btn btn--primary",onClick:()=>{const t=T({},i);delete t.avatar,console.log("Saving profile - local state:",i),console.log("Saving profile - safeProfile to send:",t),e(Tn(t)),e(zn(t)),p()},children:"Save"})})]})]}),(0,Fs.jsxs)(Ms,{isOpen:"company"===n,onClose:p,title:"Company Information",size:"large",children:[(0,Fs.jsxs)("div",{className:"settings__company-vertical",children:[(0,Fs.jsxs)("div",{className:"settings__avatar-center",children:[(0,Fs.jsx)("div",{className:"avatar-preview",children:o.logoPreview?(0,Fs.jsx)("img",{src:o.logoPreview,alt:"Company logo preview"}):(0,Fs.jsx)("div",{className:"avatar-placeholder",children:"No logo"})}),(0,Fs.jsxs)("label",{className:"avatar-upload",children:[(0,Fs.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files&&e.target.files[0];if(!t)return;const n=new FileReader;n.onload=e=>{const n=e.target.result;l(e=>T(T({},e),{},{logo:t,logoPreview:n}))},n.readAsDataURL(t)}}),(0,Fs.jsx)("span",{children:"Upload logo"})]})]}),(0,Fs.jsxs)("div",{className:"settings__fields-vertical",children:[(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Company Name"}),(0,Fs.jsx)("input",{value:o.name,onChange:e=>v("name",e.target.value),type:"text",placeholder:"Enter company name"})]}),(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Email"}),(0,Fs.jsx)("input",{value:o.email,onChange:e=>v("email",e.target.value),type:"email",placeholder:"Enter company email"})]}),(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Phone"}),(0,Fs.jsx)("input",{value:o.phone,onChange:e=>v("phone",e.target.value),type:"tel",placeholder:"Enter company phone"})]}),(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Address"}),(0,Fs.jsx)("textarea",{value:o.address,onChange:e=>v("address",e.target.value),placeholder:"Enter company address",rows:"3"})]})]})]}),(0,Fs.jsxs)("div",{className:"settings__modal-footer",children:[(0,Fs.jsx)("div",{className:"settings__modal-left",children:(0,Fs.jsx)("button",{className:"btn",onClick:p,children:"Cancel"})}),(0,Fs.jsx)("div",{className:"settings__modal-right",children:(0,Fs.jsx)("button",{className:"btn btn--primary",onClick:()=>{const t=T({},o);"logo"in t&&delete t.logo,e(On(t)),e(Fn(t)),console.log("Save company",o),p()},children:"Save"})})]})]}),(0,Fs.jsxs)(Ms,{isOpen:"bank"===n,onClose:p,title:"Bank Details",size:"medium",children:[(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Bank Name"}),(0,Fs.jsx)("input",{value:c.bankName,onChange:e=>g("bankName",e.target.value),type:"text",placeholder:"Enter bank name"})]}),(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Account Holder Name"}),(0,Fs.jsx)("input",{value:c.accountHolder,onChange:e=>g("accountHolder",e.target.value),type:"text",placeholder:"Enter account holder name"})]}),(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Account Number"}),(0,Fs.jsx)("input",{value:c.accountNumber,onChange:e=>g("accountNumber",e.target.value),type:"text",placeholder:"Enter account number"})]}),(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Branch"}),(0,Fs.jsx)("input",{value:c.branch,onChange:e=>g("branch",e.target.value),type:"text",placeholder:"Enter branch name"})]}),(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"IFSC"}),(0,Fs.jsx)("input",{value:c.ifsc,onChange:e=>g("ifsc",e.target.value),type:"text",placeholder:"Enter IFSC code"})]}),(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"Address"}),(0,Fs.jsx)("textarea",{value:c.address,onChange:e=>g("address",e.target.value),placeholder:"Enter branch address",rows:"3"})]}),(0,Fs.jsxs)("div",{className:"settings__form-group",children:[(0,Fs.jsx)("label",{children:"UPI ID"}),(0,Fs.jsx)("input",{value:c.upiId||"",onChange:e=>g("upiId",e.target.value),type:"text",placeholder:"Enter UPI ID (example@bank)"})]}),(0,Fs.jsxs)("div",{className:"avatar-row",style:{display:"flex",gap:"1rem",alignItems:"center"},children:[(0,Fs.jsx)("div",{className:"avatar-preview",style:{width:"120px",height:"120px"},children:c.upiQrPreview?(0,Fs.jsx)("img",{src:c.upiQrPreview,alt:"UPI QR preview"}):(0,Fs.jsx)("div",{className:"avatar-placeholder",children:"No QR"})}),(0,Fs.jsxs)("label",{className:"avatar-upload",children:[(0,Fs.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files&&e.target.files[0];if(!t)return;const n=new FileReader;n.onload=e=>{const n=e.target.result;d(e=>T(T({},e),{},{upiQr:t,upiQrPreview:n}))},n.readAsDataURL(t)}}),(0,Fs.jsx)("span",{children:"Upload QR"})]})]}),(0,Fs.jsxs)("div",{className:"settings__modal-footer",children:[(0,Fs.jsx)("div",{className:"settings__modal-left",children:(0,Fs.jsx)("button",{className:"btn",onClick:p,children:"Cancel"})}),(0,Fs.jsx)("div",{className:"settings__modal-right",children:(0,Fs.jsx)("button",{className:"btn btn--primary",onClick:()=>{const t=T({},c);"upiQr"in t&&delete t.upiQr,e(Ln(t)),e(Mn(t)),console.log("Save bank",c),p()},children:"Save"})})]})]}),(0,Fs.jsxs)(Ms,{isOpen:"notifications"===n,onClose:p,title:"Notification Preferences",size:"small",children:[(0,Fs.jsx)("div",{className:"settings__form-group",children:(0,Fs.jsxs)("label",{className:"settings__checkbox-label",children:[(0,Fs.jsx)("input",{type:"checkbox",checked:u.overall,onChange:e=>y("overall",e.target.checked)}),"Overall notifications"]})}),(0,Fs.jsx)("div",{className:"settings__form-group",children:(0,Fs.jsxs)("label",{className:"settings__checkbox-label",children:[(0,Fs.jsx)("input",{type:"checkbox",checked:u.events,onChange:e=>y("events",e.target.checked)}),"Event notifications"]})}),(0,Fs.jsx)("div",{className:"settings__form-group",children:(0,Fs.jsxs)("label",{className:"settings__checkbox-label",children:[(0,Fs.jsx)("input",{type:"checkbox",checked:u.chat,onChange:e=>y("chat",e.target.checked)}),"Chat notifications"]})}),(0,Fs.jsxs)("div",{className:"settings__modal-footer",children:[(0,Fs.jsx)("div",{className:"settings__modal-left",children:(0,Fs.jsx)("button",{className:"btn",onClick:p,children:"Cancel"})}),(0,Fs.jsx)("div",{className:"settings__modal-right",children:(0,Fs.jsx)("button",{className:"btn btn--primary",onClick:()=>{e(Dn(u)),e(qn(u)),console.log("Save notifications",u),p()},children:"Save"})})]})]}),(0,Fs.jsxs)(Ms,{isOpen:"security"===n,onClose:p,title:"Security",size:"small",children:[(0,Fs.jsxs)("div",{className:"settings__security-actions",children:[(0,Fs.jsx)("button",{className:"btn btn--login",onClick:()=>{p();try{e(Mt())}catch(Fu){}x("/login")},children:"Login to Another Account"}),(0,Fs.jsx)("button",{className:"btn btn--forgot",onClick:()=>{p();try{e(Mt())}catch(Fu){}x("/forgot-password")},children:"I Forgot My Password"}),(0,Fs.jsx)("button",{className:"btn btn--reset",onClick:()=>{p();try{e(Mt())}catch(Fu){}x("/reset-password")},children:"Reset My Password"})]}),(0,Fs.jsx)("div",{className:"settings__modal-footer",children:(0,Fs.jsx)("p",{className:"caution",children:"Clicking any of these buttons will Logout current account immediately."})})]})]})},Tu=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)([]),[i,s]=(0,r.useState)(-1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[f,v]=(0,r.useState)(!1),[g,y]=(0,r.useState)("all"),x=e=>{if(!Array.isArray(e))return[];const t=new Map;for(const n of e){if(!n||"object"!==typeof n)continue;const e=n._id?"id:".concat(n._id):n.id?"local:".concat(n.id):"idx:".concat(Math.random());t.set(e,n)}return Array.from(t.values())};(0,r.useEffect)(()=>{(async()=>{try{const e=Dt.getToken();if(e){const t=await fetch("".concat(un,"/policy"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();if(Array.isArray(e))return void a(x(e))}}}catch(Fu){}const e=Vn.getJSON(bn,[]);Array.isArray(e)&&a(x(e))})()},[]);const b=ou(),j=Xa();(0,r.useEffect)(()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.state)&&void 0!==e&&e.openAdd){w();try{window.history.replaceState({},document.title)}catch(Fu){}}},[]);const _=e=>{a(x(e)),(async()=>{try{const t=Dt.getToken();if(!t){try{Vn.setJSONAndSync(bn,e)}catch(Fu){}return}for(const n of e){if(!n||"object"!==typeof n)continue;const e=n._id||null;if(e)try{await fetch("".concat(un,"/policy/").concat(encodeURIComponent(e)),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)})}catch(Fu){}}}catch(Fu){try{Vn.setJSONAndSync(bn,e)}catch(t){}}})()},w=()=>{s(-1),t("");const e=N(),n=e&&e.length?e[0]:"Uncategorized";p(n),h(n),v(!1),l(e=>!e)},N=()=>{const e=new Set(n.map(e=>e.group||"Uncategorized"));return Array.from(e).sort()},S=()=>n.filter(e=>{const t=(e.content||"").toLowerCase().includes(c.toLowerCase())||(e.group||"").toLowerCase().includes(c.toLowerCase()),n="all"===g||(e.group||"Uncategorized")===g;return t&&n});return(0,Fs.jsxs)("div",{className:"page policy-page",children:[(0,Fs.jsxs)("div",{className:"page-header",children:[(0,Fs.jsxs)("div",{className:"page-header-left",children:[(0,Fs.jsxs)("h2",{children:[(0,Fs.jsx)(_s,{style:{marginRight:"0.5rem"}}),"Terms & Conditions Policy"]}),(0,Fs.jsx)("p",{className:"subtitle",children:"Manage your all terms and conditions policy"})]}),(0,Fs.jsx)("div",{className:"page-header-actions",children:(0,Fs.jsx)("button",{className:"btn-primary",onClick:w,children:"+ Add Term"})})]}),o&&(0,Fs.jsxs)("div",{className:"policy-form",children:[(0,Fs.jsx)("label",{htmlFor:"groupSelect",children:"Group/Category"}),(0,Fs.jsxs)("select",{id:"groupSelect",className:"group-select",value:m,onChange:e=>{const t=e.target.value;"__new"===t?(p("__new"),v(!0),h("")):(p(t),v(!1),h(t))},children:[(0,Fs.jsx)("option",{value:"",children:"-- Select group --"}),N().map(e=>(0,Fs.jsx)("option",{value:e,children:e},e)),(0,Fs.jsx)("option",{value:"__new",children:"+ Create new group..."})]}),f&&(0,Fs.jsx)("input",{type:"text",id:"groupName",value:u,onChange:e=>h(e.target.value),placeholder:"e.g., Wedding Policy, Engagement Policy, Corporate Events...",className:"group-input"}),(0,Fs.jsx)("label",{htmlFor:"policyText",children:i>-1?"Edit Term":"Enter Terms & Conditions"}),(0,Fs.jsx)("textarea",{id:"policyText",value:e,onChange:e=>t(e.target.value),placeholder:"Write terms and conditions here...",rows:6}),(0,Fs.jsxs)("div",{className:"policy-actions",children:[(0,Fs.jsx)("div",{className:"left-action",children:(0,Fs.jsx)("button",{className:"btn btn-secondary",onClick:()=>{s(-1),t(""),h(""),p(""),v(!1),l(!1)},children:"Cancel"})}),(0,Fs.jsx)("div",{className:"right-action",children:(0,Fs.jsx)("button",{className:"btn btn-primary",onClick:()=>{const r=(e||"").trim();if(!r)return;if(i>-1){const e=[...n];return e[i]=T(T({},e[i]),{},{content:r,group:u.trim()||"Uncategorized",updatedAt:Bs(new Date)}),_(e),(async()=>{try{const t=Dt.getToken();if(!t)return;const n=e[i]._id||e[i].id;await fetch("".concat(un,"/policy/").concat(encodeURIComponent(n)),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e[i])})}catch(Fu){}})(),s(-1),t(""),void h("")}const o={id:Date.now(),content:r,group:u.trim()||"Uncategorized",createdAt:Bs(new Date)},l=[o,...n];_(l),(async()=>{try{const e=Dt.getToken();if(!e)return;const t=await fetch("".concat(un,"/policy"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(o)});if(t.ok){const e=await t.json();a(t=>x(t.map(t=>t.id===o.id?e:t)))}}catch(Fu){}})(),t(""),h("")},children:i>-1?"Update":"Add Term"})})]})]}),(0,Fs.jsxs)("div",{className:"policy-list",children:[(0,Fs.jsxs)("div",{className:"policy-list-header",children:[(0,Fs.jsx)("h3",{children:"Saved Terms & Conditions"}),(0,Fs.jsxs)("div",{className:"filter-controls",children:[(0,Fs.jsxs)("select",{value:g,onChange:e=>y(e.target.value),className:"group-filter",children:[(0,Fs.jsx)("option",{value:"all",children:"All Groups"}),N().map(e=>(0,Fs.jsx)("option",{value:e,children:e},e))]}),(0,Fs.jsx)("div",{className:"search-wrap",children:(0,Fs.jsx)("input",{type:"search",placeholder:"Search terms...",value:c,onChange:e=>d(e.target.value),className:"policy-search"})})]})]}),0===n.length?(0,Fs.jsxs)("div",{className:"empty-state",children:[(0,Fs.jsx)("p",{children:"No terms and conditions added yet."}),(0,Fs.jsx)("p",{className:"muted",children:"Use the form above to add your first term."})]}):0===S().length?(0,Fs.jsxs)("div",{className:"empty-state",children:[(0,Fs.jsx)("p",{children:"No terms match your search or filter."}),(0,Fs.jsx)("p",{className:"muted",children:"Try adjusting your search or filter criteria."})]}):(0,Fs.jsx)("div",{className:"grouped-policies",children:Object.entries((()=>{const e=S(),t={};return e.forEach(e=>{const n=e.group||"Uncategorized";t[n]||(t[n]=[]),t[n].push(e)}),t})()).map(e=>{let[r,i]=e;return(0,Fs.jsxs)("div",{className:"policy-group",children:[(0,Fs.jsxs)("div",{className:"group-header",children:[(0,Fs.jsx)("h4",{className:"group-name",children:r}),(0,Fs.jsxs)("span",{className:"group-count",children:[i.length," term",1!==i.length?"s":""]})]}),(0,Fs.jsx)("div",{className:"table-wrap",children:(0,Fs.jsxs)("table",{className:"policy-table",children:[(0,Fs.jsx)("thead",{children:(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("th",{children:"No."}),(0,Fs.jsx)("th",{children:"Content"}),(0,Fs.jsx)("th",{children:"Actions"})]})}),(0,Fs.jsx)("tbody",{children:i.map((e,r)=>(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("td",{children:r+1}),(0,Fs.jsx)("td",{children:(0,Fs.jsx)("div",{className:"policy-content",children:e.content})}),(0,Fs.jsx)("td",{children:(0,Fs.jsxs)("div",{className:"action-buttons",children:[(0,Fs.jsx)("button",{className:"btn-icon btn-edit",onClick:()=>(e=>{const a=n.findIndex(t=>t._id?String(t._id)===String(e):t.id===e);if(-1===a)return;s(a),t(n[a].content||"");const r=n[a].group||"Uncategorized";h(r),p(r),v(!1),l(!0)})(e._id||e.id),title:"Edit",children:(0,Fs.jsx)(Hi,{})}),(0,Fs.jsx)("button",{className:"btn-icon btn-delete",onClick:()=>(async e=>{const t=n.find(t=>t._id?String(t._id)===String(e):t.id===e),r=t&&t.content?"".concat(String(t.content).slice(0,120)).concat((t.content.length||0)>120?"...":""):"";if(!await b("Delete this term".concat(r?': "'.concat(r,'"'):"","?")))return;const i=n.filter(t=>t._id?String(t._id)!==String(e):t.id!==e);a(x(i));try{const n=Dt.getToken();if(!t||!t._id){try{_(i)}catch(Fu){}return}if(!n){try{_(i)}catch(Fu){}return}if(!(await fetch("".concat(un,"/policy/").concat(encodeURIComponent(e)),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n)}})).ok){try{const e=await fetch("".concat(un,"/policy"),{headers:{Authorization:"Bearer ".concat(n)}});if(e.ok){const t=await e.json();Array.isArray(t)&&a(x(t))}}catch(Fu){}return}_(i)}catch(Fu){try{const e=Dt.getToken();if(e){const t=await fetch("".concat(un,"/policy"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();Array.isArray(e)&&a(x(e))}}else _(i)}catch(s){}}})(e._id||e.id),title:"Delete",children:(0,Fs.jsx)(As,{})})]})})]},e._id||e.id))})]})})]},r)})})]})]})},Ou=e=>{let{children:t}=e;const{isAuthenticated:n}=k(e=>e.auth);return n?t:(0,Fs.jsx)(xr,{to:"/login"})},Lu=e=>{let{children:t}=e;const{isAuthenticated:n}=k(e=>e.auth);return n?(0,Fs.jsx)(xr,{to:"/dashboard"}):t},Du=e=>{let{children:t}=e;return(0,Fs.jsxs)("div",{className:"app-layout",children:[(0,Fs.jsx)($s,{}),(0,Fs.jsxs)("div",{className:"app-body",children:[(0,Fs.jsx)(Ys,{}),(0,Fs.jsx)("main",{className:"app-content",children:t})]})]})},Ru=()=>(0,Fs.jsx)(ti,{children:(0,Fs.jsxs)(_r,{children:[(0,Fs.jsx)(br,{path:"/login",element:(0,Fs.jsx)(Lu,{children:(0,Fs.jsx)(Nl,{})})}),(0,Fs.jsx)(br,{path:"/register",element:(0,Fs.jsx)(Lu,{children:(0,Fs.jsx)(kl,{})})}),(0,Fs.jsx)(br,{path:"/forgot-password",element:(0,Fs.jsx)(Lu,{children:(0,Fs.jsx)(Zd,{})})}),(0,Fs.jsx)(br,{path:"/reset-password",element:(0,Fs.jsx)(Lu,{children:(0,Fs.jsx)(eu,{})})}),(0,Fs.jsx)(br,{path:"/reset-password/:token",element:(0,Fs.jsx)(Lu,{children:(0,Fs.jsx)(eu,{})})}),(0,Fs.jsx)(br,{path:"/dashboard",element:(0,Fs.jsx)(Ou,{children:(0,Fs.jsx)(Du,{children:(0,Fs.jsx)(ru,{})})})}),(0,Fs.jsx)(br,{path:"/projects",element:(0,Fs.jsx)(Ou,{children:(0,Fs.jsx)(Du,{children:(0,Fs.jsx)(lu,{})})})}),(0,Fs.jsx)(br,{path:"/events",element:(0,Fs.jsx)(Ou,{children:(0,Fs.jsx)(Du,{children:(0,Fs.jsx)(pu,{})})})}),(0,Fs.jsx)(br,{path:"/team",element:(0,Fs.jsx)(Ou,{children:(0,Fs.jsx)(Du,{children:(0,Fs.jsx)(gu,{})})})}),(0,Fs.jsx)(br,{path:"/services",element:(0,Fs.jsx)(Ou,{children:(0,Fs.jsx)(Du,{children:(0,Fs.jsx)(yu,{})})})}),(0,Fs.jsx)(br,{path:"/quotations",element:(0,Fs.jsx)(Ou,{children:(0,Fs.jsx)(Du,{children:(0,Fs.jsx)(_u,{})})})}),(0,Fs.jsx)(br,{path:"/billing",element:(0,Fs.jsx)(Ou,{children:(0,Fs.jsx)(Du,{children:(0,Fs.jsx)(Nu,{})})})}),(0,Fs.jsx)(br,{path:"/chat",element:(0,Fs.jsx)(Ou,{children:(0,Fs.jsx)(Du,{children:(0,Fs.jsx)(Pu,{})})})}),(0,Fs.jsx)(br,{path:"/settings",element:(0,Fs.jsx)(Ou,{children:(0,Fs.jsx)(Du,{children:(0,Fs.jsx)(Au,{})})})}),(0,Fs.jsx)(br,{path:"/policy",element:(0,Fs.jsx)(Ou,{children:(0,Fs.jsx)(Du,{children:(0,Fs.jsx)(Tu,{})})})}),(0,Fs.jsx)(br,{path:"/",element:(0,Fs.jsx)(xr,{to:"/dashboard"})}),(0,Fs.jsx)(br,{path:"*",element:(0,Fs.jsx)(xr,{to:"/dashboard"})})]})});const Iu=function(){return(0,Fs.jsx)(g,{store:Jn,children:(0,Fs.jsx)(su,{children:(0,Fs.jsx)(Ru,{})})})},zu=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,488)).then(t=>{let{getCLS:n,getFID:a,getFCP:r,getLCP:i,getTTFB:s}=t;n(e),a(e),r(e),i(e),s(e)})};try{(async()=>{try{if("undefined"!==typeof window&&window.caches)try{const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}catch(Fu){}if("undefined"!==typeof window&&window.indexedDB)try{if("function"===typeof window.indexedDB.databases){const e=await window.indexedDB.databases();await Promise.all((e||[]).map(e=>new Promise(t=>{try{const n=window.indexedDB.deleteDatabase(e.name);n.onsuccess=()=>t(!0),n.onerror=()=>t(!1)}catch(Fu){t(!1)}})))}}catch(Fu){}if("undefined"!==typeof navigator&&navigator.serviceWorker)try{const e=await navigator.serviceWorker.getRegistrations();await Promise.all(e.map(e=>e.unregister().catch(()=>{})))}catch(Fu){}return!0}catch(Fu){return!1}})().then(e=>{e?console.log("\u2713 Cleared all local app data"):console.warn("clearAllLocalAppData returned false")}).catch(e=>console.warn("Failed to clear local data:",e))}catch(Fu){console.warn("Failed to clear local data:",Fu)}i.createRoot(document.getElementById("root")).render((0,Fs.jsx)(r.StrictMode,{children:(0,Fs.jsx)(Iu,{})})),zu()})();
//# sourceMappingURL=main.09decef9.js.map